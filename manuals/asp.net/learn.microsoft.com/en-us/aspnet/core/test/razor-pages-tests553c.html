 <!DOCTYPE html>
		<html
			class="layout layout-holy-grail   show-table-of-contents conceptual show-breadcrumb default-focus"
			lang="en-us"
			dir="ltr"
			data-authenticated="false"
			data-auth-status-determined="false"
			data-target="docs"
			x-ms-format-detection="none"
		>
			
		
<!-- Mirrored from learn.microsoft.com/en-us/aspnet/core/test/razor-pages-tests?view=aspnetcore-9.0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 14:53:03 GMT -->
<head>
			<title>Razor Pages unit tests in ASP.NET Core | Microsoft Learn</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			<meta name="color-scheme" content="light dark" />

			<meta name="description" content="Learn how to create unit tests for Razor Pages apps." />
			<link rel="canonical" href="razor-pages-tests553c.html?view=aspnetcore-9.0" /> 

			<!-- Non-customizable open graph and sharing-related metadata -->
			<meta name="twitter:card" content="summary" />
			<meta name="twitter:site" content="@MicrosoftLearn" />
			<meta property="og:type" content="website" />
			<meta property="og:image:alt" content="Razor Pages unit tests in ASP.NET Core | Microsoft Learn" />
			<meta property="og:image" content="https://learn.microsoft.com/dotnet/media/dotnet-logo.png" />
			<!-- Page specific open graph and sharing-related metadata -->
			<meta property="og:title" content="Razor Pages unit tests in ASP.NET Core" />
			<meta property="og:url" content="razor-pages-tests553c.html?view=aspnetcore-9.0" />
			<meta property="og:description" content="Learn how to create unit tests for Razor Pages apps." />
			<meta name="platform_id" content="a81dec79-ea96-b3f4-d1ed-4ed4acf586dd" /> <meta name="scope" content="ASP.NET Core" />
			<meta name="locale" content="en-us" />
			 <meta name="adobe-target" content="true" />
			<meta name="uhfHeaderId" content="MSDocsHeader-AspNet" />

			<meta name="page_type" content="conceptual" />

			<!--page specific meta tags-->
			

			<!-- custom meta tags -->
			
		<meta name="breadcrumb_path" content="/aspnet/core/breadcrumb/toc.json" />
	
		<meta name="feedback_system" content="OpenSource" />
	
		<meta name="feedback_product_url" content="https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md" />
	
		<meta name="ms.service" content="aspnet-core" />
	
		<meta name="ms.topic" content="conceptual" />
	
		<meta name="ms.subservice" content="testing" />
	
		<meta name="author" content="wadepickett" />
	
		<meta name="monikerRange" content="&gt;= aspnetcore-2.1" />
	
		<meta name="ms.author" content="wpickett" />
	
		<meta name="ms.custom" content="mvc" />
	
		<meta name="ms.date" content="2020-07-30T00:00:00Z" />
	
		<meta name="uid" content="test/razor-pages-tests" />
	
		<meta name="document_id" content="28ae5984-32b1-13b6-7430-6a28460b42ce" />
	
		<meta name="document_version_independent_id" content="20dc0e1d-d582-c091-8243-cefbb1825397" />
	
		<meta name="updated_at" content="2025-07-30T11:33:00Z" />
	
		<meta name="original_content_git_url" content="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/test/razor-pages-tests.md" />
	
		<meta name="gitcommit" content="https://github.com/dotnet/AspNetCore.Docs/blob/0e174789c3df32ca0ba27dc8034dafe795073688/aspnetcore/test/razor-pages-tests.md" />
	
		<meta name="git_commit_id" content="0e174789c3df32ca0ba27dc8034dafe795073688" />
	
		<meta name="monikers" content="aspnetcore-2.1" />
	
		<meta name="monikers" content="aspnetcore-2.2" />
	
		<meta name="monikers" content="aspnetcore-3.0" />
	
		<meta name="monikers" content="aspnetcore-3.1" />
	
		<meta name="monikers" content="aspnetcore-5.0" />
	
		<meta name="monikers" content="aspnetcore-6.0" />
	
		<meta name="monikers" content="aspnetcore-7.0" />
	
		<meta name="monikers" content="aspnetcore-8.0" />
	
		<meta name="monikers" content="aspnetcore-9.0" />
	
		<meta name="monikers" content="aspnetcore-10.0" />
	
		<meta name="default_moniker" content="aspnetcore-9.0" />
	
		<meta name="site_name" content="Docs" />
	
		<meta name="depot_name" content="MSDN.aspnet-core-conceptual" />
	
		<meta name="schema" content="Conceptual" />
	
		<meta name="toc_rel" content="../toc.json" />
	
		<meta name="pdf_url_template" content="https://learn.microsoft.com/pdfstore/en-us/MSDN.aspnet-core-conceptual/{branchName}{pdfName}" />
	
		<meta name="feedback_help_link_type" content="" />
	
		<meta name="feedback_help_link_url" content="" />
	
		<meta name="word_count" content="3801" />
	
		<meta name="config_moniker_range" content="&gt;= aspnetcore-1.0" />
	
		<meta name="asset_id" content="test/razor-pages-tests" />
	
		<meta name="moniker_range_name" content="37fa60b1fa5386966cfa742f834a698e" />
	
		<meta name="item_type" content="Content" />
	
		<meta name="source_path" content="aspnetcore/test/razor-pages-tests.md" />
	
		<meta name="previous_tlsh_hash" content="FF7E4892420DD150DEC05F2AA8F6AD4C34F38084F5A0BFC4026166D1C72E2DA33B8648775F267B6A5B39965762A6780E32C7EB0AE06C57B22912ECEC918853C55B6E277FD1" />
	
		<meta name="github_feedback_content_git_url" content="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/test/razor-pages-tests.md" />
	 
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/d452572f-6212-498f-9050-ca4a9e50a425" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/a12e40b7-59a2-4437-96e2-166ce622b864" data-source="generated" />
	

			<!-- assets and js globals -->
			
			<link rel="stylesheet" href="https://learn.microsoft.com/static/assets/0.4.03137.7032-e8b681c0/styles/site-ltr.css" />
			<link rel="preconnect" href="http://mscom.demdex.net/" crossorigin />
						<link rel="dns-prefetch" href="http://target.microsoft.com/" />
						<link rel="dns-prefetch" href="http://microsoftmscompoc.tt.omtrdc.net/" />
						<link
							rel="preload"
							as="script"
							href="https://learn.microsoft.com/static/third-party/adobe-target/at-js/2.9.0/at.js"
							integrity="sha384-1/viVM50hgc33O2gOgkWz3EjiD/Fy/ld1dKYXJRUyjNYVEjSUGcSN+iPiQF7e4cu"
							crossorigin="anonymous"
							id="adobe-target-script"
							type="application/javascript"
						/>
			<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
			<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-4.min.js"></script>
			<script src="https://learn.microsoft.com/_themes/docs.theme/master/en-us/_themes/global/deprecation.js"></script>

			<!-- msdocs global object -->
			<script id="msdocs-script">
		var msDocs = {
  "environment": {
    "accessLevel": "online",
    "azurePortalHostname": "portal.azure.com",
    "reviewFeatures": false,
    "supportLevel": "production",
    "systemContent": true,
    "siteName": "learn",
    "legacyHosting": false
  },
  "data": {
    "contentLocale": "en-us",
    "contentDir": "ltr",
    "userLocale": "en-us",
    "userDir": "ltr",
    "pageTemplate": "Conceptual",
    "brand": "",
    "context": {},
    "standardFeedback": false,
    "showFeedbackReport": false,
    "feedbackHelpLinkType": "",
    "feedbackHelpLinkUrl": "",
    "feedbackSystem": "OpenSource",
    "feedbackGitHubRepo": "dotnet/AspNetCore.Docs",
    "feedbackProductUrl": "https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md",
    "extendBreadcrumb": false,
    "isEditDisplayable": true,
    "isPrivateUnauthorized": false,
    "hideViewSource": false,
    "isPermissioned": false,
    "hasRecommendations": true,
    "contributors": [
      {
        "name": "wadepickett",
        "url": "https://github.com/wadepickett"
      },
      {
        "name": "Copilot",
        "url": "https://github.com/Copilot"
      },
      {
        "name": "tdykstra",
        "url": "https://github.com/tdykstra"
      },
      {
        "name": "Rick-Anderson",
        "url": "https://github.com/Rick-Anderson"
      },
      {
        "name": "TheMythoclast",
        "url": "https://github.com/TheMythoclast"
      },
      {
        "name": "guardrex",
        "url": "https://github.com/guardrex"
      },
      {
        "name": "serpent5",
        "url": "https://github.com/serpent5"
      },
      {
        "name": "ahmadrasyidsalim",
        "url": "https://github.com/ahmadrasyidsalim"
      },
      {
        "name": "scottaddie",
        "url": "https://github.com/scottaddie"
      },
      {
        "name": "mihail-vladov",
        "url": "https://github.com/mihail-vladov"
      },
      {
        "name": "fasalex",
        "url": "https://github.com/fasalex"
      }
    ],
    "openSourceFeedbackIssueUrl": "https://github.com/dotnet/aspnetcore.docs/issues/new?template=customer-feedback.yml",
    "openSourceFeedbackIssueTitle": "",
    "openSourceFeedbackIssueLabels": "Source - Docs.ms,:watch: Not Triaged"
  },
  "functions": {}
};;
	</script>

			<!-- base scripts, msdocs global should be before this -->
			<script src="https://learn.microsoft.com/static/assets/0.4.03137.7032-e8b681c0/scripts/en-us/index-docs.js"></script>
			

			<!-- json-ld -->
			
		</head>
	
			<body
				id="body"
				data-bi-name="body"
				class="layout-body "
				lang="en-us"
				dir="ltr"
			>
				<header class="layout-body-header">
		<div class="header-holder has-default-focus">
			
		<a
			href="#main"
			
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			
		>
			Skip to main content
		</a>
	
		<a
			href="#"
			data-skip-to-ask-learn
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			hidden
		>
			Skip to Ask Learn chat experience
		</a>
	

			<div hidden id="cookie-consent-holder" data-test-id="cookie-consent-container"></div>
			<!-- Unsupported browser warning -->
			<div
				id="unsupported-browser"
				style="background-color: white; color: black; padding: 16px; border-bottom: 1px solid grey;"
				hidden
			>
				<div style="max-width: 800px; margin: 0 auto;">
					<p style="font-size: 24px">This browser is no longer supported.</p>
					<p style="font-size: 16px; margin-top: 16px;">
						Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
					</p>
					<div style="margin-top: 12px;">
						<a
							href="https://go.microsoft.com/fwlink/p/?LinkID=2092881"
							style="background-color: #0078d4; border: 1px solid #0078d4; color: white; padding: 6px 12px; border-radius: 2px; display: inline-block;"
						>
							Download Microsoft Edge
						</a>
						<a
							href="https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge"
							style="background-color: white; padding: 6px 12px; border: 1px solid #505050; color: #171717; border-radius: 2px; display: inline-block;"
						>
							More info about Internet Explorer and Microsoft Edge
						</a>
					</div>
				</div>
			</div>
			<!-- site header -->
			<header
				id="ms--site-header"
				data-test-id="site-header-wrapper"
				role="banner"
				itemscope="itemscope"
				itemtype="http://schema.org/Organization"
			>
				<div
					id="ms--mobile-nav"
					class="site-header display-none-tablet padding-inline-none gap-none"
					data-bi-name="mobile-header"
					data-test-id="mobile-header"
				></div>
				<div
					id="ms--primary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L1-header"
					data-test-id="primary-header"
				></div>
				<div
					id="ms--secondary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L2-header"
					data-test-id="secondary-header"
				></div>
			</header>
			
		<!-- banner -->
		<div data-banner>
			<div id="disclaimer-holder"></div>
			
		</div>
		<!-- banner end -->
	
		</div>
	</header>
				 <section
					id="layout-body-menu"
					class="layout-body-menu display-flex"
					data-bi-name="menu"
			  >
					<div
		id="left-container"
		class="left-container display-none display-block-tablet padding-inline-sm padding-bottom-sm width-full"
	>
		<nav
			id="affixed-left-container"
			class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
			aria-label="Primary"
		></nav>
	</div>
			  </section>

				<main
					id="main"
					role="main"
					class="layout-body-main "
					data-bi-name="content"
					lang="en-us"
					dir="ltr"
				>
					
			<div
		id="ms--content-header"
		class="content-header default-focus border-bottom-none"
		data-bi-name="content-header"
	>
		<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
			<button
				type="button"
				class="contents-button button button-sm margin-right-xxs"
				data-bi-name="contents-expand"
				aria-haspopup="true"
				data-contents-button
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-menu"></span></span>
				<span class="contents-expand-title"> Table of contents </span>
			</button>
			<button
				type="button"
				class="ap-collapse-behavior ap-expanded button button-sm"
				data-bi-name="ap-collapse"
				aria-controls="action-panel"
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-exit-mode"></span></span>
				<span>Exit editor mode</span>
			</button>
		</div>
	</div>
			<div data-main-column class="padding-sm padding-top-none padding-top-sm-tablet">
				<div>
					
		<div id="article-header" class="background-color-body margin-bottom-xs display-none-print">
			<div class="display-flex align-items-center justify-content-space-between">
				
		<details
			id="article-header-breadcrumbs-overflow-popover"
			class="popover"
			data-for="article-header-breadcrumbs"
		>
			<summary
				class="button button-clear button-primary button-sm inner-focus"
				aria-label="All breadcrumbs"
			>
				<span class="icon">
					<span class="docon docon-more"></span>
				</span>
			</summary>
			<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"></div>
		</details>

		<bread-crumbs
			id="article-header-breadcrumbs"
			data-test-id="article-header-breadcrumbs"
			class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop margin-left-negative-xxs padding-left-xxs"
		></bread-crumbs>
	 
		<div
			id="article-header-page-actions"
			class="opacity-none margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch"
		>
			
		<button
			class="button button-sm border-none inner-focus display-none-tablet flex-shrink-0 "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-mobile"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-none display-inline-flex-tablet display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-tablet"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs	border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-flyout-entry"
			data-ask-learn-flyout-entry
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	 
		<button
			type="button"
			id="ms--focus-mode-button"
			data-focus-mode
			data-bi-name="focus-mode-entry"
			class="button button-sm flex-shrink-0 margin-right-xxs display-none display-inline-flex-desktop"
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-glasses"></span>
			</span>
			<span>Focus mode</span>
		</button>
	 

			<details class="popover popover-right" id="article-header-page-actions-overflow">
				<summary
					class="justify-content-flex-start button button-clear button-sm button-primary inner-focus"
					aria-label="More actions"
					title="More actions"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-more-vertical"></span>
					</span>
				</summary>
				<div class="popover-content">
					
		<button
			data-page-action-item="overflow-mobile"
			type="button"
			class="button-block button-sm has-inner-focus button button-clear display-none-tablet justify-content-flex-start text-align-left"
			data-bi-name="contents-expand"
			data-contents-button
			data-popover-close
		>
			<span class="icon">
				<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
			</span>
			<span class="contents-expand-title">Table of contents</span>
		</button>
	 
		<a
			id="lang-link-overflow"
			class="button-sm has-inner-focus button button-clear button-block justify-content-flex-start text-align-left"
			data-bi-name="language-toggle"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-read-in-link
			href="#"
			hidden
		>
			<span class="icon" aria-hidden="true" data-read-in-link-icon>
				<span class="docon docon-locale-globe"></span>
			</span>
			<span data-read-in-link-text>Read in English</span>
		</a>
	 
		<button
			type="button"
			class="collection button button-clear button-sm button-block justify-content-flex-start text-align-left inner-focus"
			data-list-type="collection"
			data-bi-name="collection"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="collection-status">Add</span>
		</button>
	
					
		<button
			type="button"
			class="collection button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			data-list-type="plan"
			data-bi-name="plan"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="plan-status">Add to plan</span>
		</button>
	  
		<a
			data-contenteditbtn
			class="button button-clear button-block button-sm inner-focus justify-content-flex-start text-align-left text-decoration-none"
			data-bi-name="edit"
			
			href="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/test/razor-pages-tests.md"
			data-original_content_git_url="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/test/razor-pages-tests.md"
			data-original_content_git_url_template="{repo}/blob/{branch}/aspnetcore/test/razor-pages-tests.md"
			data-pr_repo=""
			data-pr_branch=""
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-edit-outline"></span>
			</span>
			<span>Edit</span>
		</a>
	
					
		<hr class="margin-block-xxs" />
		<h4 class="font-size-sm padding-left-xxs">Share via</h4>
		
					<a
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-facebook"
						data-bi-name="facebook"
						data-page-action-item="overflow-all"
						href="#"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-facebook-share"></span>
						</span>
						<span>Facebook</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-twitter"
						data-bi-name="twitter"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-text" aria-hidden="true">
							<span class="docon docon-xlogo-share"></span>
						</span>
						<span>x.com</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-linkedin"
						data-bi-name="linkedin"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-linked-in-logo"></span>
						</span>
						<span>LinkedIn</span>
					</a>
					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-email"
						data-bi-name="email"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-mail-message"></span>
						</span>
						<span>Email</span>
					</a>
			  
	 
		<hr class="margin-block-xxs" />
		<button
			class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			type="button"
			data-bi-name="print"
			data-page-action-item="overflow-all"
			data-popover-close
			data-print-page
			data-check-hidden="true"
		>
			<span class="icon color-primary" aria-hidden="true">
				<span class="docon docon-print"></span>
			</span>
			<span>Print</span>
		</button>
	
				</div>
			</details>
		</div>
	
			</div>
		</div>
	
					<!-- azure disclaimer -->
					
					<!-- privateUnauthorizedTemplate is hidden by default -->
					
		<div unauthorized-private-section data-bi-name="permission-content-unauthorized-private" hidden>
			<hr class="hr margin-top-xs margin-bottom-sm" />
			<div class="notification notification-info">
				<div class="notification-content">
					<p class="margin-top-none notification-title">
						<span class="icon">
							<span class="docon docon-exclamation-circle-solid" aria-hidden="true"></span>
						</span>
						<span>Note</span>
					</p>
					<p class="margin-top-none authentication-determined not-authenticated">
						Access to this page requires authorization. You can try <a class="docs-sign-in" href="#" data-bi-name="permission-content-sign-in">signing in</a> or <a  class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
					<p class="margin-top-none authentication-determined authenticated">
						Access to this page requires authorization. You can try <a class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
				</div>
			</div>
		</div>
	
					<div class="content"><h1 id="razor-pages-unit-tests-in-aspnet-core">Razor Pages unit tests in ASP.NET Core</h1></div>
					
		<div
			id="article-metadata"
			class="page-metadata-container display-flex gap-xxs justify-content-space-between align-items-center flex-wrap-wrap"
		>
			
		<div class="margin-block-xxs">
			<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
				  <li class="visibility-hidden-visual-diff">
			<local-time
				format="twoDigitNumeric"
				datetime="2023-09-17T20:25:00.000Z"
				data-article-date-source="calculated"
				class="is-invisible"
			>
				2023-09-17
			</local-time>
		</li>  
			</ul>
		</div>
	 
				<div
					id="user-feedback"
					class="margin-block-xxs display-none display-none-print"
					hidden
					data-hide-on-archived
				>
					
		<button
			id="user-feedback-button"
			data-test-id="conceptual-feedback-button"
			class="button button-sm button-clear button-primary display-none"
			type="button"
			data-bi-name="user-feedback-button"
			data-user-feedback-button
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-like"></span>
			</span>
			<span>Feedback</span>
		</button>
	
				</div>
		  
		</div>
	 
		<nav
			id="center-doc-outline"
			class="doc-outline is-hidden-desktop display-none-print margin-bottom-sm"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h2 id="ms--in-this-article" class="title is-6 margin-block-xs">
				In this article
			</h2>
		</nav>
	
					<div class="content"><div data-moniker="aspnetcore-10.0 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0 aspnetcore-9.0">
<p>ASP.NET Core supports unit tests of Razor Pages apps. Tests of the data access layer (DAL) and page models help ensure:</p>
<ul>
<li>Parts of a Razor Pages app work independently and together as a unit during app construction.</li>
<li>Classes and methods have limited scopes of responsibility.</li>
<li>Additional documentation exists on how the app should behave.</li>
<li>Regressions, which are errors brought about by updates to the code, are found during automated building and deployment.</li>
</ul>
<p>This topic assumes that you have a basic understanding of Razor Pages apps and unit tests. If you're unfamiliar with Razor Pages apps or test concepts, see the following topics:</p>
<ul>
<li><a href="../razor-pages/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to Razor Pages in ASP.NET Core</a></li>
<li><a href="../tutorials/razor-pages/razor-pages-start553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Tutorial: Get started with Razor Pages in ASP.NET Core</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-dotnet-test" data-linktype="absolute-path">Testing with <code>dotnet test</code></a></li>
</ul>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/test/razor-pages-tests/samples" data-linktype="external">View or download sample code</a> (<a href="../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>)</p>
<p>The sample project is composed of two apps:</p>
<table>
<thead>
<tr>
<th>App</th>
<th>Project folder</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Message app</td>
<td><em>src/RazorPagesTestSample</em></td>
<td>Allows a user to add a message, delete one message, delete all messages, and analyze messages (find the average number of words per message).</td>
</tr>
<tr>
<td>Test app</td>
<td><em>tests/RazorPagesTestSample.Tests</em></td>
<td>Used to unit test the DAL and Index page model of the message app.</td>
</tr>
</tbody>
</table>
<p>The tests can be run using the built-in test features of an IDE, such as <a href="https://learn.microsoft.com/en-us/visualstudio/test/unit-test-your-code" data-linktype="absolute-path">Visual Studio</a>. If using <a href="https://code.visualstudio.com/" data-linktype="external">Visual Studio Code</a> or the command line, execute the following command at a command prompt in the <em>tests/RazorPagesTestSample.Tests</em> folder:</p>
<pre><code class="lang-dotnetcli">dotnet test
</code></pre>
<h2 id="message-app-organization">Message app organization</h2>
<p>The message app is a Razor Pages message system with the following characteristics:</p>
<ul>
<li>The Index page of the app (<code>Pages/Index.cshtml</code> and <code>Pages/Index.cshtml.cs</code>) provides a UI and page model methods to control the addition, deletion, and analysis of messages (find the average number of words per message).</li>
<li>A message is described by the <code>Message</code> class (<code>Data/Message.cs</code>) with two properties: <code>Id</code> (key) and <code>Text</code> (message). The <code>Text</code> property is required and limited to 200 characters.</li>
<li>Messages are stored using <a href="https://learn.microsoft.com/en-us/ef/core/providers/in-memory/" data-linktype="absolute-path">Entity Framework's in-memory database</a>†.</li>
<li>The app contains a DAL in its database context class, <code>AppDbContext</code> (<code>Data/AppDbContext.cs</code>). The DAL methods are marked <code>virtual</code>, which allows mocking the methods for use in the tests.</li>
<li>If the database is empty on app startup, the message store is initialized with three messages. These <em>seeded messages</em> are also used in tests.</li>
</ul>
<p>†The EF topic, <a href="https://learn.microsoft.com/en-us/ef/core/miscellaneous/testing/in-memory" data-linktype="absolute-path">Test with InMemory</a>, explains how to use an in-memory database for tests with MSTest. This topic uses the <a href="https://github.com/xunit/xunit" data-linktype="external">xUnit</a> test framework. Test concepts and test implementations across different test frameworks are similar but not identical.</p>
<p>Although the sample app doesn't use the repository pattern and isn't an effective example of the <a href="https://martinfowler.com/eaaCatalog/unitOfWork.html" data-linktype="external">Unit of Work (UoW) pattern</a>, Razor Pages supports these patterns of development. For more information, see <a href="https://learn.microsoft.com/en-us/dotnet/standard/microservices-architecture/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design" data-linktype="absolute-path">Designing the infrastructure persistence layer</a> and <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/testing?view=aspnetcore-9.0" data-linktype="relative-path">Test controller logic in ASP.NET Core</a> (the sample implements the repository pattern).</p>
<h2 id="test-app-organization">Test app organization</h2>
<p>The test app is a console app inside the <em>tests/RazorPagesTestSample.Tests</em> folder.</p>
<table>
<thead>
<tr>
<th>Test app folder</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>UnitTests</em></td>
<td><ul><li><code>DataAccessLayerTest.cs</code> contains the unit tests for the DAL.</li><li><code>IndexPageTests.cs</code> contains the unit tests for the Index page model.</li></ul></td>
</tr>
<tr>
<td><em>Utilities</em></td>
<td>Contains the <code>TestDbContextOptions</code> method used to create new database context options for each DAL unit test so that the database is reset to its baseline condition for each test.</td>
</tr>
</tbody>
</table>
<p>The test framework is <a href="https://github.com/xunit/xunit" data-linktype="external">xUnit</a>. The object mocking framework is <a href="https://github.com/moq/moq4" data-linktype="external">Moq</a>.</p>
<h2 id="unit-tests-of-the-data-access-layer-dal">Unit tests of the data access layer (DAL)</h2>
<p>The message app has a DAL with four methods contained in the <code>AppDbContext</code> class (<code>src/RazorPagesTestSample/Data/AppDbContext.cs</code>). Each method has one or two unit tests in the test app.</p>
<table>
<thead>
<tr>
<th>DAL method</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GetMessagesAsync</code></td>
<td>Obtains a <code>List&lt;Message&gt;</code> from the database sorted by the <code>Text</code> property.</td>
</tr>
<tr>
<td><code>AddMessageAsync</code></td>
<td>Adds a <code>Message</code> to the database.</td>
</tr>
<tr>
<td><code>DeleteAllMessagesAsync</code></td>
<td>Deletes all <code>Message</code> entries from the database.</td>
</tr>
<tr>
<td><code>DeleteMessageAsync</code></td>
<td>Deletes a single <code>Message</code> from the database by <code>Id</code>.</td>
</tr>
</tbody>
</table>
<p>Unit tests of the DAL require <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontextoptions" class="no-loc" data-linktype="absolute-path">DbContextOptions</a> when creating a new <code>AppDbContext</code> for each test. One approach to creating the <code>DbContextOptions</code> for each test is to use a <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder" class="no-loc" data-linktype="absolute-path">DbContextOptionsBuilder</a>:</p>
<pre><code class="lang-csharp">var optionsBuilder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
    .UseInMemoryDatabase("InMemoryDb");

using (var db = new AppDbContext(optionsBuilder.Options))
{
    // Use the db here in the unit test.
}
</code></pre>
<p>The problem with this approach is that each test receives the database in whatever state the previous test left it. This can be problematic when trying to write atomic unit tests that don't interfere with each other. To force the <code>AppDbContext</code> to use a new database context for each test, supply a <code>DbContextOptions</code> instance that's based on a new service provider. The test app shows how to do this using its <code>Utilities</code> class method <code>TestDbContextOptions</code> (<code>tests/RazorPagesTestSample.Tests/Utilities/Utilities.cs</code>):</p>
<pre><code class="lang-csharp">public static DbContextOptions&lt;AppDbContext&gt; TestDbContextOptions()
{
    // Create a new service provider to create a new in-memory database.
    var serviceProvider = new ServiceCollection()
        .AddEntityFrameworkInMemoryDatabase()
        .BuildServiceProvider();

    // Create a new options instance using an in-memory database and 
    // IServiceProvider that the context should resolve all of its 
    // services from.
    var builder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
        .UseInMemoryDatabase("InMemoryDb")
        .UseInternalServiceProvider(serviceProvider);

    return builder.Options;
}
</code></pre>
<p>Using the <code>DbContextOptions</code> in the DAL unit tests allows each test to run atomically with a fresh database instance:</p>
<pre><code class="lang-csharp">using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
{
    // Use the db here in the unit test.
}
</code></pre>
<p>Each test method in the <code>DataAccessLayerTest</code> class (<code>UnitTests/DataAccessLayerTest.cs</code>) follows a similar Arrange-Act-Assert pattern:</p>
<ol>
<li>Arrange: The database is configured for the test and/or the expected outcome is defined.</li>
<li>Act: The test is executed.</li>
<li>Assert: Assertions are made to determine if the test result is a success.</li>
</ol>
<p>For example, the <code>DeleteMessageAsync</code> method is responsible for removing a single message identified by its <code>Id</code> (<code>src/RazorPagesTestSample/Data/AppDbContext.cs</code>):</p>
<pre><code class="lang-csharp">public async virtual Task DeleteMessageAsync(int id)
{
    var message = await Messages.FindAsync(id);

    if (message != null)
    {
        Messages.Remove(message);
        await SaveChangesAsync();
    }
}
</code></pre>
<p>There are two tests for this method. One test checks that the method deletes a message when the message is present in the database. The other method tests that the database doesn't change if the message <code>Id</code> for deletion doesn't exist. The <code>DeleteMessageAsync_MessageIsDeleted_WhenMessageIsFound</code> method is shown below:</p>
<pre><code class="lang-csharp">[Fact]
public async Task DeleteMessageAsync_MessageIsDeleted_WhenMessageIsFound()
{
    using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
    {
        // Arrange
        var seedMessages = AppDbContext.GetSeedingMessages();
        await db.AddRangeAsync(seedMessages);
        await db.SaveChangesAsync();
        var recId = 1;
        var expectedMessages = 
            seedMessages.Where(message =&gt; message.Id != recId).ToList();

        // Act
        await db.DeleteMessageAsync(recId);

        // Assert
        var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
        Assert.Equal(
            expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
            actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
    }
}
</code></pre>
<p>First, the method performs the Arrange step, where preparation for the Act step takes place. The seeding messages are obtained and held in <code>seedMessages</code>. The seeding messages are saved into the database. The message with an <code>Id</code> of <code>1</code> is set for deletion. When the <code>DeleteMessageAsync</code> method is executed, the expected messages should have all of the messages except for the one with an <code>Id</code> of <code>1</code>. The <code>expectedMessages</code> variable represents this expected outcome.</p>
<pre><code class="lang-csharp">// Arrange
var seedMessages = AppDbContext.GetSeedingMessages();
await db.AddRangeAsync(seedMessages);
await db.SaveChangesAsync();
var recId = 1;
var expectedMessages = 
    seedMessages.Where(message =&gt; message.Id != recId).ToList();
</code></pre>
<p>The method acts: The <code>DeleteMessageAsync</code> method is executed passing in the <code>recId</code> of <code>1</code>:</p>
<pre><code class="lang-csharp">// Act
await db.DeleteMessageAsync(recId);
</code></pre>
<p>Finally, the method obtains the <code>Messages</code> from the context and compares it to the <code>expectedMessages</code> asserting that the two are equal:</p>
<pre><code class="lang-csharp">// Assert
var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
Assert.Equal(
    expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
    actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
</code></pre>
<p>In order to compare that the two <code>List&lt;Message&gt;</code> are the same:</p>
<ul>
<li>The messages are ordered by <code>Id</code>.</li>
<li>Message pairs are compared on the <code>Text</code> property.</li>
</ul>
<p>A similar test method, <code>DeleteMessageAsync_NoMessageIsDeleted_WhenMessageIsNotFound</code> checks the result of attempting to delete a message that doesn't exist. In this case, the expected messages in the database should be equal to the actual messages after the <code>DeleteMessageAsync</code> method is executed. There should be no change to the database's content:</p>
<pre><code class="lang-csharp">[Fact]
public async Task DeleteMessageAsync_NoMessageIsDeleted_WhenMessageIsNotFound()
{
    using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
    {
        // Arrange
        var expectedMessages = AppDbContext.GetSeedingMessages();
        await db.AddRangeAsync(expectedMessages);
        await db.SaveChangesAsync();
        var recId = 4;

        // Act
        try
        {
            await db.DeleteMessageAsync(recId);
        }
        catch
        {
            // recId doesn't exist
        }

        // Assert
        var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
        Assert.Equal(
            expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
            actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
    }
}
</code></pre><h2 id="unit-tests-of-the-page-model-methods">Unit tests of the page model methods</h2>
<p>Another set of unit tests is responsible for tests of page model methods. In the message app, the Index page models are found in the <code>IndexModel</code> class in <code>src/RazorPagesTestSample/Pages/Index.cshtml.cs</code>.</p>
<table>
<thead>
<tr>
<th>Page model method</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OnGetAsync</code></td>
<td>Obtains the messages from the DAL for the UI using the <code>GetMessagesAsync</code> method.</td>
</tr>
<tr>
<td><code>OnPostAddMessageAsync</code></td>
<td>If the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" data-linktype="absolute-path">ModelState</a> is valid, calls <code>AddMessageAsync</code> to add a message to the database.</td>
</tr>
<tr>
<td><code>OnPostDeleteAllMessagesAsync</code></td>
<td>Calls <code>DeleteAllMessagesAsync</code> to delete all of the messages in the database.</td>
</tr>
<tr>
<td><code>OnPostDeleteMessageAsync</code></td>
<td>Executes <code>DeleteMessageAsync</code> to delete a message with the <code>Id</code> specified.</td>
</tr>
<tr>
<td><code>OnPostAnalyzeMessagesAsync</code></td>
<td>If one or more messages are in the database, calculates the average number of words per message.</td>
</tr>
</tbody>
</table>
<p>The page model methods are tested using seven tests in the <code>IndexPageTests</code> class (<code>tests/RazorPagesTestSample.Tests/UnitTests/IndexPageTests.cs</code>). The tests use the familiar Arrange-Assert-Act pattern. These tests focus on:</p>
<ul>
<li>Determining if the methods follow the correct behavior when the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" data-linktype="absolute-path">ModelState</a> is invalid.</li>
<li>Confirming the methods produce the correct <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.iactionresult" class="no-loc" data-linktype="absolute-path">IActionResult</a>.</li>
<li>Checking that property value assignments are made correctly.</li>
</ul>
<p>This group of tests often mock the methods of the DAL to produce expected data for the Act step where a page model method is executed. For example, the <code>GetMessagesAsync</code> method of the <code>AppDbContext</code> is mocked to produce output. When a page model method executes this method, the mock returns the result. The data doesn't come from the database. This creates predictable, reliable test conditions for using the DAL in the page model tests.</p>
<p>The <code>OnGetAsync_PopulatesThePageModel_WithAListOfMessages</code> test shows how the <code>GetMessagesAsync</code> method is mocked for the page model:</p>
<pre><code class="lang-csharp" highlight-lines="3-4">var mockAppDbContext = new Mock&lt;AppDbContext&gt;(optionsBuilder.Options);
var expectedMessages = AppDbContext.GetSeedingMessages();
mockAppDbContext.Setup(
    db =&gt; db.GetMessagesAsync()).Returns(Task.FromResult(expectedMessages));
var pageModel = new IndexModel(mockAppDbContext.Object);
</code></pre>
<p>When the <code>OnGetAsync</code> method is executed in the Act step, it calls the page model's <code>GetMessagesAsync</code> method.</p>
<p>Unit test Act step (<code>tests/RazorPagesTestSample.Tests/UnitTests/IndexPageTests.cs</code>):</p>
<pre><code class="lang-csharp">// Act
await pageModel.OnGetAsync();
</code></pre>
<p><code>IndexPage</code> page model's <code>OnGetAsync</code> method (<code>src/RazorPagesTestSample/Pages/Index.cshtml.cs</code>):</p>
<pre><code class="lang-csharp" highlight-lines="3">public async Task OnGetAsync()
{
    Messages = await _db.GetMessagesAsync();
}
</code></pre>
<p>The <code>GetMessagesAsync</code> method in the DAL doesn't return the result for this method call. The mocked version of the method returns the result.</p>
<p>In the <code>Assert</code> step, the actual messages (<code>actualMessages</code>) are assigned from the <code>Messages</code> property of the page model. A type check is also performed when the messages are assigned. The expected and actual messages are compared by their <code>Text</code> properties. The test asserts that the two <code>List&lt;Message&gt;</code> instances contain the same messages.</p>
<pre><code class="lang-csharp">// Assert
var actualMessages = Assert.IsAssignableFrom&lt;List&lt;Message&gt;&gt;(pageModel.Messages);
Assert.Equal(
    expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
    actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
</code></pre>
<p>Other tests in this group create page model objects that include the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.http.defaulthttpcontext" class="no-loc" data-linktype="absolute-path">DefaultHttpContext</a>, the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" class="no-loc" data-linktype="absolute-path">ModelStateDictionary</a>, an <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.actioncontext" class="no-loc" data-linktype="absolute-path">ActionContext</a> to establish the <code>PageContext</code>, a <code>ViewDataDictionary</code>, and a <code>PageContext</code>. These are useful in conducting tests. For example, the message app establishes a <code>ModelState</code> error with <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary.addmodelerror" class="no-loc" data-linktype="absolute-path">AddModelError</a> to check that a valid <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.razorpages.pageresult" class="no-loc" data-linktype="absolute-path">PageResult</a> is returned when <code>OnPostAddMessageAsync</code> is executed:</p>
<pre><code class="lang-csharp" highlight-lines="11,26,29,32">[Fact]
public async Task OnPostAddMessageAsync_ReturnsAPageResult_WhenModelStateIsInvalid()
{
    // Arrange
    var optionsBuilder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
        .UseInMemoryDatabase("InMemoryDb");
    var mockAppDbContext = new Mock&lt;AppDbContext&gt;(optionsBuilder.Options);
    var expectedMessages = AppDbContext.GetSeedingMessages();
    mockAppDbContext.Setup(db =&gt; db.GetMessagesAsync()).Returns(Task.FromResult(expectedMessages));
    var httpContext = new DefaultHttpContext();
    var modelState = new ModelStateDictionary();
    var actionContext = new ActionContext(httpContext, new RouteData(), new PageActionDescriptor(), modelState);
    var modelMetadataProvider = new EmptyModelMetadataProvider();
    var viewData = new ViewDataDictionary(modelMetadataProvider, modelState);
    var tempData = new TempDataDictionary(httpContext, Mock.Of&lt;ITempDataProvider&gt;());
    var pageContext = new PageContext(actionContext)
    {
        ViewData = viewData
    };
    var pageModel = new IndexModel(mockAppDbContext.Object)
    {
        PageContext = pageContext,
        TempData = tempData,
        Url = new UrlHelper(actionContext)
    };
    pageModel.ModelState.AddModelError("Message.Text", "The Text field is required.");

    // Act
    var result = await pageModel.OnPostAddMessageAsync();

    // Assert
    Assert.IsType&lt;PageResult&gt;(result);
}
</code></pre><h2 id="additional-resources">Additional resources</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-dotnet-test" data-linktype="absolute-path">Testing with <code>dotnet test</code></a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/testing?view=aspnetcore-9.0" data-linktype="relative-path">Test controller logic in ASP.NET Core</a></li>
<li><a href="https://learn.microsoft.com/en-us/visualstudio/test/unit-test-your-code" data-linktype="absolute-path">Unit Test Your Code</a> (Visual Studio)</li>
<li><a href="integration-tests553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Integration tests in ASP.NET Core</a></li>
<li><a href="https://github.com/xunit/xunit" data-linktype="external">xUnit.net</a></li>
<li><a href="https://xunit.net/docs/getting-started/netcore/cmdline" data-linktype="external">Getting started with xUnit.net</a></li>
<li><a href="https://github.com/moq/moq4" data-linktype="external">Moq</a></li>
<li><a href="https://github.com/Moq/moq4/wiki/Quickstart" data-linktype="external">Moq Quickstart</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-2.1 aspnetcore-2.2">
<p>ASP.NET Core supports unit tests of Razor Pages apps. Tests of the data access layer (DAL) and page models help ensure:</p>
<ul>
<li>Parts of a Razor Pages app work independently and together as a unit during app construction.</li>
<li>Classes and methods have limited scopes of responsibility.</li>
<li>Additional documentation exists on how the app should behave.</li>
<li>Regressions, which are errors brought about by updates to the code, are found during automated building and deployment.</li>
</ul>
<p>This topic assumes that you have a basic understanding of Razor Pages apps and unit tests. If you're unfamiliar with Razor Pages apps or test concepts, see the following topics:</p>
<ul>
<li><a href="../razor-pages/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to Razor Pages in ASP.NET Core</a></li>
<li><a href="../tutorials/razor-pages/razor-pages-start553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Tutorial: Get started with Razor Pages in ASP.NET Core</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-dotnet-test" data-linktype="absolute-path">Testing with <code>dotnet test</code></a></li>
</ul>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/test/razor-pages-tests/samples" data-linktype="external">View or download sample code</a> (<a href="../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>)</p>
<p>The sample project is composed of two apps:</p>
<table>
<thead>
<tr>
<th>App</th>
<th>Project folder</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Message app</td>
<td><em>src/RazorPagesTestSample</em></td>
<td>Allows a user to add a message, delete one message, delete all messages, and analyze messages (find the average number of words per message).</td>
</tr>
<tr>
<td>Test app</td>
<td><em>tests/RazorPagesTestSample.Tests</em></td>
<td>Used to unit test the DAL and Index page model of the message app.</td>
</tr>
</tbody>
</table>
<p>The tests can be run using the built-in test features of an IDE, such as <a href="https://learn.microsoft.com/en-us/visualstudio/test/unit-test-your-code" data-linktype="absolute-path">Visual Studio</a>. If using <a href="https://code.visualstudio.com/" data-linktype="external">Visual Studio Code</a> or the command line, execute the following command at a command prompt in the <em>tests/RazorPagesTestSample.Tests</em> folder:</p>
<pre><code class="lang-dotnetcli">dotnet test
</code></pre>
<h2 id="message-app-organization-1">Message app organization</h2>
<p>The message app is a Razor Pages message system with the following characteristics:</p>
<ul>
<li>The Index page of the app (<code>Pages/Index.cshtml</code> and <code>Pages/Index.cshtml.cs</code>) provides a UI and page model methods to control the addition, deletion, and analysis of messages (find the average number of words per message).</li>
<li>A message is described by the <code>Message</code> class (<code>Data/Message.cs</code>) with two properties: <code>Id</code> (key) and <code>Text</code> (message). The <code>Text</code> property is required and limited to 200 characters.</li>
<li>Messages are stored using <a href="https://learn.microsoft.com/en-us/ef/core/providers/in-memory/" data-linktype="absolute-path">Entity Framework's in-memory database</a>†.</li>
<li>The app contains a DAL in its database context class, <code>AppDbContext</code> (<code>Data/AppDbContext.cs</code>). The DAL methods are marked <code>virtual</code>, which allows mocking the methods for use in the tests.</li>
<li>If the database is empty on app startup, the message store is initialized with three messages. These <em>seeded messages</em> are also used in tests.</li>
</ul>
<p>†The EF topic, <a href="https://learn.microsoft.com/en-us/ef/core/miscellaneous/testing/in-memory" data-linktype="absolute-path">Test with InMemory</a>, explains how to use an in-memory database for tests with MSTest. This topic uses the <a href="https://github.com/xunit/xunit" data-linktype="external">xUnit</a> test framework. Test concepts and test implementations across different test frameworks are similar but not identical.</p>
<p>Although the sample app doesn't use the repository pattern and isn't an effective example of the <a href="https://martinfowler.com/eaaCatalog/unitOfWork.html" data-linktype="external">Unit of Work (UoW) pattern</a>, Razor Pages supports these patterns of development. For more information, see <a href="https://learn.microsoft.com/en-us/dotnet/standard/microservices-architecture/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design" data-linktype="absolute-path">Designing the infrastructure persistence layer</a> and <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/testing?view=aspnetcore-9.0" data-linktype="relative-path">Test controller logic in ASP.NET Core</a> (the sample implements the repository pattern).</p>
<h2 id="test-app-organization-1">Test app organization</h2>
<p>The test app is a console app inside the <em>tests/RazorPagesTestSample.Tests</em> folder.</p>
<table>
<thead>
<tr>
<th>Test app folder</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>UnitTests</em></td>
<td><ul><li><code>DataAccessLayerTest.cs</code> contains the unit tests for the DAL.</li><li><code>IndexPageTests.cs</code> contains the unit tests for the Index page model.</li></ul></td>
</tr>
<tr>
<td><em>Utilities</em></td>
<td>Contains the <code>TestDbContextOptions</code> method used to create new database context options for each DAL unit test so that the database is reset to its baseline condition for each test.</td>
</tr>
</tbody>
</table>
<p>The test framework is <a href="https://github.com/xunit/xunit" data-linktype="external">xUnit</a>. The object mocking framework is <a href="https://github.com/moq/moq4" data-linktype="external">Moq</a>.</p>
<h2 id="unit-tests-of-the-data-access-layer-dal-1">Unit tests of the data access layer (DAL)</h2>
<p>The message app has a DAL with four methods contained in the <code>AppDbContext</code> class (<code>src/RazorPagesTestSample/Data/AppDbContext.cs</code>). Each method has one or two unit tests in the test app.</p>
<table>
<thead>
<tr>
<th>DAL method</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GetMessagesAsync</code></td>
<td>Obtains a <code>List&lt;Message&gt;</code> from the database sorted by the <code>Text</code> property.</td>
</tr>
<tr>
<td><code>AddMessageAsync</code></td>
<td>Adds a <code>Message</code> to the database.</td>
</tr>
<tr>
<td><code>DeleteAllMessagesAsync</code></td>
<td>Deletes all <code>Message</code> entries from the database.</td>
</tr>
<tr>
<td><code>DeleteMessageAsync</code></td>
<td>Deletes a single <code>Message</code> from the database by <code>Id</code>.</td>
</tr>
</tbody>
</table>
<p>Unit tests of the DAL require <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontextoptions" class="no-loc" data-linktype="absolute-path">DbContextOptions</a> when creating a new <code>AppDbContext</code> for each test. One approach to creating the <code>DbContextOptions</code> for each test is to use a <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder" class="no-loc" data-linktype="absolute-path">DbContextOptionsBuilder</a>:</p>
<pre><code class="lang-csharp">var optionsBuilder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
    .UseInMemoryDatabase("InMemoryDb");

using (var db = new AppDbContext(optionsBuilder.Options))
{
    // Use the db here in the unit test.
}
</code></pre>
<p>The problem with this approach is that each test receives the database in whatever state the previous test left it. This can be problematic when trying to write atomic unit tests that don't interfere with each other. To force the <code>AppDbContext</code> to use a new database context for each test, supply a <code>DbContextOptions</code> instance that's based on a new service provider. The test app shows how to do this using its <code>Utilities</code> class method <code>TestDbContextOptions</code> (<code>tests/RazorPagesTestSample.Tests/Utilities/Utilities.cs</code>):</p>
<pre><code class="lang-csharp">public static DbContextOptions&lt;AppDbContext&gt; TestDbContextOptions()
{
    // Create a new service provider to create a new in-memory database.
    var serviceProvider = new ServiceCollection()
        .AddEntityFrameworkInMemoryDatabase()
        .BuildServiceProvider();

    // Create a new options instance using an in-memory database and 
    // IServiceProvider that the context should resolve all of its 
    // services from.
    var builder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
        .UseInMemoryDatabase("InMemoryDb")
        .UseInternalServiceProvider(serviceProvider);

    return builder.Options;
}
</code></pre>
<p>Using the <code>DbContextOptions</code> in the DAL unit tests allows each test to run atomically with a fresh database instance:</p>
<pre><code class="lang-csharp">using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
{
    // Use the db here in the unit test.
}
</code></pre>
<p>Each test method in the <code>DataAccessLayerTest</code> class (<code>UnitTests/DataAccessLayerTest.cs</code>) follows a similar Arrange-Act-Assert pattern:</p>
<ol>
<li>Arrange: The database is configured for the test and/or the expected outcome is defined.</li>
<li>Act: The test is executed.</li>
<li>Assert: Assertions are made to determine if the test result is a success.</li>
</ol>
<p>For example, the <code>DeleteMessageAsync</code> method is responsible for removing a single message identified by its <code>Id</code> (<code>src/RazorPagesTestSample/Data/AppDbContext.cs</code>):</p>
<pre><code class="lang-csharp">public async virtual Task DeleteMessageAsync(int id)
{
    var message = await Messages.FindAsync(id);

    if (message != null)
    {
        Messages.Remove(message);
        await SaveChangesAsync();
    }
}
</code></pre>
<p>There are two tests for this method. One test checks that the method deletes a message when the message is present in the database. The other method tests that the database doesn't change if the message <code>Id</code> for deletion doesn't exist. The <code>DeleteMessageAsync_MessageIsDeleted_WhenMessageIsFound</code> method is shown below:</p>
<pre><code class="lang-csharp">[Fact]
public async Task DeleteMessageAsync_MessageIsDeleted_WhenMessageIsFound()
{
    using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
    {
        // Arrange
        var seedMessages = AppDbContext.GetSeedingMessages();
        await db.AddRangeAsync(seedMessages);
        await db.SaveChangesAsync();
        var recId = 1;
        var expectedMessages = 
            seedMessages.Where(message =&gt; message.Id != recId).ToList();

        // Act
        await db.DeleteMessageAsync(recId);

        // Assert
        var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
        Assert.Equal(
            expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
            actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
    }
}
</code></pre>
<p>First, the method performs the Arrange step, where preparation for the Act step takes place. The seeding messages are obtained and held in <code>seedMessages</code>. The seeding messages are saved into the database. The message with an <code>Id</code> of <code>1</code> is set for deletion. When the <code>DeleteMessageAsync</code> method is executed, the expected messages should have all of the messages except for the one with an <code>Id</code> of <code>1</code>. The <code>expectedMessages</code> variable represents this expected outcome.</p>
<pre><code class="lang-csharp">// Arrange
var seedMessages = AppDbContext.GetSeedingMessages();
await db.AddRangeAsync(seedMessages);
await db.SaveChangesAsync();
var recId = 1;
var expectedMessages = 
    seedMessages.Where(message =&gt; message.Id != recId).ToList();
</code></pre>
<p>The method acts: The <code>DeleteMessageAsync</code> method is executed passing in the <code>recId</code> of <code>1</code>:</p>
<pre><code class="lang-csharp">// Act
await db.DeleteMessageAsync(recId);
</code></pre>
<p>Finally, the method obtains the <code>Messages</code> from the context and compares it to the <code>expectedMessages</code> asserting that the two are equal:</p>
<pre><code class="lang-csharp">// Assert
var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
Assert.Equal(
    expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
    actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
</code></pre>
<p>In order to compare that the two <code>List&lt;Message&gt;</code> are the same:</p>
<ul>
<li>The messages are ordered by <code>Id</code>.</li>
<li>Message pairs are compared on the <code>Text</code> property.</li>
</ul>
<p>A similar test method, <code>DeleteMessageAsync_NoMessageIsDeleted_WhenMessageIsNotFound</code> checks the result of attempting to delete a message that doesn't exist. In this case, the expected messages in the database should be equal to the actual messages after the <code>DeleteMessageAsync</code> method is executed. There should be no change to the database's content:</p>
<pre><code class="lang-csharp">[Fact]
public async Task DeleteMessageAsync_NoMessageIsDeleted_WhenMessageIsNotFound()
{
    using (var db = new AppDbContext(Utilities.TestDbContextOptions()))
    {
        // Arrange
        var expectedMessages = AppDbContext.GetSeedingMessages();
        await db.AddRangeAsync(expectedMessages);
        await db.SaveChangesAsync();
        var recId = 4;

        // Act
        await db.DeleteMessageAsync(recId);

        // Assert
        var actualMessages = await db.Messages.AsNoTracking().ToListAsync();
        Assert.Equal(
            expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
            actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
    }
}
</code></pre><h2 id="unit-tests-of-the-page-model-methods-1">Unit tests of the page model methods</h2>
<p>Another set of unit tests is responsible for tests of page model methods. In the message app, the Index page models are found in the <code>IndexModel</code> class in <code>src/RazorPagesTestSample/Pages/Index.cshtml.cs</code>.</p>
<table>
<thead>
<tr>
<th>Page model method</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>OnGetAsync</code></td>
<td>Obtains the messages from the DAL for the UI using the <code>GetMessagesAsync</code> method.</td>
</tr>
<tr>
<td><code>OnPostAddMessageAsync</code></td>
<td>If the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" data-linktype="absolute-path">ModelState</a> is valid, calls <code>AddMessageAsync</code> to add a message to the database.</td>
</tr>
<tr>
<td><code>OnPostDeleteAllMessagesAsync</code></td>
<td>Calls <code>DeleteAllMessagesAsync</code> to delete all of the messages in the database.</td>
</tr>
<tr>
<td><code>OnPostDeleteMessageAsync</code></td>
<td>Executes <code>DeleteMessageAsync</code> to delete a message with the <code>Id</code> specified.</td>
</tr>
<tr>
<td><code>OnPostAnalyzeMessagesAsync</code></td>
<td>If one or more messages are in the database, calculates the average number of words per message.</td>
</tr>
</tbody>
</table>
<p>The page model methods are tested using seven tests in the <code>IndexPageTests</code> class (<code>tests/RazorPagesTestSample.Tests/UnitTests/IndexPageTests.cs</code>). The tests use the familiar Arrange-Assert-Act pattern. These tests focus on:</p>
<ul>
<li>Determining if the methods follow the correct behavior when the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" data-linktype="absolute-path">ModelState</a> is invalid.</li>
<li>Confirming the methods produce the correct <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.iactionresult" class="no-loc" data-linktype="absolute-path">IActionResult</a>.</li>
<li>Checking that property value assignments are made correctly.</li>
</ul>
<p>This group of tests often mock the methods of the DAL to produce expected data for the Act step where a page model method is executed. For example, the <code>GetMessagesAsync</code> method of the <code>AppDbContext</code> is mocked to produce output. When a page model method executes this method, the mock returns the result. The data doesn't come from the database. This creates predictable, reliable test conditions for using the DAL in the page model tests.</p>
<p>The <code>OnGetAsync_PopulatesThePageModel_WithAListOfMessages</code> test shows how the <code>GetMessagesAsync</code> method is mocked for the page model:</p>
<pre><code class="lang-csharp" highlight-lines="3-4">var mockAppDbContext = new Mock&lt;AppDbContext&gt;(optionsBuilder.Options);
var expectedMessages = AppDbContext.GetSeedingMessages();
mockAppDbContext.Setup(
    db =&gt; db.GetMessagesAsync()).Returns(Task.FromResult(expectedMessages));
var pageModel = new IndexModel(mockAppDbContext.Object);
</code></pre>
<p>When the <code>OnGetAsync</code> method is executed in the Act step, it calls the page model's <code>GetMessagesAsync</code> method.</p>
<p>Unit test Act step (<code>tests/RazorPagesTestSample.Tests/UnitTests/IndexPageTests.cs</code>):</p>
<pre><code class="lang-csharp">// Act
await pageModel.OnGetAsync();
</code></pre>
<p><code>IndexPage</code> page model's <code>OnGetAsync</code> method (<code>src/RazorPagesTestSample/Pages/Index.cshtml.cs</code>):</p>
<pre><code class="lang-csharp" highlight-lines="3">public async Task OnGetAsync()
{
    Messages = await _db.GetMessagesAsync();
}
</code></pre>
<p>The <code>GetMessagesAsync</code> method in the DAL doesn't return the result for this method call. The mocked version of the method returns the result.</p>
<p>In the <code>Assert</code> step, the actual messages (<code>actualMessages</code>) are assigned from the <code>Messages</code> property of the page model. A type check is also performed when the messages are assigned. The expected and actual messages are compared by their <code>Text</code> properties. The test asserts that the two <code>List&lt;Message&gt;</code> instances contain the same messages.</p>
<pre><code class="lang-csharp">// Assert
var actualMessages = Assert.IsAssignableFrom&lt;List&lt;Message&gt;&gt;(pageModel.Messages);
Assert.Equal(
    expectedMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text), 
    actualMessages.OrderBy(m =&gt; m.Id).Select(m =&gt; m.Text));
</code></pre>
<p>Other tests in this group create page model objects that include the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.http.defaulthttpcontext" class="no-loc" data-linktype="absolute-path">DefaultHttpContext</a>, the <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary" class="no-loc" data-linktype="absolute-path">ModelStateDictionary</a>, an <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.actioncontext" class="no-loc" data-linktype="absolute-path">ActionContext</a> to establish the <code>PageContext</code>, a <code>ViewDataDictionary</code>, and a <code>PageContext</code>. These are useful in conducting tests. For example, the message app establishes a <code>ModelState</code> error with <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelstatedictionary.addmodelerror" class="no-loc" data-linktype="absolute-path">AddModelError</a> to check that a valid <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.razorpages.pageresult" class="no-loc" data-linktype="absolute-path">PageResult</a> is returned when <code>OnPostAddMessageAsync</code> is executed:</p>
<pre><code class="lang-csharp" highlight-lines="11,26,29,32">[Fact]
public async Task OnPostAddMessageAsync_ReturnsAPageResult_WhenModelStateIsInvalid()
{
    // Arrange
    var optionsBuilder = new DbContextOptionsBuilder&lt;AppDbContext&gt;()
        .UseInMemoryDatabase("InMemoryDb");
    var mockAppDbContext = new Mock&lt;AppDbContext&gt;(optionsBuilder.Options);
    var expectedMessages = AppDbContext.GetSeedingMessages();
    mockAppDbContext.Setup(db =&gt; db.GetMessagesAsync()).Returns(Task.FromResult(expectedMessages));
    var httpContext = new DefaultHttpContext();
    var modelState = new ModelStateDictionary();
    var actionContext = new ActionContext(httpContext, new RouteData(), new PageActionDescriptor(), modelState);
    var modelMetadataProvider = new EmptyModelMetadataProvider();
    var viewData = new ViewDataDictionary(modelMetadataProvider, modelState);
    var tempData = new TempDataDictionary(httpContext, Mock.Of&lt;ITempDataProvider&gt;());
    var pageContext = new PageContext(actionContext)
    {
        ViewData = viewData
    };
    var pageModel = new IndexModel(mockAppDbContext.Object)
    {
        PageContext = pageContext,
        TempData = tempData,
        Url = new UrlHelper(actionContext)
    };
    pageModel.ModelState.AddModelError("Message.Text", "The Text field is required.");

    // Act
    var result = await pageModel.OnPostAddMessageAsync();

    // Assert
    Assert.IsType&lt;PageResult&gt;(result);
}
</code></pre><h2 id="additional-resources-1">Additional resources</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-dotnet-test" data-linktype="absolute-path">Testing with <code>dotnet test</code></a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/testing?view=aspnetcore-9.0" data-linktype="relative-path">Test controller logic in ASP.NET Core</a></li>
<li><a href="https://learn.microsoft.com/en-us/visualstudio/test/unit-test-your-code" data-linktype="absolute-path">Unit Test Your Code</a> (Visual Studio)</li>
<li><a href="integration-tests553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Integration tests in ASP.NET Core</a></li>
<li><a href="https://github.com/xunit/xunit" data-linktype="external">xUnit.net</a></li>
<li><a href="https://xunit.net/docs/getting-started/netcore/cmdline" data-linktype="external">Getting started with xUnit.net</a></li>
<li><a href="https://github.com/moq/moq4" data-linktype="external">Moq</a></li>
<li><a href="https://github.com/Moq/moq4/wiki/Quickstart" data-linktype="external">Moq Quickstart</a></li>
<li><a href="https://github.com/telerik/JustMockLite" data-linktype="external">JustMockLite</a>: A mocking framework for .NET developers. (<em>Not maintained or supported by Microsoft.</em>)</li>
</ul>
</div>
</div>
					
		<div
			id="ms--inline-notifications"
			class="margin-block-xs"
			data-bi-name="inline-notification"
		></div>
	 
		<div
			id="assertive-live-region"
			role="alert"
			aria-live="assertive"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
		<div
			id="polite-live-region"
			role="status"
			aria-live="polite"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
	
					
			
		<!-- feedback section -->
		<section
			class="feedback-section position-relative margin-top-lg border border-radius padding-xxs display-none-print"
			data-bi-name="open-source-feedback-section"
			data-open-source-feedback-section
			hidden
		>
			<div class="display-flex flex-direction-column flex-direction-row-tablet">
				<div
					class="width-450-tablet padding-inline-xs padding-inline-xs-tablet padding-top-xs padding-bottom-sm padding-top-xs-tablet background-color-body-medium"
				>
					<div class="display-flex flex-direction-column">
						<div class="padding-bottom-xxs">
							<span class="icon margin-right-xxs" aria-hidden="true">
								<span class="docon docon-brand-github"></span>
							</span>
							<span class="font-weight-semibold">
								Collaborate with us on GitHub
							</span>
						</div>
						<span class="line-height-normal">
							The source for this content can be found on GitHub, where you can also create and review issues and pull requests. For more information, see <a href="https://learn.microsoft.com/contribute/content/dotnet/dotnet-contribute">our contributor guide</a>.
						</span>
					</div>
				</div>
				<div
					class="display-flex gap-xs width-full-tablet flex-direction-column padding-xs justify-content-space-evenly"
				>
					<div class="media">
						
					<div class="media-left">
						<div class="image image-36x36" hidden data-open-source-image-container>
							<img
								class="theme-display is-light"
								src="https://learn.microsoft.com/media/logos/logo_net.svg"
								aria-hidden="true"
								data-open-source-image-light
							/>
							<img
								class="theme-display is-dark is-high-contrast"
								src="https://learn.microsoft.com/media/logos/logo_net.svg"
								aria-hidden="true"
								data-open-source-image-dark
							/>
						</div>
					</div>
			  

						<div class="media-content">
							<p
								class="font-size-xl font-weight-semibold margin-bottom-xxs"
								data-open-source-product-title
							>
								ASP.NET Core
							</p>
							<div class="display-flex gap-xs flex-direction-column">
								<p class="line-height-normal" data-open-source-product-description></p>
								<div class="display-flex gap-xs flex-direction-column">
									<a href="#" data-github-link>
										<span class="icon margin-right-xxs" aria-hidden="true">
											<span class="docon docon-bug"></span>
										</span>
										<span>Open a documentation issue</span>
									</a>
									<a
										href="https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md"
										class="display-block margin-top-auto font-size-md"
										data-feedback-product-url
									>
										<span class="icon margin-right-xxs" aria-hidden="true">
											<span class="docon docon-feedback"></span>
										</span>
										<span>Provide product feedback</span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
			
		<!-- feedback section -->
		<section
			id="site-user-feedback-footer"
			class="font-size-sm margin-top-md display-none-print display-none-desktop"
			data-test-id="site-user-feedback-footer"
			data-bi-name="site-feedback-section"
		>
			<hr class="hr" />
			<h2 id="ms--feedback" class="title is-3">Feedback</h2>
			<div class="display-flex flex-wrap-wrap align-items-center">
				<p class="font-weight-semibold margin-xxs margin-left-none">
					Was this page helpful?
				</p>
				<div class="buttons">
					<button
						class="thumb-rating-button like button button-primary button-sm"
						data-test-id="footer-rating-yes"
						data-binary-rating-response="rating-yes"
						type="button"
						title="This article is helpful"
						data-bi-name="button-rating-yes"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-like"></span>
						</span>
						<span>Yes</span>
					</button>
					<button
						class="thumb-rating-button dislike button button-primary button-sm"
						data-test-id="footer-rating-no"
						data-binary-rating-response="rating-no"
						type="button"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</button>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
		
				</div>
				
		<div id="ms--additional-resources-mobile" class="display-none-print">
			<hr class="hr" hidden />
			<h2 id="ms--additional-resources-mobile-heading" class="title is-3" hidden>
				Additional resources
			</h2>
			
		<section
			id="right-rail-recommendations-mobile"
			class=""
			data-bi-name="recommendations"
			hidden
		></section>
	 
		<section
			id="right-rail-training-mobile"
			class=""
			data-bi-name="learning-resource-card"
			hidden
		></section>
	 
		<section
			id="right-rail-events-mobile"
			class=""
			data-bi-name="events-card"
			hidden
		></section>
	 
		<section
			id="right-rail-qna-mobile"
			class="margin-top-xxs"
			data-bi-name="qna-link-card"
			hidden
		></section>
	
		</div>
	
			</div>
			
		<div
			id="action-panel"
			role="region"
			aria-label="Action Panel"
			class="action-panel"
			tabindex="-1"
		></div>
	
		
				</main>
				<aside
					id="layout-body-aside"
					class="layout-body-aside "
					data-bi-name="aside"
			  >
					
		<div
			id="ms--additional-resources"
			class="right-container padding-sm display-none display-block-desktop height-full"
			data-bi-name="pageactions"
			role="complementary"
			aria-label="Additional resources"
		>
			<div id="affixed-right-container" data-bi-name="right-column">
				
		<nav
			id="side-doc-outline"
			class="doc-outline border-bottom padding-bottom-xs margin-bottom-xs"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h3>In this article</h3>
		</nav>
	
				<!-- Feedback -->
				
		<section
			id="ms--site-user-feedback-right-rail"
			class="font-size-sm display-none-print"
			data-test-id="site-user-feedback-right-rail"
			data-bi-name="site-feedback-right-rail"
		>
			<p class="font-weight-semibold margin-bottom-xs">Was this page helpful?</p>
			<div class="buttons">
				<button
					class="thumb-rating-button like button button-primary button-sm"
					data-test-id="right-rail-rating-yes"
					data-binary-rating-response="rating-yes"
					type="button"
					title="This article is helpful"
					data-bi-name="button-rating-yes"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-like"></span>
					</span>
					<span>Yes</span>
				</button>
				<button
					class="thumb-rating-button dislike button button-primary button-sm"
					data-test-id="right-rail-rating-no"
					data-binary-rating-response="rating-no"
					type="button"
					title="This article is not helpful"
					data-bi-name="button-rating-no"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-dislike"></span>
					</span>
					<span>No</span>
				</button>
			</div>
		</section>
	
			</div>
		</div>
	
			  </aside> <section
					id="layout-body-flyout"
					class="layout-body-flyout "
					data-bi-name="flyout"
			  >
					 <div
	class="height-full border-left background-color-body-medium"
	id="ask-learn-flyout"
></div>
			  </section> <div class="layout-body-footer " data-bi-name="layout-footer">
		<footer
			id="footer"
			data-test-id="footer"
			data-bi-name="footer"
			class="footer-layout has-padding has-default-focus border-top  uhf-container"
			role="contentinfo"
		>
			<div class="display-flex gap-xs flex-wrap-wrap is-full-height padding-right-lg-desktop">
				
		<a
			data-mscc-ic="false"
			href="#"
			data-bi-name="select-locale"
			class="locale-selector-link flex-shrink-0 button button-sm button-clear external-link-indicator"
			id=""
			title=""
			><span class="icon" aria-hidden="true"
				><span class="docon docon-world"></span></span
			><span class="local-selector-link-text">en-us</span></a
		>
	
				<div class="ccpa-privacy-link" data-ccpa-privacy-link hidden>
		
		<a
			data-mscc-ic="false"
			href="https://aka.ms/yourcaliforniaprivacychoices"
			data-bi-name="your-privacy-choices"
			class="button button-sm button-clear flex-shrink-0 external-link-indicator"
			id=""
			title=""
			>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 30 14"
			xml:space="preserve"
			height="16"
			width="43"
			aria-hidden="true"
			focusable="false"
		>
			<path
				d="M7.4 12.8h6.8l3.1-11.6H7.4C4.2 1.2 1.6 3.8 1.6 7s2.6 5.8 5.8 5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"
			></path>
			<path
				d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4c-3.2 0-5.8-2.6-5.8-5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#06f"
			></path>
			<path
				d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0-.2-.2-.2-.6 0-.8L20.8 7l-2.2-2.2c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0z"
				style="fill:#fff"
			></path>
			<path
				d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0z"
				style="fill:#06f"
			></path>
		</svg>
	
			<span>Your Privacy Choices</span></a
		>
	
	</div>
				<div class="flex-shrink-0">
		<div class="dropdown has-caret-up">
			<button
				data-test-id="theme-selector-button"
				class="dropdown-trigger button button-clear button-sm has-inner-focus theme-dropdown-trigger"
				aria-controls="{{ themeMenuId }}"
				aria-expanded="false"
				title="Theme"
				data-bi-name="theme"
			>
				<span class="icon">
					<span class="docon docon-sun" aria-hidden="true"></span>
				</span>
				<span>Theme</span>
				<span class="icon expanded-indicator" aria-hidden="true">
					<span class="docon docon-chevron-down-light"></span>
				</span>
			</button>
			<div class="dropdown-menu" id="{{ themeMenuId }}" role="menu">
				<ul class="theme-selector padding-xxs" data-test-id="theme-dropdown-menu">
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="light"
						>
							<span class="theme-light margin-right-xxs">
								<span
									class="theme-selector-icon border display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Light </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="dark"
						>
							<span class="theme-dark margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Dark </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="high-contrast"
						>
							<span class="theme-high-contrast margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> High contrast </span>
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
			</div>
			<ul class="links" data-bi-name="footerlinks">
				<li class="manage-cookies-holder" hidden=""></li>
				<li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/principles-for-ai-generated-content"
			data-bi-name="aiDisclaimer"
			class=" external-link-indicator"
			id=""
			title=""
			>AI Disclaimer</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/previous-versions/"
			data-bi-name="archivelink"
			class=" external-link-indicator"
			id=""
			title=""
			>Previous Versions</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog"
			data-bi-name="bloglink"
			class=" external-link-indicator"
			id=""
			title=""
			>Blog</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/contribute"
			data-bi-name="contributorGuide"
			class=" external-link-indicator"
			id=""
			title=""
			>Contribute</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://go.microsoft.com/fwlink/?LinkId=521839"
			data-bi-name="privacy"
			class=" external-link-indicator"
			id=""
			title=""
			>Privacy</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/legal/termsofuse"
			data-bi-name="termsofuse"
			class=" external-link-indicator"
			id=""
			title=""
			>Terms of Use</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://www.microsoft.com/legal/intellectualproperty/Trademarks/"
			data-bi-name="trademarks"
			class=" external-link-indicator"
			id=""
			title=""
			>Trademarks</a
		>
	
	</li>
				<li>&copy; Microsoft 2025</li>
			</ul>
		</footer>
	</footer>
			</body>
		
<!-- Mirrored from learn.microsoft.com/en-us/aspnet/core/test/razor-pages-tests?view=aspnetcore-9.0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 14:53:03 GMT -->
</html>