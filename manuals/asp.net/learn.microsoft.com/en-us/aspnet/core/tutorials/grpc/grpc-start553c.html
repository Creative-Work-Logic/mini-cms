 <!DOCTYPE html>
		<html
			class="layout layout-holy-grail   show-table-of-contents conceptual show-breadcrumb default-focus"
			lang="en-us"
			dir="ltr"
			data-authenticated="false"
			data-auth-status-determined="false"
			data-target="docs"
			x-ms-format-detection="none"
		>
			
		
<!-- Mirrored from learn.microsoft.com/en-us/aspnet/core/tutorials/grpc/grpc-start?view=aspnetcore-9.0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 14:53:03 GMT -->
<head>
			<title>Create a .NET gRPC client and server in ASP.NET Core | Microsoft Learn</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0" />
			<meta name="color-scheme" content="light dark" />

			<meta name="description" content="This tutorial shows how to create a gRPC Service and gRPC client on ASP.NET Core. Learn how to create a gRPC Service project, edit a proto file, and add a duplex streaming call." />
			<link rel="canonical" href="grpc-start553c.html?view=aspnetcore-9.0" /> 

			<!-- Non-customizable open graph and sharing-related metadata -->
			<meta name="twitter:card" content="summary" />
			<meta name="twitter:site" content="@MicrosoftLearn" />
			<meta property="og:type" content="website" />
			<meta property="og:image:alt" content="Create a .NET gRPC client and server in ASP.NET Core | Microsoft Learn" />
			<meta property="og:image" content="https://learn.microsoft.com/dotnet/media/dotnet-logo.png" />
			<!-- Page specific open graph and sharing-related metadata -->
			<meta property="og:title" content="Create a .NET gRPC client and server in ASP.NET Core" />
			<meta property="og:url" content="grpc-start553c.html?view=aspnetcore-9.0" />
			<meta property="og:description" content="This tutorial shows how to create a gRPC Service and gRPC client on ASP.NET Core. Learn how to create a gRPC Service project, edit a proto file, and add a duplex streaming call." />
			<meta name="platform_id" content="f6a642b2-68e6-c0ee-1463-7c36dcce1d7c" /> <meta name="scope" content="ASP.NET Core" />
			<meta name="locale" content="en-us" />
			 <meta name="adobe-target" content="true" />
			<meta name="uhfHeaderId" content="MSDocsHeader-AspNet" />

			<meta name="page_type" content="conceptual" />

			<!--page specific meta tags-->
			

			<!-- custom meta tags -->
			
		<meta name="breadcrumb_path" content="/aspnet/core/breadcrumb/toc.json" />
	
		<meta name="feedback_system" content="OpenSource" />
	
		<meta name="feedback_product_url" content="https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md" />
	
		<meta name="ms.service" content="aspnet-core" />
	
		<meta name="ms.topic" content="tutorial" />
	
		<meta name="ms.subservice" content="tutorials" />
	
		<meta name="recommendations" content="false" />
	
		<meta name="author" content="JamesNK" />
	
		<meta name="monikerRange" content="&gt;= aspnetcore-3.0" />
	
		<meta name="ms.author" content="wpickett" />
	
		<meta name="ms.date" content="2025-01-30T00:00:00Z" />
	
		<meta name="uid" content="tutorials/grpc/grpc-start" />
	
		<meta name="document_id" content="1d298a6c-8ddc-dbc8-d219-0fa7138442c2" />
	
		<meta name="document_version_independent_id" content="b96be346-958a-cfcd-d80a-c352d64223e8" />
	
		<meta name="updated_at" content="2025-07-30T11:33:00Z" />
	
		<meta name="original_content_git_url" content="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/tutorials/grpc/grpc-start.md" />
	
		<meta name="gitcommit" content="https://github.com/dotnet/AspNetCore.Docs/blob/879a03201958c8aea52cdfa611a1272865b09707/aspnetcore/tutorials/grpc/grpc-start.md" />
	
		<meta name="git_commit_id" content="879a03201958c8aea52cdfa611a1272865b09707" />
	
		<meta name="monikers" content="aspnetcore-3.0" />
	
		<meta name="monikers" content="aspnetcore-3.1" />
	
		<meta name="monikers" content="aspnetcore-5.0" />
	
		<meta name="monikers" content="aspnetcore-6.0" />
	
		<meta name="monikers" content="aspnetcore-7.0" />
	
		<meta name="monikers" content="aspnetcore-8.0" />
	
		<meta name="monikers" content="aspnetcore-9.0" />
	
		<meta name="monikers" content="aspnetcore-10.0" />
	
		<meta name="default_moniker" content="aspnetcore-9.0" />
	
		<meta name="site_name" content="Docs" />
	
		<meta name="depot_name" content="MSDN.aspnet-core-conceptual" />
	
		<meta name="schema" content="Conceptual" />
	
		<meta name="toc_rel" content="../../toc.json" />
	
		<meta name="pdf_url_template" content="https://learn.microsoft.com/pdfstore/en-us/MSDN.aspnet-core-conceptual/{branchName}{pdfName}" />
	
		<meta name="feedback_help_link_type" content="" />
	
		<meta name="feedback_help_link_url" content="" />
	
		<meta name="word_count" content="12717" />
	
		<meta name="config_moniker_range" content="&gt;= aspnetcore-1.0" />
	
		<meta name="asset_id" content="tutorials/grpc/grpc-start" />
	
		<meta name="moniker_range_name" content="baeba9fa90d1bd6d351857ae16d477a8" />
	
		<meta name="item_type" content="Content" />
	
		<meta name="source_path" content="aspnetcore/tutorials/grpc/grpc-start.md" />
	
		<meta name="previous_tlsh_hash" content="59AE1173750FEF2A8D824D3F04CE784091F0C889BED0BACC1536B1A296CE1D5167B4AD0ADA1FA788633515A247D7A98F4DD0FA2D511C6767697604FCD26D2386F7AC3AE4D3" />
	
		<meta name="github_feedback_content_git_url" content="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/tutorials/grpc/grpc-start.md" />
	 
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/911a44a7-2f6c-477c-810f-dc8b7d425cce" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/4628cbd9-6f47-4ae1-b371-d34636609eaf" data-source="generated" />
	
		<meta name="cmProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/7696cda6-0510-47f6-8302-71bb5d2e28cf" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/14f2b9d5-6f06-45a8-ac5f-313eaa351153" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/be21deb8-8c64-44b0-b71f-2dc56ca7364f" data-source="generated" />
	
		<meta name="spProducts" content="https://authoring-docs-microsoft.poolparty.biz/devrel/69c76c32-967e-4c65-b89a-74cc527db725" data-source="generated" />
	

			<!-- assets and js globals -->
			
			<link rel="stylesheet" href="https://learn.microsoft.com/static/assets/0.4.03137.7032-e8b681c0/styles/site-ltr.css" />
			<link rel="preconnect" href="http://mscom.demdex.net/" crossorigin />
						<link rel="dns-prefetch" href="http://target.microsoft.com/" />
						<link rel="dns-prefetch" href="http://microsoftmscompoc.tt.omtrdc.net/" />
						<link
							rel="preload"
							as="script"
							href="https://learn.microsoft.com/static/third-party/adobe-target/at-js/2.9.0/at.js"
							integrity="sha384-1/viVM50hgc33O2gOgkWz3EjiD/Fy/ld1dKYXJRUyjNYVEjSUGcSN+iPiQF7e4cu"
							crossorigin="anonymous"
							id="adobe-target-script"
							type="application/javascript"
						/>
			<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
			<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-4.min.js"></script>
			<script src="https://learn.microsoft.com/_themes/docs.theme/master/en-us/_themes/global/deprecation.js"></script>

			<!-- msdocs global object -->
			<script id="msdocs-script">
		var msDocs = {
  "environment": {
    "accessLevel": "online",
    "azurePortalHostname": "portal.azure.com",
    "reviewFeatures": false,
    "supportLevel": "production",
    "systemContent": true,
    "siteName": "learn",
    "legacyHosting": false
  },
  "data": {
    "contentLocale": "en-us",
    "contentDir": "ltr",
    "userLocale": "en-us",
    "userDir": "ltr",
    "pageTemplate": "Conceptual",
    "brand": "",
    "context": {},
    "standardFeedback": false,
    "showFeedbackReport": false,
    "feedbackHelpLinkType": "",
    "feedbackHelpLinkUrl": "",
    "feedbackSystem": "OpenSource",
    "feedbackGitHubRepo": "dotnet/AspNetCore.Docs",
    "feedbackProductUrl": "https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md",
    "extendBreadcrumb": false,
    "isEditDisplayable": true,
    "isPrivateUnauthorized": false,
    "hideViewSource": false,
    "isPermissioned": false,
    "hasRecommendations": true,
    "contributors": [
      {
        "name": "JamesNK",
        "url": "https://github.com/JamesNK"
      },
      {
        "name": "Copilot",
        "url": "https://github.com/Copilot"
      },
      {
        "name": "timdeschryver",
        "url": "https://github.com/timdeschryver"
      },
      {
        "name": "wadepickett",
        "url": "https://github.com/wadepickett"
      },
      {
        "name": "postmeback",
        "url": "https://github.com/postmeback"
      },
      {
        "name": "Rick-Anderson",
        "url": "https://github.com/Rick-Anderson"
      },
      {
        "name": "johndward01",
        "url": "https://github.com/johndward01"
      },
      {
        "name": "pea-sys",
        "url": "https://github.com/pea-sys"
      },
      {
        "name": "guardrex",
        "url": "https://github.com/guardrex"
      },
      {
        "name": "serpent5",
        "url": "https://github.com/serpent5"
      },
      {
        "name": "FrankAtHexagon",
        "url": "https://github.com/FrankAtHexagon"
      },
      {
        "name": "smandia",
        "url": "https://github.com/smandia"
      },
      {
        "name": "scottaddie",
        "url": "https://github.com/scottaddie"
      },
      {
        "name": "jongalloway",
        "url": "https://github.com/jongalloway"
      },
      {
        "name": "cpoDesign",
        "url": "https://github.com/cpoDesign"
      },
      {
        "name": "HamidMolareza",
        "url": "https://github.com/HamidMolareza"
      },
      {
        "name": "noctwolf",
        "url": "https://github.com/noctwolf"
      },
      {
        "name": "tdykstra",
        "url": "https://github.com/tdykstra"
      },
      {
        "name": "ramil89",
        "url": "https://github.com/ramil89"
      },
      {
        "name": "nschonni",
        "url": "https://github.com/nschonni"
      },
      {
        "name": "v-thepet",
        "url": "https://github.com/v-thepet"
      }
    ],
    "openSourceFeedbackIssueUrl": "https://github.com/dotnet/aspnetcore.docs/issues/new?template=customer-feedback.yml",
    "openSourceFeedbackIssueTitle": "",
    "openSourceFeedbackIssueLabels": "Source - Docs.ms,:watch: Not Triaged"
  },
  "functions": {}
};;
	</script>

			<!-- base scripts, msdocs global should be before this -->
			<script src="https://learn.microsoft.com/static/assets/0.4.03137.7032-e8b681c0/scripts/en-us/index-docs.js"></script>
			

			<!-- json-ld -->
			
		</head>
	
			<body
				id="body"
				data-bi-name="body"
				class="layout-body "
				lang="en-us"
				dir="ltr"
			>
				<header class="layout-body-header">
		<div class="header-holder has-default-focus">
			
		<a
			href="#main"
			
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			
		>
			Skip to main content
		</a>
	
		<a
			href="#"
			data-skip-to-ask-learn
			style="z-index: 1070"
			class="outline-color-text visually-hidden-until-focused position-fixed inner-focus focus-visible top-0 left-0 right-0 padding-xs text-align-center background-color-body"
			hidden
		>
			Skip to Ask Learn chat experience
		</a>
	

			<div hidden id="cookie-consent-holder" data-test-id="cookie-consent-container"></div>
			<!-- Unsupported browser warning -->
			<div
				id="unsupported-browser"
				style="background-color: white; color: black; padding: 16px; border-bottom: 1px solid grey;"
				hidden
			>
				<div style="max-width: 800px; margin: 0 auto;">
					<p style="font-size: 24px">This browser is no longer supported.</p>
					<p style="font-size: 16px; margin-top: 16px;">
						Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.
					</p>
					<div style="margin-top: 12px;">
						<a
							href="https://go.microsoft.com/fwlink/p/?LinkID=2092881"
							style="background-color: #0078d4; border: 1px solid #0078d4; color: white; padding: 6px 12px; border-radius: 2px; display: inline-block;"
						>
							Download Microsoft Edge
						</a>
						<a
							href="https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge"
							style="background-color: white; padding: 6px 12px; border: 1px solid #505050; color: #171717; border-radius: 2px; display: inline-block;"
						>
							More info about Internet Explorer and Microsoft Edge
						</a>
					</div>
				</div>
			</div>
			<!-- site header -->
			<header
				id="ms--site-header"
				data-test-id="site-header-wrapper"
				role="banner"
				itemscope="itemscope"
				itemtype="http://schema.org/Organization"
			>
				<div
					id="ms--mobile-nav"
					class="site-header display-none-tablet padding-inline-none gap-none"
					data-bi-name="mobile-header"
					data-test-id="mobile-header"
				></div>
				<div
					id="ms--primary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L1-header"
					data-test-id="primary-header"
				></div>
				<div
					id="ms--secondary-nav"
					class="site-header display-none display-flex-tablet"
					data-bi-name="L2-header"
					data-test-id="secondary-header"
				></div>
			</header>
			
		<!-- banner -->
		<div data-banner>
			<div id="disclaimer-holder"></div>
			
		</div>
		<!-- banner end -->
	
		</div>
	</header>
				 <section
					id="layout-body-menu"
					class="layout-body-menu display-flex"
					data-bi-name="menu"
			  >
					<div
		id="left-container"
		class="left-container display-none display-block-tablet padding-inline-sm padding-bottom-sm width-full"
	>
		<nav
			id="affixed-left-container"
			class="margin-top-sm-tablet position-sticky display-flex flex-direction-column"
			aria-label="Primary"
		></nav>
	</div>
			  </section>

				<main
					id="main"
					role="main"
					class="layout-body-main "
					data-bi-name="content"
					lang="en-us"
					dir="ltr"
				>
					
			<div
		id="ms--content-header"
		class="content-header default-focus border-bottom-none"
		data-bi-name="content-header"
	>
		<div class="content-header-controls margin-xxs margin-inline-sm-tablet">
			<button
				type="button"
				class="contents-button button button-sm margin-right-xxs"
				data-bi-name="contents-expand"
				aria-haspopup="true"
				data-contents-button
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-menu"></span></span>
				<span class="contents-expand-title"> Table of contents </span>
			</button>
			<button
				type="button"
				class="ap-collapse-behavior ap-expanded button button-sm"
				data-bi-name="ap-collapse"
				aria-controls="action-panel"
			>
				<span class="icon" aria-hidden="true"><span class="docon docon-exit-mode"></span></span>
				<span>Exit editor mode</span>
			</button>
		</div>
	</div>
			<div data-main-column class="padding-sm padding-top-none padding-top-sm-tablet">
				<div>
					
		<div id="article-header" class="background-color-body margin-bottom-xs display-none-print">
			<div class="display-flex align-items-center justify-content-space-between">
				
		<details
			id="article-header-breadcrumbs-overflow-popover"
			class="popover"
			data-for="article-header-breadcrumbs"
		>
			<summary
				class="button button-clear button-primary button-sm inner-focus"
				aria-label="All breadcrumbs"
			>
				<span class="icon">
					<span class="docon docon-more"></span>
				</span>
			</summary>
			<div id="article-header-breadcrumbs-overflow" class="popover-content padding-none"></div>
		</details>

		<bread-crumbs
			id="article-header-breadcrumbs"
			data-test-id="article-header-breadcrumbs"
			class="overflow-hidden flex-grow-1 margin-right-sm margin-right-md-tablet margin-right-lg-desktop margin-left-negative-xxs padding-left-xxs"
		></bread-crumbs>
	 
		<div
			id="article-header-page-actions"
			class="opacity-none margin-left-auto display-flex flex-wrap-no-wrap align-items-stretch"
		>
			
		<button
			class="button button-sm border-none inner-focus display-none-tablet flex-shrink-0 "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-mobile"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-label="Ask Learn"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
		</button>
		<button
			class="button button-sm display-none display-inline-flex-tablet display-none-desktop flex-shrink-0 margin-right-xxs border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-modal-entry-tablet"
			data-ask-learn-modal-entry
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
		<button
			class="button button-sm display-none flex-shrink-0 display-inline-flex-desktop margin-right-xxs	border-color-ask-learn "
			data-bi-name="ask-learn-assistant-entry"
			data-test-id="ask-learn-assistant-flyout-entry"
			data-ask-learn-flyout-entry
			data-flyout-button="toggle"
			type="button"
			style="min-width: max-content;"
			aria-expanded="false"
			aria-controls="ask-learn-flyout"
			hidden
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-chat-sparkle-fill gradient-ask-learn-logo"></span>
			</span>
			<span>Ask Learn</span>
		</button>
	 
		<button
			type="button"
			id="ms--focus-mode-button"
			data-focus-mode
			data-bi-name="focus-mode-entry"
			class="button button-sm flex-shrink-0 margin-right-xxs display-none display-inline-flex-desktop"
		>
			<span class="icon font-size-lg" aria-hidden="true">
				<span class="docon docon-glasses"></span>
			</span>
			<span>Focus mode</span>
		</button>
	 

			<details class="popover popover-right" id="article-header-page-actions-overflow">
				<summary
					class="justify-content-flex-start button button-clear button-sm button-primary inner-focus"
					aria-label="More actions"
					title="More actions"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-more-vertical"></span>
					</span>
				</summary>
				<div class="popover-content">
					
		<button
			data-page-action-item="overflow-mobile"
			type="button"
			class="button-block button-sm has-inner-focus button button-clear display-none-tablet justify-content-flex-start text-align-left"
			data-bi-name="contents-expand"
			data-contents-button
			data-popover-close
		>
			<span class="icon">
				<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
			</span>
			<span class="contents-expand-title">Table of contents</span>
		</button>
	 
		<a
			id="lang-link-overflow"
			class="button-sm has-inner-focus button button-clear button-block justify-content-flex-start text-align-left"
			data-bi-name="language-toggle"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-read-in-link
			href="#"
			hidden
		>
			<span class="icon" aria-hidden="true" data-read-in-link-icon>
				<span class="docon docon-locale-globe"></span>
			</span>
			<span data-read-in-link-text>Read in English</span>
		</a>
	 
		<button
			type="button"
			class="collection button button-clear button-sm button-block justify-content-flex-start text-align-left inner-focus"
			data-list-type="collection"
			data-bi-name="collection"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="collection-status">Add</span>
		</button>
	
					
		<button
			type="button"
			class="collection button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			data-list-type="plan"
			data-bi-name="plan"
			data-page-action-item="overflow-all"
			data-check-hidden="true"
			data-popover-close
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-circle-addition"></span>
			</span>
			<span class="plan-status">Add to plan</span>
		</button>
	  
		<a
			data-contenteditbtn
			class="button button-clear button-block button-sm inner-focus justify-content-flex-start text-align-left text-decoration-none"
			data-bi-name="edit"
			
			href="https://github.com/dotnet/AspNetCore.Docs/blob/main/aspnetcore/tutorials/grpc/grpc-start.md"
			data-original_content_git_url="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/tutorials/grpc/grpc-start.md"
			data-original_content_git_url_template="{repo}/blob/{branch}/aspnetcore/tutorials/grpc/grpc-start.md"
			data-pr_repo=""
			data-pr_branch=""
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-edit-outline"></span>
			</span>
			<span>Edit</span>
		</a>
	
					
		<hr class="margin-block-xxs" />
		<h4 class="font-size-sm padding-left-xxs">Share via</h4>
		
					<a
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-facebook"
						data-bi-name="facebook"
						data-page-action-item="overflow-all"
						href="#"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-facebook-share"></span>
						</span>
						<span>Facebook</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-twitter"
						data-bi-name="twitter"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-text" aria-hidden="true">
							<span class="docon docon-xlogo-share"></span>
						</span>
						<span>x.com</span>
					</a>

					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-linkedin"
						data-bi-name="linkedin"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-linked-in-logo"></span>
						</span>
						<span>LinkedIn</span>
					</a>
					<a
						href="#"
						class="button button-clear button-sm inner-focus button-block justify-content-flex-start text-align-left text-decoration-none share-email"
						data-bi-name="email"
						data-page-action-item="overflow-all"
					>
						<span class="icon color-primary" aria-hidden="true">
							<span class="docon docon-mail-message"></span>
						</span>
						<span>Email</span>
					</a>
			  
	 
		<hr class="margin-block-xxs" />
		<button
			class="button button-block button-clear button-sm justify-content-flex-start text-align-left inner-focus"
			type="button"
			data-bi-name="print"
			data-page-action-item="overflow-all"
			data-popover-close
			data-print-page
			data-check-hidden="true"
		>
			<span class="icon color-primary" aria-hidden="true">
				<span class="docon docon-print"></span>
			</span>
			<span>Print</span>
		</button>
	
				</div>
			</details>
		</div>
	
			</div>
		</div>
	
					<!-- azure disclaimer -->
					
					<!-- privateUnauthorizedTemplate is hidden by default -->
					
		<div unauthorized-private-section data-bi-name="permission-content-unauthorized-private" hidden>
			<hr class="hr margin-top-xs margin-bottom-sm" />
			<div class="notification notification-info">
				<div class="notification-content">
					<p class="margin-top-none notification-title">
						<span class="icon">
							<span class="docon docon-exclamation-circle-solid" aria-hidden="true"></span>
						</span>
						<span>Note</span>
					</p>
					<p class="margin-top-none authentication-determined not-authenticated">
						Access to this page requires authorization. You can try <a class="docs-sign-in" href="#" data-bi-name="permission-content-sign-in">signing in</a> or <a  class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
					<p class="margin-top-none authentication-determined authenticated">
						Access to this page requires authorization. You can try <a class="docs-change-directory" data-bi-name="permisson-content-change-directory">changing directories</a>.
					</p>
				</div>
			</div>
		</div>
	
					<div class="content"><h1 id="tutorial-create-a-grpc-client-and-server-in-aspnet-core">Tutorial: Create a gRPC client and server in ASP.NET Core</h1></div>
					
		<div
			id="article-metadata"
			class="page-metadata-container display-flex gap-xxs justify-content-space-between align-items-center flex-wrap-wrap"
		>
			
		<div class="margin-block-xxs">
			<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
				  <li class="visibility-hidden-visual-diff">
			<local-time
				format="twoDigitNumeric"
				datetime="2025-01-31T21:56:00.000Z"
				data-article-date-source="calculated"
				class="is-invisible"
			>
				2025-01-31
			</local-time>
		</li>  
			</ul>
		</div>
	 
				<div
					id="user-feedback"
					class="margin-block-xxs display-none display-none-print"
					hidden
					data-hide-on-archived
				>
					
		<button
			id="user-feedback-button"
			data-test-id="conceptual-feedback-button"
			class="button button-sm button-clear button-primary display-none"
			type="button"
			data-bi-name="user-feedback-button"
			data-user-feedback-button
			hidden
		>
			<span class="icon" aria-hidden="true">
				<span class="docon docon-like"></span>
			</span>
			<span>Feedback</span>
		</button>
	
				</div>
		  
		</div>
	 
		<nav
			id="center-doc-outline"
			class="doc-outline is-hidden-desktop display-none-print margin-bottom-sm"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h2 id="ms--in-this-article" class="title is-6 margin-block-xs">
				In this article
			</h2>
		</nav>
	
					<div class="content"><div data-moniker="aspnetcore-10.0 aspnetcore-9.0">
<p>This tutorial shows how to create a .NET <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server. At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">
<!-- use the include for articles that are not updated every release, like the data/ef articles -->
<ul>
<li><p><a href="https://visualstudio.microsoft.com/downloads/" data-linktype="external">Visual Studio 2022</a> with the <strong>ASP.NET and web development</strong> workload.</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/tutorials/min-web-api/_static/asp-net-web-dev.png?view=aspnetcore-9.0" alt="VS22 installer workloads" data-linktype="relative-path"></p>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit" data-linktype="external">C# Dev Kit for Visual Studio Code</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/9.0" data-linktype="external">.NET 9 SDK</a></li>
</ul>
<p>You can follow the Visual Studio Code instructions on macOS, Linux, or Windows. Changes may be required if you use an integrated development environment (IDE) other than Visual Studio Code.</p>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Start Visual Studio 2022 and select <strong>New Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, search for <code>gRPC</code>. Select <strong>ASP.NET Core gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog, enter <code>GrpcGreeter</code> for <strong>Project name</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 9.0 (Standard Term Support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>The tutorial assumes familiarity with VS Code. For more information, see <a href="https://code.visualstudio.com/docs" data-linktype="external">Getting started with VS Code</a>.</p>
<ul>
<li><p>Select <strong>New Terminal</strong> from the <strong>Terminal</strong> menu to open the <a href="https://code.visualstudio.com/docs/terminal/basics" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change to the directory (<code>cd</code>) that will contain the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<p>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</p>
<p>The <code>code</code> command opens the <em>GrpcGreeter</em> project folder in the current instance of Visual Studio Code.</p>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is the localhost port number randomly assigned when the project is created and set in <code>Properties/launchSettings.json</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.  The gRPC service localhost port number is randomly assigned when the project is created and set in the <em>Properties\launchSettings.json</em> file of the gRPC service project.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><code>Protos/greet.proto</code>: defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><code>Services</code> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appSettings.json</code>: Contains configuration data such as the protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>, which contains:
<ul>
<li>The entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li>Code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>New Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console App</strong>, and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 9.0 (Standard Term Support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/terminal/basics" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
</div>
<h3 id="add-required-nuget-packages">Add required NuGet packages</h3>
<p>The gRPC client project requires the following NuGet packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contain C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
</li>
</ul>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
</div>

<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<ul>
<li><p>Update the gRPC client <code>Program.cs</code> file with the following code.</p>
<pre><code class="lang-csharp" highlight-lines="5">using Grpc.Net.Client;
using GrpcGreeterClient;

// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
    new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre></li>
<li><p>In the preceding highlighted code, replace the localhost port number <code>7042</code> with the <code>HTTPS</code> port number specified in <code>Properties/launchSettings.json</code> within the <code>GrpcGreeter</code> service project.</p>
</li>
</ul>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="1-3">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
    new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="4-6">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
    new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<p>Update the <code>appsettings.Development.json</code> file by adding the following highlighted lines:</p>
<pre><code class="lang-csharp" highlight-lines="6-7">{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.AspNetCore.Hosting": "Information",
      "Microsoft.AspNetCore.Routing.EndpointMiddleware": "Information"
    }
  }
}
</code></pre><div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the <code>GrpcGreeter</code> service project, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> console project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:&lt;port&gt;/greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished HTTP/2 POST https://localhost:7042/greet.Greeter/SayHello - 200 - application/grpc 40.4615ms
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li>View or download <a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample" data-linktype="external">the completed sample code for this tutorial</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</li>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-8.0">
<p>This tutorial shows how to create a .NET <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server. At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p><a href="https://visualstudio.microsoft.com/downloads/" data-linktype="external">Visual Studio 2022</a> with the <strong>ASP.NET and web development</strong> workload.</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/tutorials/min-web-api/_static/asp-net-web-dev.png?view=aspnetcore-9.0" alt="VS22 installer workloads" data-linktype="relative-path"></p>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# for Visual Studio Code (latest version)</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/8.0" data-linktype="external">.NET 8 SDK</a></li>
</ul>
<p>The Visual Studio Code instructions use the .NET CLI for ASP.NET Core development functions such as project creation. You can follow these instructions on macOS, Linux, or Windows and with any code editor. Minor changes may be required if you use something other than Visual Studio Code.</p>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Start Visual Studio 2022 and select <strong>New Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, search for <code>gRPC</code>. Select <strong>ASP.NET Core gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog, enter <code>GrpcGreeter</code> for <strong>Project name</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 8.0 (Long Term Support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>The tutorial assumes familiarity with VS Code. For more information, see <a href="https://code.visualstudio.com/docs" data-linktype="external">Getting started with VS Code</a>.</p>
<ul>
<li><p>Select <strong>New Terminal</strong> from the <strong>Terminal</strong> menu to open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change to the directory (<code>cd</code>) that will contain the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<p>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</p>
<p>The <code>code</code> command opens the <em>GrpcGreeter</em> project folder in the current instance of Visual Studio Code.</p>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Select <strong>Debug</strong> &gt; <strong>Start Without Debugging</strong> to launch the app.</p>
<p>Visual Studio for Mac:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
<p>Visual Studio for Mac displays the following popup:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcertmac6.png?view=aspnetcore-9.0" alt="HTTPS Development certificate not found. Do you want to install and trust the certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Install and Trust</strong> if you trust the development certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/certmac6.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Enter your password and select <strong>Update Settings</strong></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>See <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-the-aspnet-core-https-development-certificate-on-windows-and-macos" data-linktype="relative-path">Trust the ASP.NET Core HTTPS development certificate</a> for more information.</p>
</li>
<li><p>From Visual Studio, press <strong>Opt-Cmd-Return</strong> to run without the debugger. Alternatively, navigate to the menu bar and go to <strong>Run&gt;Start Without Debugging</strong>.</p>
<p>Visual Studio starts <a href="../../fundamentals/servers/kestrel553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Kestrel</a>, launches a browser, and navigates to a randomly assigned port such as <code>http://localhost:7042</code>.</p>
</li>
</ul>
<!-- End of VS tabs -->
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is the localhost port number randomly assigned when the project is created and set in <code>Properties/launchSettings.json</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.  The gRPC service localhost port number is randomly assigned when the project is created and set in the <em>Properties\launchSettings.json</em> file of the gRPC service project.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><code>Protos/greet.proto</code>: defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><code>Services</code> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appSettings.json</code>: Contains configuration data such as the protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>, which contains:
<ul>
<li>The entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li>Code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>New Project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console App</strong>, and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 8.0 (Long Term Support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
</div>
<h3 id="add-required-nuget-packages">Add required NuGet packages</h3>
<p>The gRPC client project requires the following NuGet packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contain C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
</li>
</ul>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
</div>

<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<ul>
<li><p>Update the gRPC client <code>Program.cs</code> file with the following code.</p>
<pre><code class="lang-csharp" highlight-lines="6">using System.Threading.Tasks;
using Grpc.Net.Client;
using GrpcGreeterClient;

// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre></li>
<li><p>In the preceding highlighted code, replace the localhost port number <code>7042</code> with the <code>HTTPS</code> port number specified in <code>Properties/launchSettings.json</code> within the <code>GrpcGreeter</code> service project.</p>
</li>
</ul>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="1-3">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="4-7">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<p>Update the <code>appsettings.Development.json</code> file by adding the following highlighted lines:</p>
<pre><code class="lang-csharp" highlight-lines="6-7">{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
      ,"Microsoft.AspNetCore.Hosting": "Information",
      "Microsoft.AspNetCore.Routing.EndpointMiddleware": "Information"
    }
  }
}
</code></pre><div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the Greeter service, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:&lt;port&gt;/Greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished in 78.32260000000001ms 200 application/grpc
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li>View or download <a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample" data-linktype="external">the completed sample code for this tutorial</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</li>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-7.0">
<p>This tutorial shows how to create a .NET <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server. At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p><a href="https://visualstudio.microsoft.com/vs/#download" data-linktype="external">Visual Studio 2022</a> with the <strong>ASP.NET and web development</strong> workload.</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/tutorials/min-web-api/_static/asp-net-web-dev.png?view=aspnetcore-9.0" alt="VS22 installer workloads" data-linktype="relative-path"></p>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# for Visual Studio Code (latest version)</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/7.0" data-linktype="external">.NET 7 SDK</a></li>
</ul>
<p>The Visual Studio Code instructions use the .NET CLI for ASP.NET Core development functions such as project creation. You can follow these instructions on macOS, Linux, or Windows and with any code editor. Minor changes may be required if you use something other than Visual Studio Code.</p>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p><a href="https://visualstudio.microsoft.com/vs/mac/" data-linktype="external">Visual Studio 2022 for Mac (latest version)</a></p>
<div class="IMPORTANT">
<p>Important</p>
<p>Microsoft has announced the retirement of Visual Studio for Mac. Visual Studio for Mac will no longer be supported starting August 31, 2024. Alternatives include:</p>
<ul>
<li>Visual Studio Code with the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit" data-linktype="external">C# Dev Kit</a> and related extensions, such as <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.dotnet-maui" data-linktype="external">.NET MAUI</a> and <a href="https://marketplace.visualstudio.com/items?itemName=visualstudiotoolsforunity.vstuc" data-linktype="external">Unity</a>.</li>
<li>Visual Studio IDE running on Windows in a VM on Mac.</li>
<li>Visual Studio IDE running on Windows in a <a href="https://aka.ms/devbox" data-linktype="external">VM in the Cloud</a>.</li>
</ul>
<p>For more information, see <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-for-mac-retirement-announcement" data-linktype="external">Visual Studio for Mac retirement announcement</a>.</p>
</div>
</li>
</ul>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-mac" role="tab" aria-controls="tabpanel_2_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Start Visual Studio 2022 and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, search for <code>gRPC</code>. Select <strong>ASP.NET Core gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog, enter <code>GrpcGreeter</code> for <strong>Project name</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 6.0 (Long-term support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>The tutorial assumes familiarity with VS Code. For more information, see <a href="https://code.visualstudio.com/docs" data-linktype="external">Getting started with VS Code</a>.</p>
<ul>
<li><p>Select <strong>New Terminal</strong> from the <strong>Terminal</strong> menu to open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change to the directory (<code>cd</code>) that will contain the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<p>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</p>
<p>The <code>code</code> command opens the <em>GrpcGreeter</em> project folder in the current instance of Visual Studio Code.</p>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
<section id="tabpanel_2_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Start Visual Studio for Mac and select <strong>File</strong> &gt; <strong>New Project</strong>.</li>
<li>In the <strong>Choose a template for your new project</strong> dialog, select <strong>Web and Console</strong> &gt; <strong>App</strong> &gt; <strong>gRPC Service</strong> and select <strong>Continue</strong>.</li>
<li>Select <strong>.NET 6.0</strong> for the target framework and select <strong>Continue</strong>.</li>
<li>Name the project <strong>GrpcGreeter</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Continue</strong>.</li>
</ul>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Select <strong>Debug</strong> &gt; <strong>Start Without Debugging</strong> to launch the app.</p>
<p>Visual Studio for Mac:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
<p>Visual Studio for Mac displays the following popup:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcertmac6.png?view=aspnetcore-9.0" alt="HTTPS Development certificate not found. Do you want to install and trust the certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Install and Trust</strong> if you trust the development certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/certmac6.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Enter your password and select <strong>Update Settings</strong></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>See <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-the-aspnet-core-https-development-certificate-on-windows-and-macos" data-linktype="relative-path">Trust the ASP.NET Core HTTPS development certificate</a> for more information.</p>
</li>
<li><p>From Visual Studio, press <strong>Opt-Cmd-Return</strong> to run without the debugger. Alternatively, navigate to the menu bar and go to <strong>Run&gt;Start Without Debugging</strong>.</p>
<p>Visual Studio starts <a href="../../fundamentals/servers/kestrel553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Kestrel</a>, launches a browser, and navigates to a randomly assigned port such as <code>http://localhost:7042</code>.</p>
</li>
</ul>
<!-- End of VS tabs -->
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is the localhost port number randomly assigned when the project is created and set in <code>Properties/launchSettings.json</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.  The gRPC service localhost port number is randomly assigned when the project is created and set in the <em>Properties\launchSettings.json</em> file of the gRPC service project.</p>
<p>macOS doesn't support ASP.NET Core gRPC with TLS. Additional configuration is required to successfully run gRPC services on macOS. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">Unable to start ASP.NET Core gRPC app on macOS</a>.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><code>Protos/greet.proto</code>: defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><code>Services</code> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appSettings.json</code>: Contains configuration data such as the protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>, which contains:
<ul>
<li>The entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li>Code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-mac" role="tab" aria-controls="tabpanel_3_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console Application</strong>, and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 6.0 (Long-term support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
<section id="tabpanel_3_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Follow the instructions in <a href="https://learn.microsoft.com/en-us/dotnet/core/tutorials/using-on-mac-vs-full-solution" data-linktype="absolute-path">Building a complete .NET solution on macOS using Visual Studio for Mac</a> to create a console app with the name <em>GrpcGreeterClient</em>.</p>
</section>
</div>
<h3 id="add-required-nuget-packages">Add required NuGet packages</h3>
<p>The gRPC client project requires the following NuGet packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contain C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-mac" role="tab" aria-controls="tabpanel_4_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
<section id="tabpanel_4_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Right-click <strong>GrpcGreeterClient</strong> project in the <strong>Solution Pad</strong> and select <strong>Manage NuGet Packages</strong>.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the results pane and select <strong>Add Package</strong>.</li>
<li>In <strong>Select Projects</strong> select <strong>OK</strong>.</li>
<li>If the <strong>License Acceptance</strong> dialog appears, select <strong>Accept</strong> if you agree to the license terms.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
</li>
</ul>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-mac" role="tab" aria-controls="tabpanel_5_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
<section id="tabpanel_5_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
</div>

<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<ul>
<li><p>Update the gRPC client <code>Program.cs</code> file with the following code.</p>
<pre><code class="lang-csharp" highlight-lines="6">using System.Threading.Tasks;
using Grpc.Net.Client;
using GrpcGreeterClient;

// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre></li>
<li><p>In the preceding highlighted code, replace the localhost port number <code>7042</code> with the <code>HTTPS</code> port number specified in <code>Properties/launchSettings.json</code> within the <code>GrpcGreeter</code> service project.</p>
</li>
</ul>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="1-3">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="4-7">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<p>Update the <code>appsettings.Development.json</code> file by adding the following highlighted lines:</p>
<pre><code class="lang-csharp" highlight-lines="6-7">{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
      ,"Microsoft.AspNetCore.Hosting": "Information",
      "Microsoft.AspNetCore.Routing.EndpointMiddleware": "Information"
    }
  }
}
</code></pre><div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-mac" role="tab" aria-controls="tabpanel_6_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the Greeter service, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Due to the previously mentioned <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">HTTP/2 TLS issue on macOS workaround</a>, you'll need to update the channel address in the client to match port in launchSetting.json of the GrpcGreeter service "http://localhost:5000". Update line 13 of <em><code>GrpcGreeterClient/Program.cs</code></em> to read:</p>
<pre><code class="lang-csharp">using var channel = GrpcChannel.ForAddress("http://localhost:5000");
</code></pre>
</li>
<li><p>Start the Greeter service.</p>
</li>
<li><p>Start the client.</p>
</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:&lt;port&gt;/Greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished in 78.32260000000001ms 200 application/grpc
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li>View or download <a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample/sample6" data-linktype="external">the completed sample code for this tutorial</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</li>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-6.0">
<p>This tutorial shows how to create a .NET <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server. At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><a href="https://visualstudio.microsoft.com/vs/#download" data-linktype="external">Visual Studio 2022</a> with the <strong>ASP.NET and web development</strong> workload.</li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/6.0" data-linktype="external">.NET 6 SDK</a></li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# for Visual Studio Code (latest version)</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/6.0" data-linktype="external">.NET 6 SDK</a></li>
</ul>
<p>The Visual Studio Code instructions use the .NET CLI for ASP.NET Core development functions such as project creation. You can follow these instructions on macOS, Linux, or Windows and with any code editor. Minor changes may be required if you use something other than Visual Studio Code.</p>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p><a href="https://visualstudio.microsoft.com/vs/mac/" data-linktype="external">Visual Studio 2022 for Mac (latest version)</a></p>
<div class="IMPORTANT">
<p>Important</p>
<p>Microsoft has announced the retirement of Visual Studio for Mac. Visual Studio for Mac will no longer be supported starting August 31, 2024. Alternatives include:</p>
<ul>
<li>Visual Studio Code with the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit" data-linktype="external">C# Dev Kit</a> and related extensions, such as <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.dotnet-maui" data-linktype="external">.NET MAUI</a> and <a href="https://marketplace.visualstudio.com/items?itemName=visualstudiotoolsforunity.vstuc" data-linktype="external">Unity</a>.</li>
<li>Visual Studio IDE running on Windows in a VM on Mac.</li>
<li>Visual Studio IDE running on Windows in a <a href="https://aka.ms/devbox" data-linktype="external">VM in the Cloud</a>.</li>
</ul>
<p>For more information, see <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-for-mac-retirement-announcement" data-linktype="external">Visual Studio for Mac retirement announcement</a>.</p>
</div>
</li>
</ul>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-mac" role="tab" aria-controls="tabpanel_2_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Start Visual Studio 2022 and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, search for <code>gRPC</code>. Select <strong>ASP.NET Core gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog, enter <code>GrpcGreeter</code> for <strong>Project name</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 6.0 (Long-term support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>The tutorial assumes familiarity with VS Code. For more information, see <a href="https://code.visualstudio.com/docs" data-linktype="external">Getting started with VS Code</a>.</p>
<ul>
<li><p>Select <strong>New Terminal</strong> from the <strong>Terminal</strong> menu to open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change to the directory (<code>cd</code>) that will contain the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<p>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</p>
<p>The <code>code</code> command opens the <em>GrpcGreeter</em> project folder in the current instance of Visual Studio Code.</p>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
<section id="tabpanel_2_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Start Visual Studio for Mac and select <strong>File</strong> &gt; <strong>New Project</strong>.</li>
<li>In the <strong>Choose a template for your new project</strong> dialog, select <strong>Web and Console</strong> &gt; <strong>App</strong> &gt; <strong>gRPC Service</strong> and select <strong>Continue</strong>.</li>
<li>Select <strong>.NET 6.0</strong> for the target framework and select <strong>Continue</strong>.</li>
<li>Name the project <strong>GrpcGreeter</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Continue</strong>.</li>
</ul>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Select <strong>Debug</strong> &gt; <strong>Start Without Debugging</strong> to launch the app.</p>
<p>Visual Studio for Mac:</p>
<ul>
<li>Starts <a href="../../fundamentals/servers/index553c.html?view=aspnetcore-9.0#kestrel" data-linktype="relative-path">Kestrel</a> server.</li>
<li>Launches a browser.</li>
<li>Navigates to <code>http://localhost:port</code>, such as <code>http://localhost:7042</code>.
<ul>
<li><em>port</em>: A randomly assigned port number for the app.</li>
<li><code>localhost</code>: The standard hostname for the local computer. Localhost only serves web requests from the local computer.</li>
</ul>
</li>
</ul>
<p>Visual Studio for Mac displays the following popup:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcertmac6.png?view=aspnetcore-9.0" alt="HTTPS Development certificate not found. Do you want to install and trust the certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Install and Trust</strong> if you trust the development certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/certmac6.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Enter your password and select <strong>Update Settings</strong></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>See <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-the-aspnet-core-https-development-certificate-on-windows-and-macos" data-linktype="relative-path">Trust the ASP.NET Core HTTPS development certificate</a> for more information.</p>
</li>
<li><p>From Visual Studio, press <strong>Opt-Cmd-Return</strong> to run without the debugger. Alternatively, navigate to the menu bar and go to <strong>Run&gt;Start Without Debugging</strong>.</p>
<p>Visual Studio starts <a href="../../fundamentals/servers/kestrel553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Kestrel</a>, launches a browser, and navigates to a randomly assigned port such as <code>http://localhost:7042</code>.</p>
</li>
</ul>
<!-- End of VS tabs -->
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:&lt;port&gt;</code>, where <code>&lt;port&gt;</code> is the localhost port number randomly assigned when the project is created and set in <code>Properties/launchSettings.json</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.  The gRPC service localhost port number is randomly assigned when the project is created and set in the <em>Properties\launchSettings.json</em> file of the gRPC service project.</p>
<p>macOS doesn't support ASP.NET Core gRPC with TLS. Additional configuration is required to successfully run gRPC services on macOS. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">Unable to start ASP.NET Core gRPC app on macOS</a>.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><code>Protos/greet.proto</code>: defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><code>Services</code> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appSettings.json</code>: Contains configuration data such as the protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>, which contains:
<ul>
<li>The entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li>Code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-mac" role="tab" aria-controls="tabpanel_3_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console Application</strong>, and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 6.0 (Long-term support)</strong> and then select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
<section id="tabpanel_3_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Follow the instructions in <a href="https://learn.microsoft.com/en-us/dotnet/core/tutorials/using-on-mac-vs-full-solution" data-linktype="absolute-path">Building a complete .NET solution on macOS using Visual Studio for Mac</a> to create a console app with the name <em>GrpcGreeterClient</em>.</p>
</section>
</div>
<h3 id="add-required-nuget-packages">Add required NuGet packages</h3>
<p>The gRPC client project requires the following NuGet packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contain C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-mac" role="tab" aria-controls="tabpanel_4_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
<section id="tabpanel_4_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Right-click <strong>GrpcGreeterClient</strong> project in the <strong>Solution Pad</strong> and select <strong>Manage NuGet Packages</strong>.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the results pane and select <strong>Add Package</strong>.</li>
<li>In <strong>Select Projects</strong> select <strong>OK</strong>.</li>
<li>If the <strong>License Acceptance</strong> dialog appears, select <strong>Accept</strong> if you agree to the license terms.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
</li>
</ul>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-mac" role="tab" aria-controls="tabpanel_5_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
<section id="tabpanel_5_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
</div>

<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<ul>
<li><p>Update the gRPC client <code>Program.cs</code> file with the following code.</p>
<pre><code class="lang-csharp" highlight-lines="6">using System.Threading.Tasks;
using Grpc.Net.Client;
using GrpcGreeterClient;

// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre></li>
<li><p>In the preceding highlighted code, replace the localhost port number <code>7042</code> with the <code>HTTPS</code> port number specified in <code>Properties/launchSettings.json</code> within the <code>GrpcGreeter</code> service project.</p>
</li>
</ul>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="1-3">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="4-7">// The port number must match the port of the gRPC server.
using var channel = GrpcChannel.ForAddress("https://localhost:7042");
var client = new Greeter.GreeterClient(channel);
var reply = await client.SayHelloAsync(
                  new HelloRequest { Name = "GreeterClient" });
Console.WriteLine("Greeting: " + reply.Message);
Console.WriteLine("Press any key to exit...");
Console.ReadKey();
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-mac" role="tab" aria-controls="tabpanel_6_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the Greeter service, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Due to the previously mentioned <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">HTTP/2 TLS issue on macOS workaround</a>, you'll need to update the channel address in the client to match port in launchSetting.json of the GrpcGreeter service "http://localhost:5000". Update line 13 of <em><code>GrpcGreeterClient/Program.cs</code></em> to read:</p>
<pre><code class="lang-csharp">using var channel = GrpcChannel.ForAddress("http://localhost:5000");
</code></pre>
</li>
<li><p>Start the Greeter service.</p>
</li>
<li><p>Start the client.</p>
</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:&lt;port&gt;
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:&lt;port&gt;/Greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished in 78.32260000000001ms 200 application/grpc
</code></pre>
<p>Update the <code>appsettings.Development.json</code> file by adding the following lines:</p>
<pre><code class="lang-json">"Microsoft.AspNetCore.Hosting": "Information",
"Microsoft.AspNetCore.Routing.EndpointMiddleware": "Information"
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li>View or download <a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample/sample6" data-linktype="external">the completed sample code for this tutorial</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</li>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-5.0">
<p>This tutorial shows how to create a .NET <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server.</p>
<p>At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample" data-linktype="external">View or download sample code</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><a href="https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&amp;utm_source=learn.microsoft.com&amp;utm_campaign=inline+link&amp;utm_content=download+vs2019" data-linktype="external">Visual Studio 2019 16.8 or later</a> with the <strong>ASP.NET and web development</strong> workload</li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/5.0" data-linktype="external">.NET 5 SDK</a></li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# for Visual Studio Code (latest version)</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/5.0" data-linktype="external">.NET 5 SDK</a></li>
</ul>
<p>The Visual Studio Code instructions use the .NET CLI for ASP.NET Core development functions such as project creation. You can follow these instructions on macOS, Linux, or Windows and with any code editor. Minor changes may be required if you use something other than Visual Studio Code.</p>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://learn.microsoft.com/en-us/visualstudio/releasenotes/vs2019-mac-relnotes" data-linktype="absolute-path">Visual Studio for Mac version 8.7 or later</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet/5.0" data-linktype="external">.NET 5 SDK</a></li>
</ul>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-mac" role="tab" aria-controls="tabpanel_2_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Start Visual Studio and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Configure your new project</strong> dialog, enter <code>GrpcGreeter</code> for <strong>Project name</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Next</strong>.</li>
<li>In the <strong>Additional information</strong> dialog, select <strong>.NET 5.0</strong> in the <strong>Target Framework</strong> dropdown.</li>
<li>Select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>The tutorial assumes familiarity with VS Code. For more information, see <a href="https://code.visualstudio.com/docs" data-linktype="external">Getting started with VS Code</a>.</p>
<ul>
<li><p>Select <strong>New Terminal</strong> from the <strong>Terminal</strong> menu to open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change to the directory (<code>cd</code>) that will contain the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<p>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</p>
<p>The <code>code</code> command opens the <em>GrpcGreeter</em> project folder in the current instance of Visual Studio Code.</p>
</li>
</ul>
<p>Visual Studio Code might display a dialog box that asks: <strong>Do you trust the authors of the files in this folder?</strong></p>
<ul>
<li>If you trust all files in the parent folder, select <strong>Trust the authors of all files in the parent folder</strong>.</li>
<li>Select <strong>Yes, I trust the authors</strong> since the project folder has files generated by .NET.</li>
<li>When Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>. If Visual Studio Code doesn't offer to add build and debug assets, select <strong>View</strong> &gt; <strong>Command Palette</strong> and type "<code>.NET</code>" into the search box. From the list of commands, select the <code>.NET: Generate Assets for Build and Debug</code> command.</li>
</ul>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</section>
<section id="tabpanel_2_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Start Visual Studio for Mac and select <strong>New</strong>. Alternatively, from the Visual Studio <strong>File</strong> menu, select <strong>New Solution</strong>.</li>
<li>In the <strong>Choose a template for your new project</strong> dialog, select <strong>Web and Console</strong> &gt; <strong>App</strong> &gt; <strong>gRPC Service</strong> and select <strong>Next</strong>.</li>
<li>Select <strong>.NET 5.0</strong> for the target framework and select <strong>Next</strong>.</li>
<li>Name the project <strong>GrpcGreeter</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</li>
<li>Select <strong>Create</strong>.</li>
</ul>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio starts <a href="https://learn.microsoft.com/en-us/iis/extensions/introduction-to-iis-express/iis-express-overview" data-linktype="absolute-path">IIS Express</a> and runs the app. The address bar shows <code>localhost:port#</code> and not something like <code>example.com</code>. That's because <code>localhost</code> is the standard hostname for the local computer. Localhost only serves web requests from the local computer. When Visual Studio creates a web project, a random port is used for the web server.</p>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code starts <a href="../../fundamentals/servers/kestrel553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Kestrel</a>, launches a browser, and navigates to <code>http://localhost:5001</code>. The address bar shows <code>localhost:port#</code> and not something like <code>example.com</code>. That's because <code>localhost</code> is the standard hostname for  local computer. Localhost only serves web requests from the local computer.</p>
</li>
</ul>
<!-- End of VS tabs -->
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:5001</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:5001
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.</p>
<p>macOS doesn't support ASP.NET Core gRPC with TLS. Additional configuration is required to successfully run gRPC services on macOS. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">Unable to start ASP.NET Core gRPC app on macOS</a>.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><em>greet.proto</em>: The <em>Protos/greet.proto</em> file defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><em>Services</em> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appsettings.json</code>: Contains configuration data, such as protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>: Contains the entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li><code>Startup.cs</code>: Contains code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-mac" role="tab" aria-controls="tabpanel_3_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console App (.NET)</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
<li><p>Visual Studio Code requests that you add assets to build and debug the project, select <strong>Yes</strong>.</p>
<p>Visual Studio Code adds a <code>.vscode</code> folder with generated <code>launch.json</code> and <code>tasks.json</code> files.</p>
</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Follow the instructions in <a href="https://learn.microsoft.com/en-us/dotnet/core/tutorials/using-on-mac-vs-full-solution" data-linktype="absolute-path">Building a complete .NET solution on macOS using Visual Studio for Mac</a> to create a console app with the name <em>GrpcGreeterClient</em>.</p>
</section>
</div>
<h3 id="add-required-packages">Add required packages</h3>
<p>The gRPC client project requires the following packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contains C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-mac" role="tab" aria-controls="tabpanel_4_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
<section id="tabpanel_4_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Right-click <strong>GrpcGreeterClient</strong> project in the <strong>Solution Pad</strong> and select <strong>Manage NuGet Packages</strong>.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the results pane and select <strong>Add Package</strong>.</li>
<li>Select the <strong>Accept</strong> button on the <strong>Accept License</strong> dialog.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-mac" role="tab" aria-controls="tabpanel_5_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
<section id="tabpanel_5_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
</div>
</li>
</ul>
<hr>
<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<ul>
<li><p>Update the gRPC client <code>Program.cs</code> file with the following code:</p>
<pre><code class="lang-csharp">using System;
using System.Net.Http;
using System.Threading.Tasks;
using Grpc.Net.Client;

namespace GrpcGreeterClient
{
    class Program
    {
        static async Task Main(string[] args)
        {
            // The port number(5001) must match the port of the gRPC server.
            using var channel = GrpcChannel.ForAddress("https://localhost:5001");
            var client = new Greeter.GreeterClient(channel);
            var reply = await client.SayHelloAsync(
                              new HelloRequest { Name = "GreeterClient" });
            Console.WriteLine("Greeting: " + reply.Message);
            Console.WriteLine("Press any key to exit...");
            Console.ReadKey();
        }
    }
}
</code></pre></li>
</ul>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="3-5">static async Task Main(string[] args)
{
    // The port number(5001) must match the port of the gRPC server.
    using var channel = GrpcChannel.ForAddress("https://localhost:5001");
    var client = new Greeter.GreeterClient(channel);
    var reply = await client.SayHelloAsync(
                      new HelloRequest { Name = "GreeterClient" });
    Console.WriteLine("Greeting: " + reply.Message);
    Console.WriteLine("Press any key to exit...");
    Console.ReadKey();
}
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="6-8">static async Task Main(string[] args)
{
    // The port number(5001) must match the port of the gRPC server.
    using var channel = GrpcChannel.ForAddress("https://localhost:5001");
    var client = new Greeter.GreeterClient(channel);
    var reply = await client.SayHelloAsync(
                      new HelloRequest { Name = "GreeterClient" });
    Console.WriteLine("Greeting: " + reply.Message);
    Console.WriteLine("Press any key to exit...");
    Console.ReadKey();
}
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-mac" role="tab" aria-controls="tabpanel_6_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the Greeter service, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Due to the previously mentioned <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">HTTP/2 TLS issue on macOS workaround</a>, you'll need to update the channel address in the client to "http://localhost:5000". Update line 13 of <em><code>GrpcGreeterClient/Program.cs</code></em> to read:</p>
<pre><code class="lang-csharp">using var channel = GrpcChannel.ForAddress("http://localhost:5000");
</code></pre>
</li>
<li><p>Start the Greeter service.</p>
</li>
<li><p>Start the client.</p>
</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:5001
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:5001/Greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished in 78.32260000000001ms 200 application/grpc
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1">
<p>This tutorial shows how to create a .NET Core <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC</a> client and an ASP.NET Core gRPC Server.</p>
<p>At the end, you'll have a gRPC client that communicates with the gRPC Greeter service.</p>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/main/aspnetcore/tutorials/grpc/grpc-start/sample" data-linktype="external">View or download sample code</a> (<a href="../../overview553c.html?view=aspnetcore-9.0#how-to-download-a-sample" data-linktype="relative-path">how to download</a>).</p>
<p>In this tutorial, you:</p>
<div class="checklist">
<ul>
<li>Create a gRPC Server.</li>
<li>Create a gRPC client.</li>
<li>Test the gRPC client with the gRPC Greeter service.</li>
</ul>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-mac" role="tab" aria-controls="tabpanel_1_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><a href="https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&amp;utm_source=learn.microsoft.com&amp;utm_campaign=inline+link&amp;utm_content=download+vs2019" data-linktype="external">Visual Studio 2019 16.4 or later</a> with the <strong>ASP.NET and web development</strong> workload</li>
<li><a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" data-linktype="external">.NET Core 3.1 SDK</a></li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://code.visualstudio.com/download" data-linktype="external">Visual Studio Code</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" data-linktype="external">C# for Visual Studio Code (latest version)</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" data-linktype="external">.NET Core 3.1 SDK</a></li>
</ul>
<p>The Visual Studio Code instructions use the .NET CLI for ASP.NET Core development functions such as project creation. You can follow these instructions on any platform (macOS, Linux, or Windows) and with any code editor. Minor changes may be required if you use something other than Visual Studio Code. For more information on installing Visual Studio Code on macOS, see <a href="https://code.visualstudio.com/docs/setup/mac" data-linktype="external">Visual Studio Code on macOS</a>.</p>
</section>
<section id="tabpanel_1_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><a href="https://learn.microsoft.com/en-us/visualstudio/releasenotes/vs2019-mac-relnotes" data-linktype="absolute-path">Visual Studio for Mac version 8.7 or later</a></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" data-linktype="external">.NET Core 3.1 SDK</a></li>
</ul>
</section>
</div>
<h2 id="create-a-grpc-service">Create a gRPC service</h2>
<div class="tabGroup" id="tabgroup_2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_2_visual-studio" role="tab" aria-controls="tabpanel_2_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-code" role="tab" aria-controls="tabpanel_2_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_2_visual-studio-mac" role="tab" aria-controls="tabpanel_2_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_2_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Start Visual Studio and select <strong>Create a new project</strong>. Alternatively, from the Visual Studio <strong>File</strong> menu, select <strong>New</strong> &gt; <strong>Project</strong>.</p>
</li>
<li><p>In the <strong>Create a new project</strong> dialog, select <strong>gRPC Service</strong> and select <strong>Next</strong>:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/tutorials/grpc/grpc-start/static/cnp.png?view=aspnetcore-9.0" alt="Create a new project dialog in Visual Studio" data-linktype="relative-path"></p>
</li>
<li><p>Name the project <strong>GrpcGreeter</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
<li><p>In the <strong>Create a new gRPC service</strong> dialog:</p>
<ul>
<li>The <strong>gRPC Service</strong> template is selected.</li>
<li>Select <strong>Create</strong>.</li>
</ul>
</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new grpc -o GrpcGreeter
code -r GrpcGreeter
</code></pre>
<ul>
<li>The <code>dotnet new</code> command creates a new gRPC service in the <em>GrpcGreeter</em> folder.</li>
<li>The <code>code</code> command opens the <em>GrpcGreeter</em> folder in a new instance of Visual Studio Code.</li>
</ul>
<p>A dialog box appears with <strong>Required assets to build and debug are missing from 'GrpcGreeter'. Add them?</strong></p>
</li>
<li><p>Select <strong>Yes</strong>.</p>
</li>
</ul>
</section>
<section id="tabpanel_2_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Start Visual Studio for Mac and select <strong>Create a new project</strong>. Alternatively, from the Visual Studio <strong>File</strong> menu, select <strong>New</strong> &gt; <strong>Project</strong>.</p>
</li>
<li><p>In the <strong>Create a new project</strong> dialog, select <strong>Web and Console</strong> &gt; <strong>App</strong> &gt; <strong>gRPC Service</strong> and select <strong>Next</strong>:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/tutorials/grpc/grpc-start/static/cnp-mac.png?view=aspnetcore-9.0" alt="Create a new project dialog on macOS" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>.NET Core 3.1</strong> for the target framework and select <strong>Next</strong>.</p>
</li>
<li><p>Name the project <strong>GrpcGreeter</strong>. It's important to name the project <em>GrpcGreeter</em> so the namespaces match when you copy and paste code.</p>
</li>
<li><p>Select <strong>Create</strong>.</p>
</li>
</ul>
</section>
</div>
<h3 id="run-the-service">Run the service</h3>
<div class="tabGroup" id="tabgroup_1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_1_visual-studio" role="tab" aria-controls="tabpanel_1_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_1_visual-studio-code" role="tab" aria-controls="tabpanel_1_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
</ul>
<section id="tabpanel_1_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li><p>Press Ctrl+F5 to run without the debugger.</p>
<p>Visual Studio displays the following dialog when a project is not yet configured to use SSL:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/trustcert.png?view=aspnetcore-9.0" alt="This project is configured to use SSL. To avoid SSL warnings in the browser you can choose to trust the self-signed certificate that IIS Express has generated. Would you like to trust the IIS Express SSL certificate?" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you trust the IIS Express SSL certificate.</p>
<p>The following dialog is displayed:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
<p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<p>Visual Studio starts <a href="https://learn.microsoft.com/en-us/iis/extensions/introduction-to-iis-express/iis-express-overview" data-linktype="absolute-path">IIS Express</a> and runs the app. The address bar shows <code>localhost:port#</code> and not something like <code>example.com</code>. That's because <code>localhost</code> is the standard hostname for the local computer. Localhost only serves web requests from the local computer. When Visual Studio creates a web project, a random port is used for the web server.</p>
</li>
</ul>
</section>
<section id="tabpanel_1_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Trust the HTTPS development certificate by running the following command:</p>
<pre><code class="lang-dotnetcli">dotnet dev-certs https --trust
</code></pre>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0 aspnetcore-6.0 aspnetcore-7.0 aspnetcore-8.0">
<p>The preceding command requires .NET 9 or later SDK on Linux. For Linux on .NET 8.0.401 or earlier SDK, see your Linux distribution's documentation for trusting a certificate.</p>
</div>
<p>The preceding command displays the following dialog, provided the certificate was not previously trusted:</p>
<p><img src="https://learn.microsoft.com/en-us/aspnet/core/static/cert.png?view=aspnetcore-9.0" alt="Security warning dialog" data-linktype="relative-path"></p>
</li>
<li><p>Select <strong>Yes</strong> if you agree to trust the development certificate.</p>
<p>For more information, see the <strong>Trust the ASP.NET Core HTTPS development certificate</strong> section of the <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Enforcing SSL</a> article.</p>
</li>
</ul>
<p>For information on trusting the Firefox browser, see <a href="../../security/enforcing-ssl553c.html?view=aspnetcore-9.0#trust-ff" data-linktype="relative-path">Firefox SEC_ERROR_INADEQUATE_KEY_USAGE certificate error</a>.</p>
<ul>
<li><p>Press <strong>Ctrl-F5</strong> to run without the debugger.</p>
<p>Visual Studio Code starts <a href="../../fundamentals/servers/kestrel553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Kestrel</a>, launches a browser, and navigates to <code>http://localhost:5001</code>. The address bar shows <code>localhost:port#</code> and not something like <code>example.com</code>. That's because <code>localhost</code> is the standard hostname for  local computer. Localhost only serves web requests from the local computer.</p>
</li>
</ul>
<!-- End of VS tabs -->
</section>
</div>

<p>The logs show the service listening on <code>https://localhost:5001</code>.</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:5001
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The gRPC template is configured to use <a href="https://tools.ietf.org/html/rfc5246" data-linktype="external">Transport Layer Security (TLS)</a>. gRPC clients need to use HTTPS to call the server.</p>
<p>macOS doesn't support ASP.NET Core gRPC with TLS. Additional configuration is required to successfully run gRPC services on macOS. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">Unable to start ASP.NET Core gRPC app on macOS</a>.</p>
</div>
<h3 id="examine-the-project-files">Examine the project files</h3>
<p><em>GrpcGreeter</em> project files:</p>
<ul>
<li><em>greet.proto</em>: The <em>Protos/greet.proto</em> file defines the <code>Greeter</code> gRPC and is used to generate the gRPC server assets. For more information, see <a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Introduction to gRPC</a>.</li>
<li><em>Services</em> folder: Contains the implementation of the <code>Greeter</code> service.</li>
<li><code>appsettings.json</code>: Contains configuration data, such as protocol used by Kestrel. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-9.0" data-linktype="relative-path">Configuration in ASP.NET Core</a>.</li>
<li><code>Program.cs</code>: Contains the entry point for the gRPC service. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-9.0" data-linktype="relative-path">.NET Generic Host in ASP.NET Core</a>.</li>
<li><code>Startup.cs</code>: Contains code that configures app behavior. For more information, see <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-9.0" data-linktype="relative-path">App startup</a>.</li>
</ul>
<h2 id="create-the-grpc-client-in-a-net-console-app">Create the gRPC client in a .NET console app</h2>
<div class="tabGroup" id="tabgroup_3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_3_visual-studio" role="tab" aria-controls="tabpanel_3_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-code" role="tab" aria-controls="tabpanel_3_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_3_visual-studio-mac" role="tab" aria-controls="tabpanel_3_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_3_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>Open a second instance of Visual Studio and select <strong>Create a new project</strong>.</li>
<li>In the <strong>Create a new project</strong> dialog, select <strong>Console App (.NET Core)</strong> and select <strong>Next</strong>.</li>
<li>In the <strong>Project name</strong> text box, enter <strong>GrpcGreeterClient</strong> and select <strong>Create</strong>.</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Open the <a href="https://code.visualstudio.com/docs/editor/integrated-terminal" data-linktype="external">integrated terminal</a>.</p>
</li>
<li><p>Change directories (<code>cd</code>) to a folder for the project.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-dotnetcli">dotnet new console -o GrpcGreeterClient
code -r GrpcGreeterClient
</code></pre>
</li>
</ul>
</section>
<section id="tabpanel_3_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Follow the instructions in <a href="https://learn.microsoft.com/en-us/dotnet/core/tutorials/using-on-mac-vs-full-solution" data-linktype="absolute-path">Building a complete .NET Core solution on macOS using Visual Studio for Mac</a> to create a console app with the name <em>GrpcGreeterClient</em>.</p>
</section>
</div>
<h3 id="add-required-packages">Add required packages</h3>
<p>The gRPC client project requires the following packages:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Grpc.Net.Client" data-linktype="external">Grpc.Net.Client</a>, which contains the .NET Core client.</li>
<li><a href="https://www.nuget.org/packages/Google.Protobuf/" data-linktype="external">Google.Protobuf</a>, which contains protobuf message APIs for C#.</li>
<li><a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, which contains C# tooling support for protobuf files. The tooling package isn't required at runtime, so the dependency is marked with <code>PrivateAssets="All"</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_4_visual-studio" role="tab" aria-controls="tabpanel_4_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-code" role="tab" aria-controls="tabpanel_4_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_4_visual-studio-mac" role="tab" aria-controls="tabpanel_4_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_4_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Install the packages using either the Package Manager Console (PMC) or Manage NuGet Packages.</p>
<h4 id="pmc-option-to-install-packages">PMC option to install packages</h4>
<ul>
<li><p>From Visual Studio, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></p>
</li>
<li><p>From the <strong>Package Manager Console</strong> window, run <code>cd GrpcGreeterClient</code> to change directories to the folder containing the <code>GrpcGreeterClient.csproj</code> files.</p>
</li>
<li><p>Run the following commands:</p>
<pre><code class="lang-powershell">Install-Package Grpc.Net.Client
Install-Package Google.Protobuf
Install-Package Grpc.Tools
</code></pre>
</li>
</ul>
<h4 id="manage-nuget-packages-option-to-install-packages">Manage NuGet Packages option to install packages</h4>
<ul>
<li>Right-click the project in <strong>Solution Explorer</strong> &gt; <strong>Manage NuGet Packages</strong>.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the <strong>Browse</strong> tab and select <strong>Install</strong>.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
<section id="tabpanel_4_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Run the following commands from the <strong>Integrated Terminal</strong>:</p>
<pre><code class="lang-dotnetcli">dotnet add GrpcGreeterClient.csproj package Grpc.Net.Client
dotnet add GrpcGreeterClient.csproj package Google.Protobuf
dotnet add GrpcGreeterClient.csproj package Grpc.Tools
</code></pre>
</section>
<section id="tabpanel_4_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li>Right-click <strong>GrpcGreeterClient</strong> project in the <strong>Solution Pad</strong> and select <strong>Manage NuGet Packages</strong>.</li>
<li>Enter <strong>Grpc.Net.Client</strong> in the search box.</li>
<li>Select the <strong>Grpc.Net.Client</strong> package from the results pane and select <strong>Add Package</strong>.</li>
<li>Select the <strong>Accept</strong> button on the <strong>Accept License</strong> dialog.</li>
<li>Repeat for <code>Google.Protobuf</code> and <code>Grpc.Tools</code>.</li>
</ul>
</section>
</div>
<h3 id="add-greetproto">Add greet.proto</h3>
<ul>
<li><p>Create a <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Copy the <em>Protos\greet.proto</em> file from the gRPC Greeter service to the <em>Protos</em> folder in the gRPC client project.</p>
</li>
<li><p>Update the namespace inside the <code>greet.proto</code> file to the project's namespace:</p>
<pre><code class="lang-json">option csharp_namespace = "GrpcGreeterClient";
</code></pre>
</li>
<li><p>Edit the <code>GrpcGreeterClient.csproj</code> project file:</p>
<div class="tabGroup" id="tabgroup_5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_5_visual-studio" role="tab" aria-controls="tabpanel_5_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-code" role="tab" aria-controls="tabpanel_5_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_5_visual-studio-mac" role="tab" aria-controls="tabpanel_5_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_5_visual-studio" role="tabpanel" data-tab="visual-studio">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
<section id="tabpanel_5_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<p>Select the <code>GrpcGreeterClient.csproj</code> file.</p>
</section>
<section id="tabpanel_5_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<p>Right-click the project and select <strong>Edit Project File</strong>.</p>
</section>
</div>
</li>
</ul>
<hr>
<ul>
<li><p>Add an item group with a <code>&lt;Protobuf&gt;</code> element that refers to the <em>greet.proto</em> file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Protobuf Include="Protos\greet.proto" GrpcServices="Client" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
</li>
</ul>
<h3 id="create-the-greeter-client">Create the Greeter client</h3>
<ul>
<li>Build the client project to create the types in the <code>GrpcGreeterClient</code> namespace.</li>
</ul>
<div class="NOTE">
<p>Note</p>
<p>The <code>GrpcGreeterClient</code> types are generated automatically by the build process. The tooling package <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a> generates the following files based on the <em>greet.proto</em> file:</p>
<ul>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\Greet.cs</code>: The protocol buffer code which populates, serializes and retrieves the request and response message types.</li>
<li><code>GrpcGreeterClient\obj\Debug\[TARGET_FRAMEWORK]\Protos\GreetGrpc.cs</code>: Contains the generated client classes.</li>
</ul>
<p>For more information on the C# assets automatically generated by <a href="https://www.nuget.org/packages/Grpc.Tools/" data-linktype="external">Grpc.Tools</a>, see <a href="../../grpc/basics553c.html?view=aspnetcore-9.0#generated-c-assets" data-linktype="relative-path">gRPC services with C#: Generated C# assets</a>.</p>
</div>
<p>Update the gRPC client <code>Program.cs</code> file with the following code:</p>
<pre><code class="lang-csharp">using System;
using System.Net.Http;
using System.Threading.Tasks;
using Grpc.Net.Client;

namespace GrpcGreeterClient
{
    class Program
    {
        static async Task Main(string[] args)
        {
            // The port number(5001) must match the port of the gRPC server.
            using var channel = GrpcChannel.ForAddress("https://localhost:5001");
            var client = new Greeter.GreeterClient(channel);
            var reply = await client.SayHelloAsync(
                              new HelloRequest { Name = "GreeterClient" });
            Console.WriteLine("Greeting: " + reply.Message);
            Console.WriteLine("Press any key to exit...");
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><code>Program.cs</code> contains the entry point and logic for the gRPC client.</p>
<p>The Greeter client is created by:</p>
<ul>
<li>Instantiating a <code>GrpcChannel</code> containing the information for creating the connection to the gRPC service.</li>
<li>Using the <code>GrpcChannel</code> to construct the Greeter client:</li>
</ul>
<pre><code class="lang-csharp" highlight-lines="3-5">static async Task Main(string[] args)
{
    // The port number(5001) must match the port of the gRPC server.
    using var channel = GrpcChannel.ForAddress("https://localhost:5001");
    var client = new Greeter.GreeterClient(channel);
    var reply = await client.SayHelloAsync(
                      new HelloRequest { Name = "GreeterClient" });
    Console.WriteLine("Greeting: " + reply.Message);
    Console.WriteLine("Press any key to exit...");
    Console.ReadKey();
}
</code></pre>
<p>The Greeter client calls the asynchronous <code>SayHello</code> method. The result of the <code>SayHello</code> call is displayed:</p>
<pre><code class="lang-csharp" highlight-lines="6-8">static async Task Main(string[] args)
{
    // The port number(5001) must match the port of the gRPC server.
    using var channel = GrpcChannel.ForAddress("https://localhost:5001");
    var client = new Greeter.GreeterClient(channel);
    var reply = await client.SayHelloAsync(
                      new HelloRequest { Name = "GreeterClient" });
    Console.WriteLine("Greeting: " + reply.Message);
    Console.WriteLine("Press any key to exit...");
    Console.ReadKey();
}
</code></pre><h2 id="test-the-grpc-client-with-the-grpc-greeter-service">Test the gRPC client with the gRPC Greeter service</h2>
<div class="tabGroup" id="tabgroup_6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_6_visual-studio" role="tab" aria-controls="tabpanel_6_visual-studio" data-tab="visual-studio" tabindex="0" aria-selected="true" data-linktype="self-bookmark">Visual Studio</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-code" role="tab" aria-controls="tabpanel_6_visual-studio-code" data-tab="visual-studio-code" tabindex="-1" data-linktype="self-bookmark">Visual Studio Code</a>
</li>
<li role="presentation">
<a href="#tabpanel_6_visual-studio-mac" role="tab" aria-controls="tabpanel_6_visual-studio-mac" data-tab="visual-studio-mac" tabindex="-1" data-linktype="self-bookmark">Visual Studio for Mac</a>
</li>
</ul>
<section id="tabpanel_6_visual-studio" role="tabpanel" data-tab="visual-studio">

<ul>
<li>In the Greeter service, press <code>Ctrl+F5</code> to start the server without the debugger.</li>
<li>In the <code>GrpcGreeterClient</code> project, press <code>Ctrl+F5</code> to start the client without the debugger.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-code" role="tabpanel" data-tab="visual-studio-code" aria-hidden="true" hidden="hidden">

<ul>
<li>Start the Greeter service.</li>
<li>Start the client.</li>
</ul>
</section>
<section id="tabpanel_6_visual-studio-mac" role="tabpanel" data-tab="visual-studio-mac" aria-hidden="true" hidden="hidden">

<ul>
<li><p>Due to the previously mentioned <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#unable-to-start-aspnet-core-grpc-app-on-macos" data-linktype="relative-path">HTTP/2 TLS issue on macOS workaround</a>, you'll need to update the channel address in the client to "http://localhost:5000". Update line 13 of <em><code>GrpcGreeterClient/Program.cs</code></em> to read:</p>
<pre><code class="lang-csharp">using var channel = GrpcChannel.ForAddress("http://localhost:5000");
</code></pre>
</li>
<li><p>Start the Greeter service.</p>
</li>
<li><p>Start the client.</p>
</li>
</ul>
</section>
</div>

<p>The client sends a greeting to the service with a message containing its name, <em>GreeterClient</em>. The service sends the message "Hello GreeterClient" as a response. The "Hello GreeterClient" response is displayed in the command prompt:</p>
<pre><code class="lang-console">Greeting: Hello GreeterClient
Press any key to exit...
</code></pre>
<p>The gRPC service records the details of the successful call in the logs written to the command prompt:</p>
<pre><code class="lang-console">info: Microsoft.Hosting.Lifetime[0]
      Now listening on: https://localhost:5001
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: C:\GH\aspnet\docs\4\Docs\aspnetcore\tutorials\grpc\grpc-start\sample\GrpcGreeter
info: Microsoft.AspNetCore.Hosting.Diagnostics[1]
      Request starting HTTP/2 POST https://localhost:5001/Greet.Greeter/SayHello application/grpc
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]
      Executing endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]
      Executed endpoint 'gRPC - /Greet.Greeter/SayHello'
info: Microsoft.AspNetCore.Hosting.Diagnostics[2]
      Request finished in 78.32260000000001ms 200 application/grpc
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>The code in this article requires the ASP.NET Core HTTPS development certificate to secure the gRPC service. If the .NET gRPC client fails with the message <code>The remote certificate is invalid according to the validation procedure.</code> or <code>The SSL connection could not be established.</code>, the development certificate isn't trusted. To fix this issue, see <a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/troubleshoot?view=aspnetcore-9.0#call-a-grpc-service-with-an-untrustedinvalid-certificate" data-linktype="relative-path">Call a gRPC service with an untrusted/invalid certificate</a>.</p>
</div>
<h3 id="next-steps">Next steps</h3>
<ul>
<li><a href="../../grpc/index553c.html?view=aspnetcore-9.0" data-linktype="relative-path">Overview for gRPC on .NET</a></li>
<li><a href="../../grpc/basics553c.html?view=aspnetcore-9.0" data-linktype="relative-path">gRPC services with C#</a></li>
<li><a href="https://learn.microsoft.com/en-us/aspnet/core/grpc/migration?view=aspnetcore-9.0" data-linktype="relative-path">Migrate gRPC from C-core to gRPC for .NET</a></li>
</ul>
</div>
</div>
					
		<div
			id="ms--inline-notifications"
			class="margin-block-xs"
			data-bi-name="inline-notification"
		></div>
	 
		<div
			id="assertive-live-region"
			role="alert"
			aria-live="assertive"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
		<div
			id="polite-live-region"
			role="status"
			aria-live="polite"
			class="visually-hidden"
			aria-relevant="additions"
			aria-atomic="true"
		></div>
	
					
			
		<!-- feedback section -->
		<section
			class="feedback-section position-relative margin-top-lg border border-radius padding-xxs display-none-print"
			data-bi-name="open-source-feedback-section"
			data-open-source-feedback-section
			hidden
		>
			<div class="display-flex flex-direction-column flex-direction-row-tablet">
				<div
					class="width-450-tablet padding-inline-xs padding-inline-xs-tablet padding-top-xs padding-bottom-sm padding-top-xs-tablet background-color-body-medium"
				>
					<div class="display-flex flex-direction-column">
						<div class="padding-bottom-xxs">
							<span class="icon margin-right-xxs" aria-hidden="true">
								<span class="docon docon-brand-github"></span>
							</span>
							<span class="font-weight-semibold">
								Collaborate with us on GitHub
							</span>
						</div>
						<span class="line-height-normal">
							The source for this content can be found on GitHub, where you can also create and review issues and pull requests. For more information, see <a href="https://learn.microsoft.com/contribute/content/dotnet/dotnet-contribute">our contributor guide</a>.
						</span>
					</div>
				</div>
				<div
					class="display-flex gap-xs width-full-tablet flex-direction-column padding-xs justify-content-space-evenly"
				>
					<div class="media">
						
					<div class="media-left">
						<div class="image image-36x36" hidden data-open-source-image-container>
							<img
								class="theme-display is-light"
								src="https://learn.microsoft.com/media/logos/logo_net.svg"
								aria-hidden="true"
								data-open-source-image-light
							/>
							<img
								class="theme-display is-dark is-high-contrast"
								src="https://learn.microsoft.com/media/logos/logo_net.svg"
								aria-hidden="true"
								data-open-source-image-dark
							/>
						</div>
					</div>
			  

						<div class="media-content">
							<p
								class="font-size-xl font-weight-semibold margin-bottom-xxs"
								data-open-source-product-title
							>
								ASP.NET Core
							</p>
							<div class="display-flex gap-xs flex-direction-column">
								<p class="line-height-normal" data-open-source-product-description></p>
								<div class="display-flex gap-xs flex-direction-column">
									<a href="#" data-github-link>
										<span class="icon margin-right-xxs" aria-hidden="true">
											<span class="docon docon-bug"></span>
										</span>
										<span>Open a documentation issue</span>
									</a>
									<a
										href="https://github.com/dotnet/aspnetcore/blob/main/CONTRIBUTING.md"
										class="display-block margin-top-auto font-size-md"
										data-feedback-product-url
									>
										<span class="icon margin-right-xxs" aria-hidden="true">
											<span class="docon docon-feedback"></span>
										</span>
										<span>Provide product feedback</span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
			
		<!-- feedback section -->
		<section
			id="site-user-feedback-footer"
			class="font-size-sm margin-top-md display-none-print display-none-desktop"
			data-test-id="site-user-feedback-footer"
			data-bi-name="site-feedback-section"
		>
			<hr class="hr" />
			<h2 id="ms--feedback" class="title is-3">Feedback</h2>
			<div class="display-flex flex-wrap-wrap align-items-center">
				<p class="font-weight-semibold margin-xxs margin-left-none">
					Was this page helpful?
				</p>
				<div class="buttons">
					<button
						class="thumb-rating-button like button button-primary button-sm"
						data-test-id="footer-rating-yes"
						data-binary-rating-response="rating-yes"
						type="button"
						title="This article is helpful"
						data-bi-name="button-rating-yes"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-like"></span>
						</span>
						<span>Yes</span>
					</button>
					<button
						class="thumb-rating-button dislike button button-primary button-sm"
						data-test-id="footer-rating-no"
						data-binary-rating-response="rating-no"
						type="button"
						title="This article is not helpful"
						data-bi-name="button-rating-no"
						aria-pressed="false"
					>
						<span class="icon" aria-hidden="true">
							<span class="docon docon-dislike"></span>
						</span>
						<span>No</span>
					</button>
				</div>
			</div>
		</section>
		<!-- end feedback section -->
	
		
				</div>
				
		<div id="ms--additional-resources-mobile" class="display-none-print">
			<hr class="hr" hidden />
			<h2 id="ms--additional-resources-mobile-heading" class="title is-3" hidden>
				Additional resources
			</h2>
			
		<section
			id="right-rail-recommendations-mobile"
			class=""
			data-bi-name="recommendations"
			hidden
		></section>
	 
		<section
			id="right-rail-training-mobile"
			class=""
			data-bi-name="learning-resource-card"
			hidden
		></section>
	 
		<section
			id="right-rail-events-mobile"
			class=""
			data-bi-name="events-card"
			hidden
		></section>
	 
		<section
			id="right-rail-qna-mobile"
			class="margin-top-xxs"
			data-bi-name="qna-link-card"
			hidden
		></section>
	
		</div>
	
			</div>
			
		<div
			id="action-panel"
			role="region"
			aria-label="Action Panel"
			class="action-panel"
			tabindex="-1"
		></div>
	
		
				</main>
				<aside
					id="layout-body-aside"
					class="layout-body-aside "
					data-bi-name="aside"
			  >
					
		<div
			id="ms--additional-resources"
			class="right-container padding-sm display-none display-block-desktop height-full"
			data-bi-name="pageactions"
			role="complementary"
			aria-label="Additional resources"
		>
			<div id="affixed-right-container" data-bi-name="right-column">
				
		<nav
			id="side-doc-outline"
			class="doc-outline border-bottom padding-bottom-xs margin-bottom-xs"
			data-bi-name="intopic toc"
			aria-label="In this article"
		>
			<h3>In this article</h3>
		</nav>
	
				<!-- Feedback -->
				
		<section
			id="ms--site-user-feedback-right-rail"
			class="font-size-sm display-none-print"
			data-test-id="site-user-feedback-right-rail"
			data-bi-name="site-feedback-right-rail"
		>
			<p class="font-weight-semibold margin-bottom-xs">Was this page helpful?</p>
			<div class="buttons">
				<button
					class="thumb-rating-button like button button-primary button-sm"
					data-test-id="right-rail-rating-yes"
					data-binary-rating-response="rating-yes"
					type="button"
					title="This article is helpful"
					data-bi-name="button-rating-yes"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-like"></span>
					</span>
					<span>Yes</span>
				</button>
				<button
					class="thumb-rating-button dislike button button-primary button-sm"
					data-test-id="right-rail-rating-no"
					data-binary-rating-response="rating-no"
					type="button"
					title="This article is not helpful"
					data-bi-name="button-rating-no"
					aria-pressed="false"
				>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-dislike"></span>
					</span>
					<span>No</span>
				</button>
			</div>
		</section>
	
			</div>
		</div>
	
			  </aside> <section
					id="layout-body-flyout"
					class="layout-body-flyout "
					data-bi-name="flyout"
			  >
					 <div
	class="height-full border-left background-color-body-medium"
	id="ask-learn-flyout"
></div>
			  </section> <div class="layout-body-footer " data-bi-name="layout-footer">
		<footer
			id="footer"
			data-test-id="footer"
			data-bi-name="footer"
			class="footer-layout has-padding has-default-focus border-top  uhf-container"
			role="contentinfo"
		>
			<div class="display-flex gap-xs flex-wrap-wrap is-full-height padding-right-lg-desktop">
				
		<a
			data-mscc-ic="false"
			href="#"
			data-bi-name="select-locale"
			class="locale-selector-link flex-shrink-0 button button-sm button-clear external-link-indicator"
			id=""
			title=""
			><span class="icon" aria-hidden="true"
				><span class="docon docon-world"></span></span
			><span class="local-selector-link-text">en-us</span></a
		>
	
				<div class="ccpa-privacy-link" data-ccpa-privacy-link hidden>
		
		<a
			data-mscc-ic="false"
			href="https://aka.ms/yourcaliforniaprivacychoices"
			data-bi-name="your-privacy-choices"
			class="button button-sm button-clear flex-shrink-0 external-link-indicator"
			id=""
			title=""
			>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 30 14"
			xml:space="preserve"
			height="16"
			width="43"
			aria-hidden="true"
			focusable="false"
		>
			<path
				d="M7.4 12.8h6.8l3.1-11.6H7.4C4.2 1.2 1.6 3.8 1.6 7s2.6 5.8 5.8 5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#fff"
			></path>
			<path
				d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4c-3.2 0-5.8-2.6-5.8-5.8z"
				style="fill-rule:evenodd;clip-rule:evenodd;fill:#06f"
			></path>
			<path
				d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0-.2-.2-.2-.6 0-.8L20.8 7l-2.2-2.2c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0z"
				style="fill:#fff"
			></path>
			<path
				d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7c-.2-.2-.2-.6 0-.8.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0z"
				style="fill:#06f"
			></path>
		</svg>
	
			<span>Your Privacy Choices</span></a
		>
	
	</div>
				<div class="flex-shrink-0">
		<div class="dropdown has-caret-up">
			<button
				data-test-id="theme-selector-button"
				class="dropdown-trigger button button-clear button-sm has-inner-focus theme-dropdown-trigger"
				aria-controls="{{ themeMenuId }}"
				aria-expanded="false"
				title="Theme"
				data-bi-name="theme"
			>
				<span class="icon">
					<span class="docon docon-sun" aria-hidden="true"></span>
				</span>
				<span>Theme</span>
				<span class="icon expanded-indicator" aria-hidden="true">
					<span class="docon docon-chevron-down-light"></span>
				</span>
			</button>
			<div class="dropdown-menu" id="{{ themeMenuId }}" role="menu">
				<ul class="theme-selector padding-xxs" data-test-id="theme-dropdown-menu">
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="light"
						>
							<span class="theme-light margin-right-xxs">
								<span
									class="theme-selector-icon border display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Light </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="dark"
						>
							<span class="theme-dark margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> Dark </span>
						</button>
					</li>
					<li class="theme display-block">
						<button
							class="button button-clear button-sm theme-control button-block justify-content-flex-start text-align-left"
							data-theme-to="high-contrast"
						>
							<span class="theme-high-contrast margin-right-xxs">
								<span
									class="border theme-selector-icon display-inline-block has-body-background"
									aria-hidden="true"
								>
									<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
										<rect width="22" height="14" class="has-fill-body-background" />
										<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
										<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
										<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
										<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
										<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
										<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
									</svg>
								</span>
							</span>
							<span role="menuitem"> High contrast </span>
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
			</div>
			<ul class="links" data-bi-name="footerlinks">
				<li class="manage-cookies-holder" hidden=""></li>
				<li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/principles-for-ai-generated-content"
			data-bi-name="aiDisclaimer"
			class=" external-link-indicator"
			id=""
			title=""
			>AI Disclaimer</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/previous-versions/"
			data-bi-name="archivelink"
			class=" external-link-indicator"
			id=""
			title=""
			>Previous Versions</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://techcommunity.microsoft.com/t5/microsoft-learn-blog/bg-p/MicrosoftLearnBlog"
			data-bi-name="bloglink"
			class=" external-link-indicator"
			id=""
			title=""
			>Blog</a
		>
	
	</li> <li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/contribute"
			data-bi-name="contributorGuide"
			class=" external-link-indicator"
			id=""
			title=""
			>Contribute</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://go.microsoft.com/fwlink/?LinkId=521839"
			data-bi-name="privacy"
			class=" external-link-indicator"
			id=""
			title=""
			>Privacy</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://learn.microsoft.com/en-us/legal/termsofuse"
			data-bi-name="termsofuse"
			class=" external-link-indicator"
			id=""
			title=""
			>Terms of Use</a
		>
	
	</li><li>
		
		<a
			data-mscc-ic="false"
			href="https://www.microsoft.com/legal/intellectualproperty/Trademarks/"
			data-bi-name="trademarks"
			class=" external-link-indicator"
			id=""
			title=""
			>Trademarks</a
		>
	
	</li>
				<li>&copy; Microsoft 2025</li>
			</ul>
		</footer>
	</footer>
			</body>
		
<!-- Mirrored from learn.microsoft.com/en-us/aspnet/core/tutorials/grpc/grpc-start?view=aspnetcore-9.0 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 14:53:03 GMT -->
</html>