<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/zipdetails by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>zipdetails - display the internal structure of zip files - Perldoc Browser</title>
    <link rel="search" href="opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="zipdetails.html">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html"><img src="images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.42.0</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="zipdetails.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item active" href="https://perldoc.perl.org/5.42.0/zipdetails">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/zipdetails">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/zipdetails">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/zipdetails">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/zipdetails">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/zipdetails">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/zipdetails">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/zipdetails">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/zipdetails">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/zipdetails">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/zipdetails">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/zipdetails">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/zipdetails">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/zipdetails">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/zipdetails">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/zipdetails">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/zipdetails">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/zipdetails">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/zipdetails">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/zipdetails">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/zipdetails">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/zipdetails">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/zipdetails">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/zipdetails">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/zipdetails">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/zipdetails">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/zipdetails">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/zipdetails">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/zipdetails">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/zipdetails">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/zipdetails">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/zipdetails">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/zipdetails">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/zipdetails">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/zipdetails">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/zipdetails">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/zipdetails">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/zipdetails">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/zipdetails">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/zipdetails">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/zipdetails">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/zipdetails">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/zipdetails">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/zipdetails">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/zipdetails">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/zipdetails">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/zipdetails">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/zipdetails">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/zipdetails">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/zipdetails">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/zipdetails">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/zipdetails">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/zipdetails">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/zipdetails">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/zipdetails">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/zipdetails">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/zipdetails">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/zipdetails">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/zipdetails">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/zipdetails">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/zipdetails">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/zipdetails">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/zipdetails">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/zipdetails">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/zipdetails">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/zipdetails">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/zipdetails">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/zipdetails">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/zipdetails">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/zipdetails">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/zipdetails">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/zipdetails">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/zipdetails">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/zipdetails">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/zipdetails">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/zipdetails">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/zipdetails">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/zipdetails">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/zipdetails">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.2/zipdetails">5.6.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.1/zipdetails">5.6.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.0/zipdetails">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/zipdetails">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/zipdetails">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/zipdetails">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/zipdetails">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/zipdetails">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/zipdetails">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/zipdetails">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/zipdetails">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/zipdetails">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/zipdetails">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/zipdetails">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/zipdetails">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/zipdetails">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/zipdetails">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/zipdetails">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/zipdetails">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/zipdetails">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/zipdetails">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/zipdetails">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/zipdetails">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/zipdetails">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/zipdetails">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/zipdetails">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/zipdetails">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/zipdetails">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="zipdetails.html">zipdetails</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/zipdetails.txt">source</a>,
            <a href="https://metacpan.org/pod/zipdetails">CPAN</a>)
          </div>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Default-Behaviour">Default Behaviour</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Date-&amp;-Time-fields">Date &amp; Time fields</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Filenames-&amp;-Comments">Filenames &amp; Comments</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#OPTIONS">OPTIONS</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#General-Options">General Options</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Filename-&amp;-Comment-Encoding-Options">Filename &amp; Comment Encoding Options</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Message-Control-Options">Message Control Options</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Default-Output">Default Output</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Verbose-Output">Verbose Output</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Advanced-Analysis">Advanced Analysis</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#-walk1">--walk</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#-scan1">--scan</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Filename-Encoding-Issues">Filename Encoding Issues</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Background">Background</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Dealing-with-Encoding-Errors">Dealing with Encoding Errors</a>
              </li>
          </ul>

              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#LIMITATIONS">LIMITATIONS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#TODO">TODO</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#JSON/YML-Output">JSON/YML Output</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Corrupt-Zip-files">Corrupt Zip files</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#SUPPORT">SUPPORT</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#AUTHOR">AUTHOR</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COPYRIGHT">COPYRIGHT</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>zipdetails - display the internal structure of zip files</p>

<h1 id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">#</a>SYNOPSIS</h1>

<pre><code class="plaintext">zipdetails [options] zipfile.zip</code></pre>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>This program creates a detailed report on the internal structure of zip files. For each item of metadata within a zip file the program will output</p>

<dl>

<dt id="the-offset-into-the-zip-file-where-the-item-is-located."><a class="permalink" href="#the-offset-into-the-zip-file-where-the-item-is-located.">#</a><a id="the"></a><a id="the-offset-into-the-zip-file-where-the-item-is-located"></a>the offset into the zip file where the item is located.</dt>
<dd>

</dd>
<dt id="a-textual-representation-for-the-item."><a class="permalink" href="#a-textual-representation-for-the-item.">#</a><a id="a"></a><a id="a-textual-representation-for-the-item"></a>a textual representation for the item.</dt>
<dd>

</dd>
<dt id="an-optional-hex-dump-of-the-item."><a class="permalink" href="#an-optional-hex-dump-of-the-item.">#</a><a id="an"></a><a id="an-optional-hex-dump-of-the-item"></a>an optional hex dump of the item.</dt>
<dd>

</dd>
</dl>

<p>The program assumes a prior understanding of the internal structure of Zip files. You should have a copy of the zip file definition, <a href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">APPNOTE.TXT</a>, at hand to help understand the output from this program.</p>

<h2 id="Default-Behaviour"><a class="permalink" href="#Default-Behaviour">#</a><a id="Default"></a>Default Behaviour</h2>

<p>By default the program expects to be given a well-formed zip file. It will navigate the zip file by first parsing the zip <code>Central Directory</code> at the end of the file. If the <code>Central Directory</code> is found, it will then walk sequentally through the zip records starting at the beginning of the file. See <a href="#Advanced-Analysis">&quot;Advanced Analysis&quot;</a> for other processing options.</p>

<p>If the program finds any structural or portability issues with the zip file it will print a message at the point it finds the issue and/or in a summary at the end of the output report. Whilst the set of issues that can be detected it exhaustive, don&#39;t assume that this program can find <i>all</i> the possible issues in a zip file - there are likely edge conditions that need to be addressed.</p>

<p>If you have suggestions for use-cases where this could be enhanced please consider creating an enhancement request (see <a href="#SUPPORT">&quot;SUPPORT&quot;</a>).</p>

<h3 id="Date-&amp;-Time-fields"><a class="permalink" href="#Date-&amp;-Time-fields">#</a><a id="Date"></a><a id="Date-Time-fields"></a>Date &amp; Time fields</h3>

<p>Date/time fields found in zip files are displayed in local time. Use the <code>--utc</code> option to display these fields in Coordinated Universal Time (UTC).</p>

<h3 id="Filenames-&amp;-Comments"><a class="permalink" href="#Filenames-&amp;-Comments">#</a><a id="Filenames"></a><a id="Filenames-Comments"></a>Filenames &amp; Comments</h3>

<p>Filenames and comments are decoded/encoded using the default system encoding of the host running <code>zipdetails</code>. When the sytem encoding cannot be determined <code>cp437</code> will be used.</p>

<p>The exceptions are</p>

<ul>

<li><p>when the <code>Language Encoding Flag</code> is set in the zip file, the filename/comment fields are assumed to be encoded in UTF-8.</p>

</li>
<li><p>the definition for the metadata field implies UTF-8 charset encoding</p>

</li>
</ul>

<p>See <a href="#Filename-Encoding-Issues">&quot;Filename Encoding Issues&quot;</a> and <a href="#Filename-%26-Comment-Encoding-Options">&quot;Filename &amp; Comment Encoding Options&quot;</a> for ways to control the encoding of filename/comment fields.</p>

<h2 id="OPTIONS"><a class="permalink" href="#OPTIONS">#</a>OPTIONS</h2>

<h3 id="General-Options"><a class="permalink" href="#General-Options">#</a><a id="General"></a>General Options</h3>

<dl>

<dt id="-h,-help"><a class="permalink" href="#-h,-help">#</a><a id="h---help"></a><code>-h</code>, <code>--help</code></dt>
<dd>

<p>Display help</p>

</dd>
<dt id="-redact"><a class="permalink" href="#-redact">#</a><a id="redact"></a><code>--redact</code></dt>
<dd>

<p>Obscure filenames and payload data in the output. Handy for the use case where the zip files contains sensitive data that cannot be shared.</p>

</dd>
<dt id="-scan"><a class="permalink" href="#-scan">#</a><a id="scan"></a><code>--scan</code></dt>
<dd>

<p>Pessimistically scan the zip file loking for possible zip records. Can be error-prone. For very large zip files this option is slow. Consider using the <code>--walk</code> option first. See <a href="#Advanced-Analysis-Options">&quot;Advanced Analysis Options&quot;</a></p>

</dd>
<dt id="-utc"><a class="permalink" href="#-utc">#</a><a id="utc"></a><code>--utc</code></dt>
<dd>

<p>By default, date/time fields are displayed in local time. Use this option to display them in in Coordinated Universal Time (UTC).</p>

</dd>
<dt id="-v"><a class="permalink" href="#-v">#</a><a id="v"></a><code>-v</code></dt>
<dd>

<p>Enable Verbose mode. See <a href="#Verbose-Output">&quot;Verbose Output&quot;</a>.</p>

</dd>
<dt id="-version"><a class="permalink" href="#-version">#</a><a id="version"></a><code>--version</code></dt>
<dd>

<p>Display version number of the program and exit.</p>

</dd>
<dt id="-walk"><a class="permalink" href="#-walk">#</a><a id="walk"></a><code>--walk</code></dt>
<dd>

<p>Optimistically walk the zip file looking for possible zip records. See <a href="#Advanced-Analysis-Options">&quot;Advanced Analysis Options&quot;</a></p>

</dd>
</dl>

<h3 id="Filename-&amp;-Comment-Encoding-Options"><a class="permalink" href="#Filename-&amp;-Comment-Encoding-Options">#</a><a id="Filename"></a><a id="Filename-Comment-Encoding-Options"></a>Filename &amp; Comment Encoding Options</h3>

<p>See <a href="#Filename-Encoding-Issues">&quot;Filename Encoding Issues&quot;</a></p>

<dl>

<dt id="-encoding-name"><a class="permalink" href="#-encoding-name">#</a><a id="encoding-name"></a><code>--encoding name</code></dt>
<dd>

<p>Use encoding &quot;name&quot; when reading filenames/comments from the zip file.</p>

<p>When this option is not specified the default the system encoding is used.</p>

</dd>
<dt id="-no-encoding"><a class="permalink" href="#-no-encoding">#</a><a id="no-encoding"></a><code> --no-encoding</code></dt>
<dd>

<p>Disable all filename &amp; comment encoding/decoding. Filenames/comments are processed as byte streams.</p>

<p>This option is not enabled by default.</p>

</dd>
<dt id="-output-encoding-name"><a class="permalink" href="#-output-encoding-name">#</a><a id="output-encoding-name"></a><code>--output-encoding name</code></dt>
<dd>

<p>Use encoding &quot;name&quot; when writing filename/comments to the display. By default the system encoding will be used.</p>

</dd>
<dt id="-language-encoding,-no-language-encoding"><a class="permalink" href="#-language-encoding,-no-language-encoding">#</a><a id="language-encoding---no-language-encoding"></a><code>--language-encoding</code>, <code>--no-language-encoding</code></dt>
<dd>

<p>Modern zip files set a metadata entry in zip files, called the &quot;Language encoding flag&quot;, when they write filenames/comments encoded in UTF-8.</p>

<p>Occasionally some applications set the <code>Language Encoding Flag</code> but write data that is not UTF-8 in the filename/comment fields of the zip file. This will usually result in garbled text being output for the filenames/comments.</p>

<p>To deal with this use-case, set the <code>--no-language-encoding</code> option and, if needed, set the <code>--encoding name</code> option to encoding actually used.</p>

<p>Default is <code>--language-encoding</code>.</p>

</dd>
<dt id="-debug-encoding"><a class="permalink" href="#-debug-encoding">#</a><a id="debug-encoding"></a><code>--debug-encoding</code></dt>
<dd>

<p>Display extra debugging info when a filename/comment encoding has changed.</p>

</dd>
</dl>

<h3 id="Message-Control-Options"><a class="permalink" href="#Message-Control-Options">#</a><a id="Message"></a>Message Control Options</h3>

<dl>

<dt id="-messages,-no-messages"><a class="permalink" href="#-messages,-no-messages">#</a><a id="messages---no-messages"></a><code>--messages</code>, <code>--no-messages</code></dt>
<dd>

<p>Enable/disable the output of all info/warning/error messages.</p>

<p>Disabling messages means that no checks are carried out to check that the zip file is well-formed.</p>

<p>Default is enabled.</p>

</dd>
<dt id="-exit-bitmask,-no-exit-bitmask"><a class="permalink" href="#-exit-bitmask,-no-exit-bitmask">#</a><a id="exit-bitmask---no-exit-bitmask"></a><code>--exit-bitmask</code>, <code>--no-exit-bitmask</code></dt>
<dd>

<p>Enable/disable exit status bitmask for messages. Default disabled. Bitmask values are: 1 for info, 2 for warning and 4 for error.</p>

</dd>
</dl>

<h2 id="Default-Output"><a class="permalink" href="#Default-Output">#</a><a id="Default1"></a>Default Output</h2>

<p>By default <code>zipdetails</code> will output each metadata field from the zip file in three columns.</p>

<ol>

<li><p>The offset, in hex, to the start of the field relative to the beginning of the file.</p>

</li>
<li><p>The name of the field.</p>

</li>
<li><p>Detailed information about the contents of the field. The format depends on the type of data:</p>

<ul>

<li><p>Numeric Values</p>

<p>If the field contains an 8-bit, 16-bit, 32-bit or 64-bit numeric value, it will be displayed in both hex and decimal -- for example &quot;<code>002A (42)</code>&quot;.</p>

<p>Note that Zip files store most numeric values in <i>little-endian</i> encoding (there area few rare instances where <i>big-endian</i> is used). The value read from the zip file will have the <i>endian</i> encoding removed before being displayed.</p>

<p>Next, is an optional description of what the numeric value means.</p>

</li>
<li><p>String</p>

<p>If the field corresponds to a printable string, it will be output enclosed in single quotes.</p>

</li>
<li><p>Binary Data</p>

<p>The term <i>Binary Data</i> is just a catch-all for all other metadata in the zip file. This data is displayed as a series of ascii-hex byte values in the same order they are stored in the zip file.</p>

</li>
</ul>

</li>
</ol>

<p>For example, assuming you have a zip file, <code>test,zip</code>, with one entry</p>

<pre><code class="plaintext">$ unzip -l  test.zip
Archive:  test.zip
Length      Date    Time    Name
---------  ---------- -----   ----
    446  2023-03-22 20:03   lorem.txt
---------                     -------
    446                     1 file</code></pre>

<p>Running <code>zipdetails</code> will gives this output</p>

<pre><code class="plaintext">$ zipdetails test.zip

0000 LOCAL HEADER #1       04034B50 (67324752)
0004 Extract Zip Spec      14 (20) &#39;2.0&#39;
0005 Extract OS            00 (0) &#39;MS-DOS&#39;
0006 General Purpose Flag  0000 (0)
     [Bits 1-2]            0 &#39;Normal Compression&#39;
0008 Compression Method    0008 (8) &#39;Deflated&#39;
000A Modification Time     5676A072 (1450614898) &#39;Wed Mar 22 20:03:36 2023&#39;
000E CRC                   F90EE7FF (4178503679)
0012 Compressed Size       0000010E (270)
0016 Uncompressed Size     000001BE (446)
001A Filename Length       0009 (9)
001C Extra Length          0000 (0)
001E Filename              &#39;lorem.txt&#39;
0027 PAYLOAD

0135 CENTRAL HEADER #1     02014B50 (33639248)
0139 Created Zip Spec      1E (30) &#39;3.0&#39;
013A Created OS            03 (3) &#39;Unix&#39;
013B Extract Zip Spec      14 (20) &#39;2.0&#39;
013C Extract OS            00 (0) &#39;MS-DOS&#39;
013D General Purpose Flag  0000 (0)
     [Bits 1-2]            0 &#39;Normal Compression&#39;
013F Compression Method    0008 (8) &#39;Deflated&#39;
0141 Modification Time     5676A072 (1450614898) &#39;Wed Mar 22 20:03:36 2023&#39;
0145 CRC                   F90EE7FF (4178503679)
0149 Compressed Size       0000010E (270)
014D Uncompressed Size     000001BE (446)
0151 Filename Length       0009 (9)
0153 Extra Length          0000 (0)
0155 Comment Length        0000 (0)
0157 Disk Start            0000 (0)
0159 Int File Attributes   0001 (1)
     [Bit 0]               1 &#39;Text Data&#39;
015B Ext File Attributes   81ED0000 (2179792896)
     [Bits 16-24]          01ED (493) &#39;Unix attrib: rwxr-xr-x&#39;
     [Bits 28-31]          08 (8) &#39;Regular File&#39;
015F Local Header Offset   00000000 (0)
0163 Filename              &#39;lorem.txt&#39;

016C END CENTRAL HEADER    06054B50 (101010256)
0170 Number of this disk   0000 (0)
0172 Central Dir Disk no   0000 (0)
0174 Entries in this disk  0001 (1)
0176 Total Entries         0001 (1)
0178 Size of Central Dir   00000037 (55)
017C Offset to Central Dir 00000135 (309)
0180 Comment Length        0000 (0)
#
# Done</code></pre>

<h2 id="Verbose-Output"><a class="permalink" href="#Verbose-Output">#</a><a id="Verbose"></a>Verbose Output</h2>

<p>If the <code>-v</code> option is present, the metadata output is split into the following columns:</p>

<ol>

<li><p>The offset, in hex, to the start of the field relative to the beginning of the file.</p>

</li>
<li><p>The offset, in hex, to the end of the field relative to the beginning of the file.</p>

</li>
<li><p>The length, in hex, of the field.</p>

</li>
<li><p>A hex dump of the bytes in field in the order they are stored in the zip file.</p>

</li>
<li><p>A textual description of the field.</p>

</li>
<li><p>Information about the contents of the field. See the description in the <a href="#Default-Output">&quot;Default Output&quot;</a> for more details.</p>

</li>
</ol>

<p>Here is the same zip file, <code>test.zip</code>, dumped using the <code>zipdetails</code> <code>-v</code> option:</p>

<pre><code class="plaintext">$ zipdetails -v test.zip

0000 0003 0004 50 4B 03 04 LOCAL HEADER #1       04034B50 (67324752)
0004 0004 0001 14          Extract Zip Spec      14 (20) &#39;2.0&#39;
0005 0005 0001 00          Extract OS            00 (0) &#39;MS-DOS&#39;
0006 0007 0002 00 00       General Purpose Flag  0000 (0)
                           [Bits 1-2]            0 &#39;Normal Compression&#39;
0008 0009 0002 08 00       Compression Method    0008 (8) &#39;Deflated&#39;
000A 000D 0004 72 A0 76 56 Modification Time     5676A072 (1450614898) &#39;Wed Mar 22 20:03:36 2023&#39;
000E 0011 0004 FF E7 0E F9 CRC                   F90EE7FF (4178503679)
0012 0015 0004 0E 01 00 00 Compressed Size       0000010E (270)
0016 0019 0004 BE 01 00 00 Uncompressed Size     000001BE (446)
001A 001B 0002 09 00       Filename Length       0009 (9)
001C 001D 0002 00 00       Extra Length          0000 (0)
001E 0026 0009 6C 6F 72 65 Filename              &#39;lorem.txt&#39;
               6D 2E 74 78
               74
0027 0134 010E ...         PAYLOAD

0135 0138 0004 50 4B 01 02 CENTRAL HEADER #1     02014B50 (33639248)
0139 0139 0001 1E          Created Zip Spec      1E (30) &#39;3.0&#39;
013A 013A 0001 03          Created OS            03 (3) &#39;Unix&#39;
013B 013B 0001 14          Extract Zip Spec      14 (20) &#39;2.0&#39;
013C 013C 0001 00          Extract OS            00 (0) &#39;MS-DOS&#39;
013D 013E 0002 00 00       General Purpose Flag  0000 (0)
                           [Bits 1-2]            0 &#39;Normal Compression&#39;
013F 0140 0002 08 00       Compression Method    0008 (8) &#39;Deflated&#39;
0141 0144 0004 72 A0 76 56 Modification Time     5676A072 (1450614898) &#39;Wed Mar 22 20:03:36 2023&#39;
0145 0148 0004 FF E7 0E F9 CRC                   F90EE7FF (4178503679)
0149 014C 0004 0E 01 00 00 Compressed Size       0000010E (270)
014D 0150 0004 BE 01 00 00 Uncompressed Size     000001BE (446)
0151 0152 0002 09 00       Filename Length       0009 (9)
0153 0154 0002 00 00       Extra Length          0000 (0)
0155 0156 0002 00 00       Comment Length        0000 (0)
0157 0158 0002 00 00       Disk Start            0000 (0)
0159 015A 0002 01 00       Int File Attributes   0001 (1)
                           [Bit 0]               1 &#39;Text Data&#39;
015B 015E 0004 00 00 ED 81 Ext File Attributes   81ED0000 (2179792896)
                           [Bits 16-24]          01ED (493) &#39;Unix attrib: rwxr-xr-x&#39;
                           [Bits 28-31]          08 (8) &#39;Regular File&#39;
015F 0162 0004 00 00 00 00 Local Header Offset   00000000 (0)
0163 016B 0009 6C 6F 72 65 Filename              &#39;lorem.txt&#39;
               6D 2E 74 78
               74

016C 016F 0004 50 4B 05 06 END CENTRAL HEADER    06054B50 (101010256)
0170 0171 0002 00 00       Number of this disk   0000 (0)
0172 0173 0002 00 00       Central Dir Disk no   0000 (0)
0174 0175 0002 01 00       Entries in this disk  0001 (1)
0176 0177 0002 01 00       Total Entries         0001 (1)
0178 017B 0004 37 00 00 00 Size of Central Dir   00000037 (55)
017C 017F 0004 35 01 00 00 Offset to Central Dir 00000135 (309)
0180 0181 0002 00 00       Comment Length        0000 (0)
#
# Done</code></pre>

<h2 id="Advanced-Analysis"><a class="permalink" href="#Advanced-Analysis">#</a><a id="Advanced"></a>Advanced Analysis</h2>

<p>If you have a corrupt or non-standard zip file, particulatly one where the <code>Central Directory</code> metadata at the end of the file is absent/incomplete, you can use either the <code>--walk</code> option or the <code>--scan</code> option to search for any zip metadata that is still present in the file.</p>

<p>When either of these options is enabled, this program will bypass the initial step of reading the <code>Central Directory</code> at the end of the file and simply scan the zip file sequentially from the start of the file looking for zip metedata records. Although this can be error prone, for the most part it will find any zip file metadata that is still present in the file.</p>

<p>The difference between the two options is how aggressive the sequential scan is: <code>--walk</code> is optimistic, while <code>--scan</code> is pessimistic.</p>

<p>To understand the difference in more detail you need to know a bit about how zip file metadata is structured. Under the hood, a zip file uses a series of 4-byte signatures to flag the start of a each of the metadata records it uses. When the <code>--walk</code> or the <code>--scan</code> option is enabled both work identically by scanning the file from the beginning looking for any the of these valid 4-byte metadata signatures. When a 4-byte signature is found both options will blindly assume that it has found a vald metadata record and display it.</p>

<h3 id="-walk1"><a class="permalink" href="#-walk1">#</a><a id="walk1"></a><code>--walk</code></h3>

<p>The <code>--walk</code> option optimistically assumes that it has found a real zip metatada record and so starts the scan for the next record directly after the record it has just output.</p>

<h3 id="-scan1"><a class="permalink" href="#-scan1">#</a><a id="scan1"></a><code>--scan</code></h3>

<p>The <code>--scan</code> option is pessimistic and assumes the 4-byte signature sequence may have been a false-positive, so before starting the scan for the next resord, it will rewind to the location in the file directly after the 4-byte sequecce it just processed. This means it will rescan data that has already been processed. For very lage zip files the <code>--scan</code> option can be really realy slow, so trying the <code>--walk</code> option first.</p>

<p><b>Important Note</b>: If the zip file being processed contains one or more nested zip files, and the outer zip file uses the <code>STORE</code> compression method, the <code>--scan</code> option will display the zip metadata for both the outer &amp; inner zip files.</p>

<h2 id="Filename-Encoding-Issues"><a class="permalink" href="#Filename-Encoding-Issues">#</a><a id="Filename1"></a>Filename Encoding Issues</h2>

<p>Sometimes when displaying the contents of a zip file the filenames (or comments) appear to be garbled. This section walks through the reasons and mitigations that can be applied to work around these issues.</p>

<h3 id="Background"><a class="permalink" href="#Background">#</a>Background</h3>

<p>When zip files were first created in the 1980&#39;s, there was no Unicode or UTF-8. Issues around character set encoding interoperability were not a major concern.</p>

<p>Initially, the only official encoding supported in zip files was IBM Code Page 437 (AKA <code>CP437</code>). As time went on users in locales where <code>CP437</code> wasn&#39;t appropriate stored filenames in the encoding native to their locale. If you were running a system that matched the locale of the zip file, all was well. If not, you had to post-process the filenames after unzipping the zip file.</p>

<p>Fast forward to the introduction of Unicode and UTF-8 encoding. The approach now used by all major zip implementations is to set the <code>Language encoding flag</code> (also known as <code>EFS</code>) in the zip file metadata to signal that a filename/comment is encoded in UTF-8.</p>

<p>To ensure maximum interoperability when sharing zip files store 7-bit filenames as-is in the zip file. For anything else the <code>EFS</code> bit needs to be set and the filename is encoded in UTF-8. Although this rule is kept to for the most part, there are exceptions out in the wild.</p>

<h3 id="Dealing-with-Encoding-Errors"><a class="permalink" href="#Dealing-with-Encoding-Errors">#</a><a id="Dealing"></a>Dealing with Encoding Errors</h3>

<p>The most common filename encoding issue is where the <code>EFS</code> bit is not set and the filename is stored in a character set that doesnt&#39;t match the system encoding. This mostly impacts legacy zip files that predate the introduction of Unicode.</p>

<p>To deal with this issue you first need to know what encoding was used in the zip file. For example, if the filename is encoded in <code>ISO-8859-1</code> you can display the filenames using the <code>--encoding</code> option</p>

<pre><code class="plaintext">zipdetails --encoding ISO-8859-1 myfile.zip</code></pre>

<p>A less common variation of this is where the <code>EFS</code> bit is set, signalling that the filename will be encoded in UTF-8, but the filename is not encoded in UTF-8. To deal with this scenarion, use the <code>--no-language-encoding</code> option along with the <code>--encoding</code> option.</p>

<h1 id="LIMITATIONS"><a class="permalink" href="#LIMITATIONS">#</a>LIMITATIONS</h1>

<p>The following zip file features are not supported by this program:</p>

<ul>

<li><p>Multi-part/Split/Spanned Zip Archives.</p>

<p>This program cannot give an overall report on the combined parts of a multi-part zip file.</p>

<p>The best you can do is run with either the <code>--scan</code> or <code>--walk</code> options against individual parts. Some will contains zipfile metadata which will be detected and some will only contain compressed payload data.</p>

</li>
<li><p>Encrypted Central Directory</p>

<p>When pkzip <i>Strong Encryption</i> is enabled in a zip file this program can still parse most of the metadata in the zip file. The exception is when the <code>Central Directory</code> of a zip file is also encrypted. This program cannot parse any metadata from an encrypted <code>Central Directory</code>.</p>

</li>
<li><p>Corrupt Zip files</p>

<p>When <code>zipdetails</code> encounters a corrupt zip file, it will do one or more of the following</p>

<ul>

<li><p>Display details of the corruption and carry on</p>

</li>
<li><p>Display details of the corruption and terminate</p>

</li>
<li><p>Terminate with a generic message</p>

</li>
</ul>

<p>Which of the above is output is dependent in the severity of the corruption.</p>

</li>
</ul>

<h1 id="TODO"><a class="permalink" href="#TODO">#</a>TODO</h1>

<h2 id="JSON/YML-Output"><a class="permalink" href="#JSON/YML-Output">#</a><a id="JSON"></a><a id="JSON-YML-Output"></a>JSON/YML Output</h2>

<p>Output some of the zip file metadata as a JSON or YML document.</p>

<h2 id="Corrupt-Zip-files"><a class="permalink" href="#Corrupt-Zip-files">#</a><a id="Corrupt"></a>Corrupt Zip files</h2>

<p>Although the detection and reporting of most of the common corruption use-cases is present in <code>zipdetails</code>, there are likely to be other edge cases that need to be supported.</p>

<p>If you have a corrupt Zip file that isn&#39;t being processed properly, please report it (see <a href="#SUPPORT">&quot;SUPPORT&quot;</a>).</p>

<h1 id="SUPPORT"><a class="permalink" href="#SUPPORT">#</a>SUPPORT</h1>

<p>General feedback/questions/bug reports should be sent to <a href="https://github.com/pmqs/zipdetails/issues">https://github.com/pmqs/zipdetails/issues</a>.</p>

<h1 id="SEE-ALSO"><a class="permalink" href="#SEE-ALSO">#</a><a id="SEE"></a>SEE ALSO</h1>

<p>The primary reference for Zip files is <a href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">APPNOTE.TXT</a>.</p>

<p>An alternative reference is the Info-Zip appnote. This is available from <a href="ftp://ftp.info-zip.org/pub/infozip/doc/">ftp://ftp.info-zip.org/pub/infozip/doc/</a></p>

<p>For details of WinZip AES encryption see <a href="https://www.winzip.com/en/support/aes-encryption/">AES Encryption Information: Encryption Specification AE-1 and AE-2</a>.</p>

<p>The <code>zipinfo</code> program that comes with the info-zip distribution (<a href="http://www.info-zip.org/">http://www.info-zip.org/</a>) can also display details of the structure of a zip file.</p>

<h1 id="AUTHOR"><a class="permalink" href="#AUTHOR">#</a>AUTHOR</h1>

<p>Paul Marquess <i>pmqs@cpan.org</i>.</p>

<h1 id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">#</a>COPYRIGHT</h1>

<p>Copyright (c) 2011-2024 Paul Marquess. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/zipdetails by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
</html>
