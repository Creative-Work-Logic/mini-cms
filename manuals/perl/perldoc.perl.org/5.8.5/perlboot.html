<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/5.8.5/perlboot by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perlboot - Beginner&#39;s Object-Oriented Tutorial - Perldoc Browser</title>
    <link rel="search" href="../opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="../perlboot.html">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="../css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html"><img src="../images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.8.5</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="../perlboot.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0/perlboot">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/perlboot">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/perlboot">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/perlboot">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/perlboot">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/perlboot">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/perlboot">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/perlboot">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/perlboot">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/perlboot">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/perlboot">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/perlboot">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/perlboot">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/perlboot">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/perlboot">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/perlboot">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/perlboot">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/perlboot">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/perlboot">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/perlboot">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/perlboot">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/perlboot">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/perlboot">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/perlboot">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/perlboot">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/perlboot">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/perlboot">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/perlboot">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/perlboot">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/perlboot">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/perlboot">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/perlboot">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/perlboot">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/perlboot">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/perlboot">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/perlboot">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/perlboot">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/perlboot">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/perlboot">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/perlboot">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/perlboot">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/perlboot">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/perlboot">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/perlboot">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/perlboot">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/perlboot">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/perlboot">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/perlboot">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/perlboot">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/perlboot">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/perlboot">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/perlboot">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/perlboot">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/perlboot">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/perlboot">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/perlboot">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.14.4/perlboot.html">5.14.4</a>
          <a class="dropdown-item" href="../5.14.3/perlboot.html">5.14.3</a>
          <a class="dropdown-item" href="../5.14.2/perlboot.html">5.14.2</a>
          <a class="dropdown-item" href="../5.14.1/perlboot.html">5.14.1</a>
          <a class="dropdown-item" href="../5.14.0/perlboot.html">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.12.5/perlboot.html">5.12.5</a>
          <a class="dropdown-item" href="../5.12.4/perlboot.html">5.12.4</a>
          <a class="dropdown-item" href="../5.12.3/perlboot.html">5.12.3</a>
          <a class="dropdown-item" href="../5.12.2/perlboot.html">5.12.2</a>
          <a class="dropdown-item" href="../5.12.1/perlboot.html">5.12.1</a>
          <a class="dropdown-item" href="../5.12.0/perlboot.html">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.10.1/perlboot.html">5.10.1</a>
          <a class="dropdown-item" href="../5.10.0/perlboot.html">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.8.9/perlboot.html">5.8.9</a>
          <a class="dropdown-item" href="../5.8.8/perlboot.html">5.8.8</a>
          <a class="dropdown-item" href="../5.8.7/perlboot.html">5.8.7</a>
          <a class="dropdown-item" href="../5.8.6/perlboot.html">5.8.6</a>
          <a class="dropdown-item active" href="perlboot.html">5.8.5</a>
          <a class="dropdown-item" href="../5.8.4/perlboot.html">5.8.4</a>
          <a class="dropdown-item" href="../5.8.3/perlboot.html">5.8.3</a>
          <a class="dropdown-item" href="../5.8.2/perlboot.html">5.8.2</a>
          <a class="dropdown-item" href="../5.8.1/perlboot.html">5.8.1</a>
          <a class="dropdown-item" href="../5.8.0/perlboot.html">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.6.2/perlboot.html">5.6.2</a>
          <a class="dropdown-item" href="../5.6.1/perlboot.html">5.6.1</a>
          <a class="dropdown-item" href="../5.6.0/perlboot.html">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/perlboot">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/perlboot">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/perlboot">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/perlboot">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/perlboot">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/perlboot">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/perlboot">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/perlboot">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/perlboot">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/perlboot">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/perlboot">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/perlboot">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/perlboot">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/perlboot">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/perlboot">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/perlboot">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/perlboot">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/perlboot">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/perlboot">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/perlboot">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/perlboot">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/perlboot">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/perlboot">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/perlboot">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/perlboot">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="../js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/5.8.5/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="../js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perlboot.html">perlboot</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/5.8.5/perlboot.txt">source</a>,
            <a href="https://metacpan.org/pod/perlboot">CPAN</a>)
          </div>
        </div>
        <div class="leading-notice">
          You are viewing the version of this documentation from Perl 5.8.5.
            <a href="../perlboot.html">View the latest version</a>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#If-we-could-talk-to-the-animals...">If we could talk to the animals...</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Introducing-the-method-invocation-arrow">Introducing the method invocation arrow</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Invoking-a-barnyard">Invoking a barnyard</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#The-extra-parameter-of-method-invocation">The extra parameter of method invocation</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Calling-a-second-method-to-simplify-things">Calling a second method to simplify things</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Inheriting-the-windpipes">Inheriting the windpipes</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#A-few-notes-about-@ISA">A few notes about @ISA</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Overriding-the-methods">Overriding the methods</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Starting-the-search-from-a-different-place">Starting the search from a different place</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#The-SUPER-way-of-doing-things">The SUPER way of doing things</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Where-we&#39;re-at-so-far...">Where we&#39;re at so far...</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#A-horse-is-a-horse,-of-course-of-course-or-is-it?">A horse is a horse, of course of course -- or is it?</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Invoking-an-instance-method">Invoking an instance method</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Accessing-the-instance-data">Accessing the instance data</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#How-to-build-a-horse">How to build a horse</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Inheriting-the-constructor">Inheriting the constructor</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Making-a-method-work-with-either-classes-or-instances">Making a method work with either classes or instances</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Adding-parameters-to-a-method">Adding parameters to a method</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#More-interesting-instances">More interesting instances</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#A-horse-of-a-different-color">A horse of a different color</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Summary">Summary</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COPYRIGHT">COPYRIGHT</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perlboot - Beginner&#39;s Object-Oriented Tutorial</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>If you&#39;re not familiar with objects from other languages, some of the other Perl object documentation may be a little daunting, such as <a href="perlobj.html">perlobj</a>, a basic reference in using objects, and <a href="perltoot.html">perltoot</a>, which introduces readers to the peculiarities of Perl&#39;s object system in a tutorial way.</p>

<p>So, let&#39;s take a different approach, presuming no prior object experience. It helps if you know about subroutines (<a href="perlsub.html">perlsub</a>), references (<a href="perlref.html">perlref</a> et. seq.), and packages (<a href="perlmod.html">perlmod</a>), so become familiar with those first if you haven&#39;t already.</p>

<h2 id="If-we-could-talk-to-the-animals..."><a class="permalink" href="#If-we-could-talk-to-the-animals...">#</a><a id="If"></a><a id="If-we-could-talk-to-the-animals"></a>If we could talk to the animals...</h2>

<p>Let&#39;s let the animals talk for a moment:</p>

<pre><code>sub Cow::speak {
  print &quot;a Cow goes moooo!\n&quot;;
}
sub Horse::speak {
  print &quot;a Horse goes neigh!\n&quot;;
}
sub Sheep::speak {
  print &quot;a Sheep goes baaaah!\n&quot;
}

Cow::speak;
Horse::speak;
Sheep::speak;</code></pre>

<p>This results in:</p>

<pre><code class="plaintext">a Cow goes moooo!
a Horse goes neigh!
a Sheep goes baaaah!</code></pre>

<p>Nothing spectacular here. Simple subroutines, albeit from separate packages, and called using the full package name. So let&#39;s create an entire pasture:</p>

<pre><code># Cow::speak, Horse::speak, Sheep::speak as before
@pasture = qw(Cow Cow Horse Sheep Sheep);
foreach $animal (@pasture) {
  &amp;{$animal.&quot;::speak&quot;};
}</code></pre>

<p>This results in:</p>

<pre><code class="plaintext">a Cow goes moooo!
a Cow goes moooo!
a Horse goes neigh!
a Sheep goes baaaah!
a Sheep goes baaaah!</code></pre>

<p>Wow. That symbolic coderef de-referencing there is pretty nasty. We&#39;re counting on <code>no strict subs</code> mode, certainly not recommended for larger programs. And why was that necessary? Because the name of the package seems to be inseparable from the name of the subroutine we want to invoke within that package.</p>

<p>Or is it?</p>

<h2 id="Introducing-the-method-invocation-arrow"><a class="permalink" href="#Introducing-the-method-invocation-arrow">#</a><a id="Introducing"></a>Introducing the method invocation arrow</h2>

<p>For now, let&#39;s say that <code>Class-&gt;method</code> invokes subroutine <code>method</code> in package <code>Class</code>. (Here, &quot;Class&quot; is used in its &quot;category&quot; meaning, not its &quot;scholastic&quot; meaning.) That&#39;s not completely accurate, but we&#39;ll do this one step at a time. Now let&#39;s use it like so:</p>

<pre><code># Cow::speak, Horse::speak, Sheep::speak as before
Cow-&gt;speak;
Horse-&gt;speak;
Sheep-&gt;speak;</code></pre>

<p>And once again, this results in:</p>

<pre><code class="plaintext">a Cow goes moooo!
a Horse goes neigh!
a Sheep goes baaaah!</code></pre>

<p>That&#39;s not fun yet. Same number of characters, all constant, no variables. But yet, the parts are separable now. Watch:</p>

<pre><code>$a = &quot;Cow&quot;;
$a-&gt;speak; # invokes Cow-&gt;speak</code></pre>

<p>Ahh! Now that the package name has been parted from the subroutine name, we can use a variable package name. And this time, we&#39;ve got something that works even when <code>use strict refs</code> is enabled.</p>

<h2 id="Invoking-a-barnyard"><a class="permalink" href="#Invoking-a-barnyard">#</a><a id="Invoking"></a>Invoking a barnyard</h2>

<p>Let&#39;s take that new arrow invocation and put it back in the barnyard example:</p>

<pre><code>sub Cow::speak {
  print &quot;a Cow goes moooo!\n&quot;;
}
sub Horse::speak {
  print &quot;a Horse goes neigh!\n&quot;;
}
sub Sheep::speak {
  print &quot;a Sheep goes baaaah!\n&quot;
}

@pasture = qw(Cow Cow Horse Sheep Sheep);
foreach $animal (@pasture) {
  $animal-&gt;speak;
}</code></pre>

<p>There! Now we have the animals all talking, and safely at that, without the use of symbolic coderefs.</p>

<p>But look at all that common code. Each of the <code>speak</code> routines has a similar structure: a <code>print</code> operator and a string that contains common text, except for two of the words. It&#39;d be nice if we could factor out the commonality, in case we decide later to change it all to <code>says</code> instead of <code>goes</code>.</p>

<p>And we actually have a way of doing that without much fuss, but we have to hear a bit more about what the method invocation arrow is actually doing for us.</p>

<h2 id="The-extra-parameter-of-method-invocation"><a class="permalink" href="#The-extra-parameter-of-method-invocation">#</a><a id="The"></a>The extra parameter of method invocation</h2>

<p>The invocation of:</p>

<pre><code>Class-&gt;method(@args)</code></pre>

<p>attempts to invoke subroutine <code>Class::method</code> as:</p>

<pre><code>Class::method(&quot;Class&quot;, @args);</code></pre>

<p>(If the subroutine can&#39;t be found, &quot;inheritance&quot; kicks in, but we&#39;ll get to that later.) This means that we get the class name as the first parameter (the only parameter, if no arguments are given). So we can rewrite the <code>Sheep</code> speaking subroutine as:</p>

<pre><code>sub Sheep::speak {
  my $class = shift;
  print &quot;a $class goes baaaah!\n&quot;;
}</code></pre>

<p>And the other two animals come out similarly:</p>

<pre><code>sub Cow::speak {
  my $class = shift;
  print &quot;a $class goes moooo!\n&quot;;
}
sub Horse::speak {
  my $class = shift;
  print &quot;a $class goes neigh!\n&quot;;
}</code></pre>

<p>In each case, <code>$class</code> will get the value appropriate for that subroutine. But once again, we have a lot of similar structure. Can we factor that out even further? Yes, by calling another method in the same class.</p>

<h2 id="Calling-a-second-method-to-simplify-things"><a class="permalink" href="#Calling-a-second-method-to-simplify-things">#</a><a id="Calling"></a>Calling a second method to simplify things</h2>

<p>Let&#39;s call out from <code>speak</code> to a helper method called <code>sound</code>. This method provides the constant text for the sound itself.</p>

<pre><code>    { package Cow;
      sub sound { &quot;moooo&quot; }
      sub speak {
	my $class = shift;
	print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;
      }
    }</code></pre>

<p>Now, when we call <code>Cow-&gt;speak</code>, we get a <code>$class</code> of <code>Cow</code> in <code>speak</code>. This in turn selects the <code>Cow-&gt;sound</code> method, which returns <code>moooo</code>. But how different would this be for the <code>Horse</code>?</p>

<pre><code>    { package Horse;
      sub sound { &quot;neigh&quot; }
      sub speak {
	my $class = shift;
	print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;
      }
    }</code></pre>

<p>Only the name of the package and the specific sound change. So can we somehow share the definition for <code>speak</code> between the Cow and the Horse? Yes, with inheritance!</p>

<h2 id="Inheriting-the-windpipes"><a class="permalink" href="#Inheriting-the-windpipes">#</a><a id="Inheriting"></a>Inheriting the windpipes</h2>

<p>We&#39;ll define a common subroutine package called <code>Animal</code>, with the definition for <code>speak</code>:</p>

<pre><code>    { package Animal;
      sub speak {
	my $class = shift;
	print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;
      }
    }</code></pre>

<p>Then, for each animal, we say it &quot;inherits&quot; from <code>Animal</code>, along with the animal-specific sound:</p>

<pre><code>{ package Cow;
  @ISA = qw(Animal);
  sub sound { &quot;moooo&quot; }
}</code></pre>

<p>Note the added <code>@ISA</code> array. We&#39;ll get to that in a minute.</p>

<p>But what happens when we invoke <code>Cow-&gt;speak</code> now?</p>

<p>First, Perl constructs the argument list. In this case, it&#39;s just <code>Cow</code>. Then Perl looks for <code>Cow::speak</code>. But that&#39;s not there, so Perl checks for the inheritance array <code>@Cow::ISA</code>. It&#39;s there, and contains the single name <code>Animal</code>.</p>

<p>Perl next checks for <code>speak</code> inside <code>Animal</code> instead, as in <code>Animal::speak</code>. And that&#39;s found, so Perl invokes that subroutine with the already frozen argument list.</p>

<p>Inside the <code>Animal::speak</code> subroutine, <code>$class</code> becomes <code>Cow</code> (the first argument). So when we get to the step of invoking <code>$class-&gt;sound</code>, it&#39;ll be looking for <code>Cow-&gt;sound</code>, which gets it on the first try without looking at <code>@ISA</code>. Success!</p>

<h2 id="A-few-notes-about-@ISA"><a class="permalink" href="#A-few-notes-about-@ISA">#</a><a id="A"></a><a id="A-few-notes-about-ISA"></a>A few notes about @ISA</h2>

<p>This magical <code>@ISA</code> variable (pronounced &quot;is a&quot; not &quot;ice-uh&quot;), has declared that <code>Cow</code> &quot;is a&quot; <code>Animal</code>. Note that it&#39;s an array, not a simple single value, because on rare occasions, it makes sense to have more than one parent class searched for the missing methods.</p>

<p>If <code>Animal</code> also had an <code>@ISA</code>, then we&#39;d check there too. The search is recursive, depth-first, left-to-right in each <code>@ISA</code>. Typically, each <code>@ISA</code> has only one element (multiple elements means multiple inheritance and multiple headaches), so we get a nice tree of inheritance.</p>

<p>When we turn on <code>use strict</code>, we&#39;ll get complaints on <code>@ISA</code>, since it&#39;s not a variable containing an explicit package name, nor is it a lexical (&quot;my&quot;) variable. We can&#39;t make it a lexical variable though (it has to belong to the package to be found by the inheritance mechanism), so there&#39;s a couple of straightforward ways to handle that.</p>

<p>The easiest is to just spell the package name out:</p>

<pre><code>@Cow::ISA = qw(Animal);</code></pre>

<p>Or allow it as an implicitly named package variable:</p>

<pre><code>package Cow;
use vars qw(@ISA);
@ISA = qw(Animal);</code></pre>

<p>If you&#39;re bringing in the class from outside, via an object-oriented module, you change:</p>

<pre><code>package Cow;
use Animal;
use vars qw(@ISA);
@ISA = qw(Animal);</code></pre>

<p>into just:</p>

<pre><code>package Cow;
use base qw(Animal);</code></pre>

<p>And that&#39;s pretty darn compact.</p>

<h2 id="Overriding-the-methods"><a class="permalink" href="#Overriding-the-methods">#</a><a id="Overriding"></a>Overriding the methods</h2>

<p>Let&#39;s add a mouse, which can barely be heard:</p>

<pre><code>    # Animal package from before
    { package Mouse;
      @ISA = qw(Animal);
      sub sound { &quot;squeak&quot; }
      sub speak {
        my $class = shift;
	print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;;
	print &quot;[but you can barely hear it!]\n&quot;;
      }
    }

    Mouse-&gt;speak;</code></pre>

<p>which results in:</p>

<pre><code class="plaintext">a Mouse goes squeak!
[but you can barely hear it!]</code></pre>

<p>Here, <code>Mouse</code> has its own speaking routine, so <code>Mouse-&gt;speak</code> doesn&#39;t immediately invoke <code>Animal-&gt;speak</code>. This is known as &quot;overriding&quot;. In fact, we didn&#39;t even need to say that a <code>Mouse</code> was an <code>Animal</code> at all, since all of the methods needed for <code>speak</code> are completely defined with <code>Mouse</code>.</p>

<p>But we&#39;ve now duplicated some of the code from <code>Animal-&gt;speak</code>, and this can once again be a maintenance headache. So, can we avoid that? Can we say somehow that a <code>Mouse</code> does everything any other <code>Animal</code> does, but add in the extra comment? Sure!</p>

<p>First, we can invoke the <code>Animal::speak</code> method directly:</p>

<pre><code>    # Animal package from before
    { package Mouse;
      @ISA = qw(Animal);
      sub sound { &quot;squeak&quot; }
      sub speak {
        my $class = shift;
        Animal::speak($class);
	print &quot;[but you can barely hear it!]\n&quot;;
      }
    }</code></pre>

<p>Note that we have to include the <code>$class</code> parameter (almost surely the value of <code>&quot;Mouse&quot;</code>) as the first parameter to <code>Animal::speak</code>, since we&#39;ve stopped using the method arrow. Why did we stop? Well, if we invoke <code>Animal-&gt;speak</code> there, the first parameter to the method will be <code>&quot;Animal&quot;</code> not <code>&quot;Mouse&quot;</code>, and when time comes for it to call for the <code>sound</code>, it won&#39;t have the right class to come back to this package.</p>

<p>Invoking <code>Animal::speak</code> directly is a mess, however. What if <code>Animal::speak</code> didn&#39;t exist before, and was being inherited from a class mentioned in <code>@Animal::ISA</code>? Because we are no longer using the method arrow, we get one and only one chance to hit the right subroutine.</p>

<p>Also note that the <code>Animal</code> classname is now hardwired into the subroutine selection. This is a mess if someone maintains the code, changing <code>@ISA</code> for &lt;Mouse&gt; and didn&#39;t notice <code>Animal</code> there in <code>speak</code>. So, this is probably not the right way to go.</p>

<h2 id="Starting-the-search-from-a-different-place"><a class="permalink" href="#Starting-the-search-from-a-different-place">#</a><a id="Starting"></a>Starting the search from a different place</h2>

<p>A better solution is to tell Perl to search from a higher place in the inheritance chain:</p>

<pre><code># same Animal as before
{ package Mouse;
  # same @ISA, &amp;sound as before
  sub speak {
    my $class = shift;
    $class-&gt;Animal::speak;
    print &quot;[but you can barely hear it!]\n&quot;;
  }
}</code></pre>

<p>Ahh. This works. Using this syntax, we start with <code>Animal</code> to find <code>speak</code>, and use all of <code>Animal</code>&#39;s inheritance chain if not found immediately. And yet the first parameter will be <code>$class</code>, so the found <code>speak</code> method will get <code>Mouse</code> as its first entry, and eventually work its way back to <code>Mouse::sound</code> for the details.</p>

<p>But this isn&#39;t the best solution. We still have to keep the <code>@ISA</code> and the initial search package coordinated. Worse, if <code>Mouse</code> had multiple entries in <code>@ISA</code>, we wouldn&#39;t necessarily know which one had actually defined <code>speak</code>. So, is there an even better way?</p>

<h2 id="The-SUPER-way-of-doing-things"><a class="permalink" href="#The-SUPER-way-of-doing-things">#</a><a id="The1"></a>The SUPER way of doing things</h2>

<p>By changing the <code>Animal</code> class to the <code>SUPER</code> class in that invocation, we get a search of all of our super classes (classes listed in <code>@ISA</code>) automatically:</p>

<pre><code># same Animal as before
{ package Mouse;
  # same @ISA, &amp;sound as before
  sub speak {
    my $class = shift;
    $class-&gt;SUPER::speak;
    print &quot;[but you can barely hear it!]\n&quot;;
  }
}</code></pre>

<p>So, <code>SUPER::speak</code> means look in the current package&#39;s <code>@ISA</code> for <code>speak</code>, invoking the first one found. Note that it does <i>not</i> look in the <code>@ISA</code> of <code>$class</code>.</p>

<h2 id="Where-we&#39;re-at-so-far..."><a class="permalink" href="#Where-we&#39;re-at-so-far...">#</a><a id="Where"></a><a id="Where-were-at-so-far"></a>Where we&#39;re at so far...</h2>

<p>So far, we&#39;ve seen the method arrow syntax:</p>

<pre><code>Class-&gt;method(@args);</code></pre>

<p>or the equivalent:</p>

<pre><code>$a = &quot;Class&quot;;
$a-&gt;method(@args);</code></pre>

<p>which constructs an argument list of:</p>

<pre><code>(&quot;Class&quot;, @args)</code></pre>

<p>and attempts to invoke</p>

<pre><code>Class::method(&quot;Class&quot;, @Args);</code></pre>

<p>However, if <code>Class::method</code> is not found, then <code>@Class::ISA</code> is examined (recursively) to locate a package that does indeed contain <code>method</code>, and that subroutine is invoked instead.</p>

<p>Using this simple syntax, we have class methods, (multiple) inheritance, overriding, and extending. Using just what we&#39;ve seen so far, we&#39;ve been able to factor out common code, and provide a nice way to reuse implementations with variations. This is at the core of what objects provide, but objects also provide instance data, which we haven&#39;t even begun to cover.</p>

<h2 id="A-horse-is-a-horse,-of-course-of-course-or-is-it?"><a class="permalink" href="#A-horse-is-a-horse,-of-course-of-course-or-is-it?">#</a><a id="A1"></a><a id="A-horse-is-a-horse-of-course-of-course----or-is-it"></a>A horse is a horse, of course of course -- or is it?</h2>

<p>Let&#39;s start with the code for the <code>Animal</code> class and the <code>Horse</code> class:</p>

<pre><code>{ package Animal;
  sub speak {
    my $class = shift;
    print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;
  }
}
{ package Horse;
  @ISA = qw(Animal);
  sub sound { &quot;neigh&quot; }
}</code></pre>

<p>This lets us invoke <code>Horse-&gt;speak</code> to ripple upward to <code>Animal::speak</code>, calling back to <code>Horse::sound</code> to get the specific sound, and the output of:</p>

<pre><code class="plaintext">a Horse goes neigh!</code></pre>

<p>But all of our Horse objects would have to be absolutely identical. If I add a subroutine, all horses automatically share it. That&#39;s great for making horses the same, but how do we capture the distinctions about an individual horse? For example, suppose I want to give my first horse a name. There&#39;s got to be a way to keep its name separate from the other horses.</p>

<p>We can do that by drawing a new distinction, called an &quot;instance&quot;. An &quot;instance&quot; is generally created by a class. In Perl, any reference can be an instance, so let&#39;s start with the simplest reference that can hold a horse&#39;s name: a scalar reference.</p>

<pre><code>my $name = &quot;Mr. Ed&quot;;
my $talking = \$name;</code></pre>

<p>So now <code>$talking</code> is a reference to what will be the instance-specific data (the name). The final step in turning this into a real instance is with a special operator called <code>bless</code>:</p>

<pre><code>bless $talking, Horse;</code></pre>

<p>This operator stores information about the package named <code>Horse</code> into the thing pointed at by the reference. At this point, we say <code>$talking</code> is an instance of <code>Horse</code>. That is, it&#39;s a specific horse. The reference is otherwise unchanged, and can still be used with traditional dereferencing operators.</p>

<h2 id="Invoking-an-instance-method"><a class="permalink" href="#Invoking-an-instance-method">#</a><a id="Invoking1"></a>Invoking an instance method</h2>

<p>The method arrow can be used on instances, as well as names of packages (classes). So, let&#39;s get the sound that <code>$talking</code> makes:</p>

<pre><code>my $noise = $talking-&gt;sound;</code></pre>

<p>To invoke <code>sound</code>, Perl first notes that <code>$talking</code> is a blessed reference (and thus an instance). It then constructs an argument list, in this case from just <code>($talking)</code>. (Later we&#39;ll see that arguments will take their place following the instance variable, just like with classes.)</p>

<p>Now for the fun part: Perl takes the class in which the instance was blessed, in this case <code>Horse</code>, and uses that to locate the subroutine to invoke the method. In this case, <code>Horse::sound</code> is found directly (without using inheritance), yielding the final subroutine invocation:</p>

<pre><code>Horse::sound($talking)</code></pre>

<p>Note that the first parameter here is still the instance, not the name of the class as before. We&#39;ll get <code>neigh</code> as the return value, and that&#39;ll end up as the <code>$noise</code> variable above.</p>

<p>If Horse::sound had not been found, we&#39;d be wandering up the <code>@Horse::ISA</code> list to try to find the method in one of the superclasses, just as for a class method. The only difference between a class method and an instance method is whether the first parameter is an instance (a blessed reference) or a class name (a string).</p>

<h2 id="Accessing-the-instance-data"><a class="permalink" href="#Accessing-the-instance-data">#</a><a id="Accessing"></a>Accessing the instance data</h2>

<p>Because we get the instance as the first parameter, we can now access the instance-specific data. In this case, let&#39;s add a way to get at the name:</p>

<pre><code>{ package Horse;
  @ISA = qw(Animal);
  sub sound { &quot;neigh&quot; }
  sub name {
    my $self = shift;
    $$self;
  }
}</code></pre>

<p>Now we call for the name:</p>

<pre><code>print $talking-&gt;name, &quot; says &quot;, $talking-&gt;sound, &quot;\n&quot;;</code></pre>

<p>Inside <code>Horse::name</code>, the <code>@_</code> array contains just <code>$talking</code>, which the <code>shift</code> stores into <code>$self</code>. (It&#39;s traditional to shift the first parameter off into a variable named <code>$self</code> for instance methods, so stay with that unless you have strong reasons otherwise.) Then, <code>$self</code> gets de-referenced as a scalar ref, yielding <code>Mr. Ed</code>, and we&#39;re done with that. The result is:</p>

<pre><code class="plaintext">Mr. Ed says neigh.</code></pre>

<h2 id="How-to-build-a-horse"><a class="permalink" href="#How-to-build-a-horse">#</a><a id="How"></a>How to build a horse</h2>

<p>Of course, if we constructed all of our horses by hand, we&#39;d most likely make mistakes from time to time. We&#39;re also violating one of the properties of object-oriented programming, in that the &quot;inside guts&quot; of a Horse are visible. That&#39;s good if you&#39;re a veterinarian, but not if you just like to own horses. So, let&#39;s let the Horse class build a new horse:</p>

<pre><code>{ package Horse;
  @ISA = qw(Animal);
  sub sound { &quot;neigh&quot; }
  sub name {
    my $self = shift;
    $$self;
  }
  sub named {
    my $class = shift;
    my $name = shift;
    bless \$name, $class;
  }
}</code></pre>

<p>Now with the new <code>named</code> method, we can build a horse:</p>

<pre><code>my $talking = Horse-&gt;named(&quot;Mr. Ed&quot;);</code></pre>

<p>Notice we&#39;re back to a class method, so the two arguments to <code>Horse::named</code> are <code>Horse</code> and <code>Mr. Ed</code>. The <code>bless</code> operator not only blesses <code>$name</code>, it also returns the reference to <code>$name</code>, so that&#39;s fine as a return value. And that&#39;s how to build a horse.</p>

<p>We&#39;ve called the constructor <code>named</code> here, so that it quickly denotes the constructor&#39;s argument as the name for this particular <code>Horse</code>. You can use different constructors with different names for different ways of &quot;giving birth&quot; to the object (like maybe recording its pedigree or date of birth). However, you&#39;ll find that most people coming to Perl from more limited languages use a single constructor named <code>new</code>, with various ways of interpreting the arguments to <code>new</code>. Either style is fine, as long as you document your particular way of giving birth to an object. (And you <i>were</i> going to do that, right?)</p>

<h2 id="Inheriting-the-constructor"><a class="permalink" href="#Inheriting-the-constructor">#</a><a id="Inheriting1"></a>Inheriting the constructor</h2>

<p>But was there anything specific to <code>Horse</code> in that method? No. Therefore, it&#39;s also the same recipe for building anything else that inherited from <code>Animal</code>, so let&#39;s put it there:</p>

<pre><code>{ package Animal;
  sub speak {
    my $class = shift;
    print &quot;a $class goes &quot;, $class-&gt;sound, &quot;!\n&quot;
  }
  sub name {
    my $self = shift;
    $$self;
  }
  sub named {
    my $class = shift;
    my $name = shift;
    bless \$name, $class;
  }
}
{ package Horse;
  @ISA = qw(Animal);
  sub sound { &quot;neigh&quot; }
}</code></pre>

<p>Ahh, but what happens if we invoke <code>speak</code> on an instance?</p>

<pre><code>my $talking = Horse-&gt;named(&quot;Mr. Ed&quot;);
$talking-&gt;speak;</code></pre>

<p>We get a debugging value:</p>

<pre><code class="plaintext">a Horse=SCALAR(0xaca42ac) goes neigh!</code></pre>

<p>Why? Because the <code>Animal::speak</code> routine is expecting a classname as its first parameter, not an instance. When the instance is passed in, we&#39;ll end up using a blessed scalar reference as a string, and that shows up as we saw it just now.</p>

<h2 id="Making-a-method-work-with-either-classes-or-instances"><a class="permalink" href="#Making-a-method-work-with-either-classes-or-instances">#</a><a id="Making"></a>Making a method work with either classes or instances</h2>

<p>All we need is for a method to detect if it is being called on a class or called on an instance. The most straightforward way is with the <code>ref</code> operator. This returns a string (the classname) when used on a blessed reference, and <code>undef</code> when used on a string (like a classname). Let&#39;s modify the <code>name</code> method first to notice the change:</p>

<pre><code>sub name {
  my $either = shift;
  ref $either
    ? $$either # it&#39;s an instance, return name
    : &quot;an unnamed $either&quot;; # it&#39;s a class, return generic
}</code></pre>

<p>Here, the <code>?:</code> operator comes in handy to select either the dereference or a derived string. Now we can use this with either an instance or a class. Note that I&#39;ve changed the first parameter holder to <code>$either</code> to show that this is intended:</p>

<pre><code>my $talking = Horse-&gt;named(&quot;Mr. Ed&quot;);
print Horse-&gt;name, &quot;\n&quot;; # prints &quot;an unnamed Horse\n&quot;
print $talking-&gt;name, &quot;\n&quot;; # prints &quot;Mr Ed.\n&quot;</code></pre>

<p>and now we&#39;ll fix <code>speak</code> to use this:</p>

<pre><code>sub speak {
  my $either = shift;
  print $either-&gt;name, &quot; goes &quot;, $either-&gt;sound, &quot;\n&quot;;
}</code></pre>

<p>And since <code>sound</code> already worked with either a class or an instance, we&#39;re done!</p>

<h2 id="Adding-parameters-to-a-method"><a class="permalink" href="#Adding-parameters-to-a-method">#</a><a id="Adding"></a>Adding parameters to a method</h2>

<p>Let&#39;s train our animals to eat:</p>

<pre><code>  { package Animal;
    sub named {
      my $class = shift;
      my $name = shift;
      bless \$name, $class;
    }
    sub name {
      my $either = shift;
      ref $either
	? $$either # it&#39;s an instance, return name
	: &quot;an unnamed $either&quot;; # it&#39;s a class, return generic
    }
    sub speak {
      my $either = shift;
      print $either-&gt;name, &quot; goes &quot;, $either-&gt;sound, &quot;\n&quot;;
    }
    sub eat {
      my $either = shift;
      my $food = shift;
      print $either-&gt;name, &quot; eats $food.\n&quot;;
    }
  }
  { package Horse;
    @ISA = qw(Animal);
    sub sound { &quot;neigh&quot; }
  }
  { package Sheep;
    @ISA = qw(Animal);
    sub sound { &quot;baaaah&quot; }
  }</code></pre>

<p>And now try it out:</p>

<pre><code>my $talking = Horse-&gt;named(&quot;Mr. Ed&quot;);
$talking-&gt;eat(&quot;hay&quot;);
Sheep-&gt;eat(&quot;grass&quot;);</code></pre>

<p>which prints:</p>

<pre><code class="plaintext">Mr. Ed eats hay.
an unnamed Sheep eats grass.</code></pre>

<p>An instance method with parameters gets invoked with the instance, and then the list of parameters. So that first invocation is like:</p>

<pre><code>Animal::eat($talking, &quot;hay&quot;);</code></pre>

<h2 id="More-interesting-instances"><a class="permalink" href="#More-interesting-instances">#</a><a id="More"></a>More interesting instances</h2>

<p>What if an instance needs more data? Most interesting instances are made of many items, each of which can in turn be a reference or even another object. The easiest way to store these is often in a hash. The keys of the hash serve as the names of parts of the object (often called &quot;instance variables&quot; or &quot;member variables&quot;), and the corresponding values are, well, the values.</p>

<p>But how do we turn the horse into a hash? Recall that an object was any blessed reference. We can just as easily make it a blessed hash reference as a blessed scalar reference, as long as everything that looks at the reference is changed accordingly.</p>

<p>Let&#39;s make a sheep that has a name and a color:</p>

<pre><code>my $bad = bless { Name =&gt; &quot;Evil&quot;, Color =&gt; &quot;black&quot; }, Sheep;</code></pre>

<p>so <code>$bad-&gt;{Name}</code> has <code>Evil</code>, and <code>$bad-&gt;{Color}</code> has <code>black</code>. But we want to make <code>$bad-&gt;name</code> access the name, and that&#39;s now messed up because it&#39;s expecting a scalar reference. Not to worry, because that&#39;s pretty easy to fix up:</p>

<pre><code>## in Animal
sub name {
  my $either = shift;
  ref $either ?
    $either-&gt;{Name} :
    &quot;an unnamed $either&quot;;
}</code></pre>

<p>And of course <code>named</code> still builds a scalar sheep, so let&#39;s fix that as well:</p>

<pre><code>## in Animal
sub named {
  my $class = shift;
  my $name = shift;
  my $self = { Name =&gt; $name, Color =&gt; $class-&gt;default_color };
  bless $self, $class;
}</code></pre>

<p>What&#39;s this <code>default_color</code>? Well, if <code>named</code> has only the name, we still need to set a color, so we&#39;ll have a class-specific initial color. For a sheep, we might define it as white:</p>

<pre><code class="plaintext">## in Sheep
sub default_color { &quot;white&quot; }</code></pre>

<p>And then to keep from having to define one for each additional class, we&#39;ll define a &quot;backstop&quot; method that serves as the &quot;default default&quot;, directly in <code>Animal</code>:</p>

<pre><code class="plaintext">## in Animal
sub default_color { &quot;brown&quot; }</code></pre>

<p>Now, because <code>name</code> and <code>named</code> were the only methods that referenced the &quot;structure&quot; of the object, the rest of the methods can remain the same, so <code>speak</code> still works as before.</p>

<h2 id="A-horse-of-a-different-color"><a class="permalink" href="#A-horse-of-a-different-color">#</a><a id="A2"></a>A horse of a different color</h2>

<p>But having all our horses be brown would be boring. So let&#39;s add a method or two to get and set the color.</p>

<pre><code>## in Animal
sub color {
  $_[0]-&gt;{Color}
}
sub set_color {
  $_[0]-&gt;{Color} = $_[1];
}</code></pre>

<p>Note the alternate way of accessing the arguments: <code>$_[0]</code> is used in-place, rather than with a <code>shift</code>. (This saves us a bit of time for something that may be invoked frequently.) And now we can fix that color for Mr. Ed:</p>

<pre><code>my $talking = Horse-&gt;named(&quot;Mr. Ed&quot;);
$talking-&gt;set_color(&quot;black-and-white&quot;);
print $talking-&gt;name, &quot; is colored &quot;, $talking-&gt;color, &quot;\n&quot;;</code></pre>

<p>which results in:</p>

<pre><code class="plaintext">Mr. Ed is colored black-and-white</code></pre>

<h2 id="Summary"><a class="permalink" href="#Summary">#</a>Summary</h2>

<p>So, now we have class methods, constructors, instance methods, instance data, and even accessors. But that&#39;s still just the beginning of what Perl has to offer. We haven&#39;t even begun to talk about accessors that double as getters and setters, destructors, indirect object notation, subclasses that add instance data, per-class data, overloading, &quot;isa&quot; and &quot;can&quot; tests, <code>UNIVERSAL</code> class, and so on. That&#39;s for the rest of the Perl documentation to cover. Hopefully, this gets you started, though.</p>

<h1 id="SEE-ALSO"><a class="permalink" href="#SEE-ALSO">#</a><a id="SEE"></a>SEE ALSO</h1>

<p>For more information, see <a href="perlobj.html">perlobj</a> (for all the gritty details about Perl objects, now that you&#39;ve seen the basics), <a href="perltoot.html">perltoot</a> (the tutorial for those who already know objects), <a href="perltooc.html">perltooc</a> (dealing with class data), <a href="perlbot.html">perlbot</a> (for some more tricks), and books such as Damian Conway&#39;s excellent <i>Object Oriented Perl</i>.</p>

<p>Some modules which might prove interesting are Class::Accessor, Class::Class, Class::Contract, Class::Data::Inheritable, Class::MethodMaker and Tie::SecureHash</p>

<h1 id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">#</a>COPYRIGHT</h1>

<p>Copyright (c) 1999, 2000 by Randal L. Schwartz and Stonehenge Consulting Services, Inc. Permission is hereby granted to distribute this document intact with the Perl distribution, and in accordance with the licenses of the Perl distribution; derived documents must include this copyright notice intact.</p>

<p>Portions of this text have been derived from Perl Training materials originally appearing in the <i>Packages, References, Objects, and Modules</i> course taught by instructors for Stonehenge Consulting Services, Inc. and used with permission.</p>

<p>Portions of this text have been derived from materials originally appearing in <i>Linux Magazine</i> and used with permission.</p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/5.8.5/perlboot by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:42 GMT -->
</html>
