<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/perlclass by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perlclass - Perl class syntax reference - Perldoc Browser</title>
    <link rel="search" href="opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="perlclass.html">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html"><img src="images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.42.0</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="perlclass.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item active" href="https://perldoc.perl.org/5.42.0/perlclass">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/perlclass">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/perlclass">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/perlclass">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/perlclass">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/perlclass">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/perlclass">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/perlclass">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/perlclass">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/perlclass">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/perlclass">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/perlclass">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/perlclass">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/perlclass">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/perlclass">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/perlclass">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/perlclass">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/perlclass">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/perlclass">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/perlclass">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/perlclass">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/perlclass">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/perlclass">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/perlclass">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/perlclass">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/perlclass">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/perlclass">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/perlclass">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/perlclass">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/perlclass">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/perlclass">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/perlclass">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/perlclass">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/perlclass">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/perlclass">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/perlclass">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/perlclass">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/perlclass">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/perlclass">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/perlclass">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/perlclass">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/perlclass">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/perlclass">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/perlclass">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/perlclass">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/perlclass">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/perlclass">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/perlclass">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/perlclass">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/perlclass">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/perlclass">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/perlclass">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/perlclass">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/perlclass">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/perlclass">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/perlclass">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/perlclass">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/perlclass">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/perlclass">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/perlclass">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/perlclass">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/perlclass">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/perlclass">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/perlclass">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/perlclass">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/perlclass">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/perlclass">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/perlclass">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/perlclass">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/perlclass">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/perlclass">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/perlclass">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/perlclass">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/perlclass">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/perlclass">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/perlclass">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/perlclass">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/perlclass">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/perlclass">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.2/perlclass">5.6.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.1/perlclass">5.6.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.0/perlclass">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/perlclass">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/perlclass">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/perlclass">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/perlclass">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/perlclass">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/perlclass">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/perlclass">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/perlclass">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/perlclass">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/perlclass">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/perlclass">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/perlclass">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/perlclass">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/perlclass">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/perlclass">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/perlclass">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/perlclass">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/perlclass">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/perlclass">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/perlclass">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/perlclass">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/perlclass">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/perlclass">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/perlclass">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/perlclass">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perlclass.html">perlclass</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/perlclass.txt">source</a>,
            <a href="https://metacpan.org/pod/perlclass">CPAN</a>)
          </div>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#History">History</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#KEYWORDS">KEYWORDS</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#class">class</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#field">field</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#method">method</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#ATTRIBUTES">ATTRIBUTES</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Class-attributes">Class attributes</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#:isa">:isa</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Field-attributes">Field attributes</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#:param">:param</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#:reader">:reader</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#:writer">:writer</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Method-attributes">Method attributes</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#OBJECT-LIFECYCLE">OBJECT LIFECYCLE</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Construction">Construction</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Adjustment">Adjustment</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Lifetime">Lifetime</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Destruction">Destruction</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#TODO">TODO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#KNOWN-BUGS">KNOWN BUGS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#AUTHORS">AUTHORS</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perlclass - Perl class syntax reference</p>

<h1 id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">#</a>SYNOPSIS</h1>

<pre><code>use v5.38;
use feature &#39;class&#39;;

class My::Example 1.234 {
    field $x;

    ADJUST {
        $x = &quot;Hello, world&quot;;
    }

    method print_message {
        say $x;
    }
}

My::Example-&gt;new-&gt;print_message;</code></pre>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>This document describes the syntax of Perl&#39;s <code>class</code> feature, which provides native keywords for object-oriented programming.</p>

<h2 id="History"><a class="permalink" href="#History">#</a>History</h2>

<p>Since Perl 5, support for objects revolved around the concept of <i>blessing</i> references with a package name (see <a href="perlfunc.html#bless-REF%2CCLASSNAME">&quot;bless REF,CLASSNAME&quot; in perlfunc</a>). Such a reference could then be used to call subroutines from the package it was blessed with (or any of its parents). This system, while bare-bones, was flexible enough to allow creation of multiple more advanced, community-driven systems for object orientation. For more information, see <a href="perlmod.html">perlmod</a> and <a href="perlobj.html">perlobj</a>.</p>

<p>The <code>class</code> feature is a core implementation of a class syntax that is similar to what one would find in other programming languages. It is not a wrapper around <code>bless</code>, but a completely new system built right into the perl interpreter.</p>

<h1 id="KEYWORDS"><a class="permalink" href="#KEYWORDS">#</a>KEYWORDS</h1>

<p>Enabling the <code>class</code> feature allows the usage of the following new keywords in the current lexical scope:</p>

<h2 id="class"><a class="permalink" href="#class">#</a>class</h2>

<pre><code>class NAME BLOCK

class NAME VERSION BLOCK

class NAME VERSION : ATTRIBUTES... BLOCK

class NAME;

class NAME VERSION;

class NAME VERSION : ATTRIBUTES...;</code></pre>

<p>The <code>class</code> keyword declares a new package (see <a href="perlmod.html#Packages">&quot;Packages&quot; in perlmod</a>) that is intended to be a class. All other keywords from the <code>class</code> feature should be used within the scope of this declaration.</p>

<pre><code>class WithVersion 1.000 {
    # class definition goes here
}</code></pre>

<p>Classes can be declared in either block or statement syntax. If a block is used, the body of the block contains the implementation of the class. If the statement form is used, the remainder of the current scope or file is used up until the next <code>class</code> or <code>package</code> statement.</p>

<p>A <code>class</code> declaration can optionally have a version number, similar to the <code>package</code> keyword. It can also optionally have attributes. If both are specified, the version number must come first, before the attributes.</p>

<p><code>class</code> and <code>package</code> declarations are similar, but classes automatically get a constructor named <code>new</code> - you don&#39;t have to (and should not) write one. Additionally, in the class BLOCK you are allowed to declare fields and methods.</p>

<h2 id="field"><a class="permalink" href="#field">#</a>field</h2>

<pre><code>field VARIABLE_NAME;

field VARIABLE_NAME = EXPR;

field VARIABLE_NAME : ATTRIBUTES;

field VARIABLE_NAME : ATTRIBUTES = EXPR;</code></pre>

<p>Fields are variables that are visible in the scope of the class - more specifically within <a href="#method">&quot;method&quot;</a> and <a href="#Adjustment">ADJUST</a> blocks. Each class instance gets its own storage of fields, independent of other instances.</p>

<p>A field behaves like a normal lexically scoped variable. It has a sigil and is private to the class (though creation of an accessor method will make it accessible from the outside). The main difference is that different instances access different values in the same scope.</p>

<pre><code>class WithFields {
    field $scalar = 42;
    field @array  = qw(this is just an array);
    field %hash   = (species =&gt; &#39;Martian&#39;, planet =&gt; &#39;Mars&#39;);
}</code></pre>

<p>Fields may optionally have initializing expressions. If present, the expression will be evaluated within the constructor of each object instance. During each evaluation, the expression can use the value of any previously-set field, as well as any other variables in scope.</p>

<pre><code>class WithACounter {
    my $next_count = 1;
    field $count = $next_count++;
}</code></pre>

<p>When combined with the <code>:param</code> field attribute, the defaulting expression can use any of the <code>=</code>, <code>//=</code> or <code>||=</code> operators. Expressions using <code>=</code> will apply whenever the caller did not pass the corresponding parameter to the constructor at all. Expressions using <code>//=</code> will also apply if the caller did pass the parameter but the value was undefined, and expressions using <code>||=</code> will apply if the value was false.</p>

<p>During a field initializing expression, the instance is not yet constructed and so the <code>$self</code> lexical is not available. However, the special <code>__CLASS__</code> token may be used to obtain the name of the class being constructed, for example in order to invoke class methods on it to help in constructing values for fields.</p>

<pre><code>class WithCustomField {
    use constant DEFAULT_X =&gt; 10;
    field $x = __CLASS__-&gt;DEFAULT_X;
}</code></pre>

<p>This allows subclasses to override the method with different behaviour.</p>

<pre><code>class DifferentCustomField :isa(WithCustomField) {
    sub DEFAULT_X { rand &gt; 0.5 ? 20 : 30 }
}</code></pre>

<p>When an instance of <code>DifferentCustomField</code> is constructed, the <code>__CLASS__</code> expression in the base will yield the correct class name, and so invoke this overridden method instead.</p>

<h2 id="method"><a class="permalink" href="#method">#</a>method</h2>

<pre><code class="plaintext">method METHOD_NAME SIGNATURE BLOCK

method METHOD_NAME BLOCK

method SIGNATURE BLOCK

method BLOCK</code></pre>

<p>Methods are subroutines intended to be called in the context of class objects.</p>

<p>A variable named <code>$self</code> populated with the current object instance will automatically be created in the lexical scope of <code>method</code>.</p>

<p>Methods always act as if <code>use feature &#39;signatures&#39;</code> is in effect, but <code>$self</code> will not appear in the arguments list as far as the signature is concerned.</p>

<pre><code>class WithMethods {
    field $greetings;

    ADJUST {
        $greetings = &quot;Hello&quot;;
    }

    method greet($name = &quot;someone&quot;) {
        say &quot;$greetings, $name&quot;;
    }
}</code></pre>

<p>Just like regular subroutines, methods <i>can</i> be anonymous:</p>

<pre><code>class AnonMethodFactory {

    method get_anon_method {
        return method {
            return &#39;this is an anonymous method&#39;;
        };
    }
}</code></pre>

<p>Methods can also be declared as lexical subroutines, using the <code>my</code> prefix. This creates a subroutine that is lexically visible within the current scope, but does not appear in the symbol table. The effect is that of a <i>private</i> method; one that can be called from within the class&#39;s own code, but not from outside.</p>

<p>To invoke these lexical subroutines as methods, it is best to use the <code>-&gt;&amp;</code> operator. This bypasses method lookup by name, and directly invokes a lexical subroutine as if it was a method.</p>

<pre><code>class LexicalMethod {
    my method abc ($x, $y) {
        say &quot;Internal method abc invoked with x=$x y=$y&quot;;
    }

    method xyz {
        $self-&gt;&amp;abc(&quot;x&quot;, &quot;y&quot;);
    }
}

# The `abc` method is not visible from here</code></pre>

<h1 id="ATTRIBUTES"><a class="permalink" href="#ATTRIBUTES">#</a>ATTRIBUTES</h1>

<p>Specific aspects of the keywords mentioned above are managed using <i>attributes</i>. Attributes all start with a colon, and one or more of them can be appended after the item&#39;s name, separated by a space.</p>

<h2 id="Class-attributes"><a class="permalink" href="#Class-attributes">#</a><a id="Class"></a>Class attributes</h2>

<h3 id=":isa"><a class="permalink" href="#:isa">#</a><a id="isa"></a>:isa</h3>

<p>Classes may inherit from <b>one</b> superclass, by using the <code>:isa</code> class attribute.</p>

<pre><code class="plaintext">class Example::Base { ... }

class Example::Subclass :isa(Example::Base) { ... }</code></pre>

<p>Inherited methods are visible and may be invoked. Fields are always lexical and therefore not visible by inheritance.</p>

<p>The <code>:isa</code> attribute may request a minimum version of the base class. As with <code>use MODULE VERSION</code>, if the actual version of the base class is too low, compilation will fail.</p>

<pre><code class="plaintext">class Example::Subclass :isa(Example::Base 2.345) { ... }</code></pre>

<p>The <code>:isa</code> attribute will attempt to <code>require</code> the named module if it is not already loaded.</p>

<h2 id="Field-attributes"><a class="permalink" href="#Field-attributes">#</a><a id="Field"></a>Field attributes</h2>

<h3 id=":param"><a class="permalink" href="#:param">#</a><a id="param"></a>:param</h3>

<p>A scalar field with a <code>:param</code> attribute will take its value from a named parameter passed to the constructor. By default the parameter will have the same name as the field (minus its leading <code>$</code> sigil), but a different name can be specified in the attribute.</p>

<pre><code>field $x :param;
field $y :param(the_y_value);</code></pre>

<p>If there is no defaulting expression, then the parameter is required by the constructor; the caller must pass it or an exception is thrown. With a defaulting expression this becomes optional.</p>

<h3 id=":reader"><a class="permalink" href="#:reader">#</a><a id="reader"></a>:reader</h3>

<p>A field with a <code>:reader</code> attribute will generate a reader accessor method automatically. The generated method will have an empty (i.e. zero-argument) signature, and its body will simply return the value of the field variable.</p>

<pre><code>field $s :reader;

# Equivalent to
field $s;
method s () { return $s; }</code></pre>

<p>By default the accessor method will have the same name as the field (minus the leading sigil), but a different name can be specified in the attribute&#39;s value.</p>

<pre><code>field $x :reader(get_x);

# Generates a method
method get_x () { return $x; }</code></pre>

<p>Reader methods can be applied to non-scalar fields. When invoked in list context, they yield the contents of the field; in scalar context they yield the count of elements, as if the field variable had been placed in scalar context.</p>

<pre><code>field @users :reader;
...

scalar $instance-&gt;users;</code></pre>

<h3 id=":writer"><a class="permalink" href="#:writer">#</a><a id="writer"></a>:writer</h3>

<p>A field with a <code>:writer</code> attribute will generate a writer accessor method automatically. The generated method will have a signature that consumes exactly one argument, and its body will assign that scalar argument to the field and return the invocant object itself.</p>

<pre><code>field $s :writer;

# Equivalent to
field $s;
method set_s($new) { $s = $new; return $self; }</code></pre>

<p>By default the accessor method will have the name of the field minus the leading sigil with the string <code>set_</code> prefixed to it, but a different name can be specified in the attribute&#39;s value.</p>

<pre><code>field $x :writer(write_x);

# Generates a method
method write_x ($new) { ... }</code></pre>

<p>Currently, writer accessors can only be applied to scalar fields. Attempts to apply this attribute to a non-scalar field will result in a fatal exception at compile-time. This may be relaxed in a future version to allow writers on array or hash fields. For now, these will have to be created manually.</p>

<h2 id="Method-attributes"><a class="permalink" href="#Method-attributes">#</a><a id="Method"></a>Method attributes</h2>

<p>None yet.</p>

<h1 id="OBJECT-LIFECYCLE"><a class="permalink" href="#OBJECT-LIFECYCLE">#</a><a id="OBJECT"></a>OBJECT LIFECYCLE</h1>

<h2 id="Construction"><a class="permalink" href="#Construction">#</a>Construction</h2>

<p>Each object begins its life with a constructor call. The constructor is always named <code>new</code> and is invoked like a method call on the class name:</p>

<pre><code>my $object = My::Class-&gt;new(%arguments);</code></pre>

<p>During object construction, class fields are looked up in the <code>%arguments</code> hash and populated where possible.</p>

<h2 id="Adjustment"><a class="permalink" href="#Adjustment">#</a>Adjustment</h2>

<p>Object adjustment is a way to run arbitrary user-defined code during object construction. This is done by placing code in <code>ADJUST</code> blocks. Every time an object is constructed, its <code>ADJUST</code> blocks are executed (in the order in which they are declared).</p>

<pre><code>class WellAdjusted {
    field $x :param;
    ADJUST {
        say &quot;Hello!&quot;;
    }
    ADJUST {
        say &quot;x = $x&quot;;
    }
}

my $object = WellAdjusted-&gt;new(x =&gt; 42);
# Output:
#   Hello!
#   x = 42</code></pre>

<p><code>ADJUST</code> blocks are syntactically similar to <a href="perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END"><code>BEGIN</code> or <code>INIT</code> blocks</a>, which only run once. However, <code>ADJUST</code> blocks, like methods, have access to <code>$self</code> (a lexical variable holding the object being constructed) as well as all object fields created up to that point.</p>

<h2 id="Lifetime"><a class="permalink" href="#Lifetime">#</a>Lifetime</h2>

<p>After the construction phase, the object is ready to be used.</p>

<p>Using <code>blessed</code> (<code>Scalar::Util::blessed</code> or <code>builtin::blessed</code>) on the object will return the name of the class, while <code>reftype</code> (<code>Scalar::Util::reftype</code> or <code>builtin::reftype</code>) will return the string <code>&#39;OBJECT&#39;</code>.</p>

<h2 id="Destruction"><a class="permalink" href="#Destruction">#</a>Destruction</h2>

<p>An object is destroyed when the last reference to it goes away, just as with other data structures in Perl.</p>

<h1 id="TODO"><a class="permalink" href="#TODO">#</a>TODO</h1>

<p>This feature is still experimental and very incomplete. The following list gives an overview of features still to be added or changed:</p>

<ul>

<li><p>Roles</p>

<p>Some syntax for declaring a role (likely a <code>role</code> keyword), and for consuming a role into a class (likely a <code>:does()</code> attribute).</p>

</li>
<li><p>Parameters to ADJUST blocks</p>

<p>Some syntax for declaring that an <code>ADJUST</code> block can consume named parameters, which become part of the class constructor&#39;s API. This might be inspired by a similar plan to add named arguments to subroutine signatures.</p>

<pre><code>class X {
    ADJUST (:$alpha, :$beta = 123) {
       ...
    }
}

my $obj = X-&gt;new(alpha =&gt; 456);</code></pre>

</li>
<li><p>ADJUST blocks as true blocks</p>

<p>Currently, every ADJUST block is wrapped in its own CV (subroutine) that gets invoked with the full ENTERSUB overhead. It should be possible to use the same mechanism that makes all field initializer expressions appear within the same CV on ADJUST blocks as well, merging them all into a single CV per class. This will make it faster to invoke if a class has more than one of them.</p>

</li>
<li><p>More accessor generator attributes</p>

<p>Attributes to request that other kinds of accessor methods be generated for fields. Likely <code>:writer</code>.</p>

<pre><code>class X {
    field $name :writer;
}</code></pre>

<p>Equivalent to</p>

<pre><code>class X {
    field $name;
    method set_name ($new) { $name = $new; return $self; }
}</code></pre>

</li>
<li><p>Metaprogramming</p>

<p>An extension of the metaprogramming API (currently proposed by <a href="https://github.com/Perl/PPCs/pull/25">PPC0022</a>) which adds knowledge of classes, methods, fields, ADJUST blocks, and other such class-related details.</p>

</li>
<li><p>Extension Customisation</p>

<p>Ways in which out-of-core modules can interact with the class system, including an ability for them to provide new class or field attributes.</p>

</li>
</ul>

<h1 id="KNOWN-BUGS"><a class="permalink" href="#KNOWN-BUGS">#</a><a id="KNOWN"></a>KNOWN BUGS</h1>

<p>The following bugs have been found in the experimental <code>class</code> feature:</p>

<ul>

<li><p>Since Perl v5.38, inheriting from a parent class which is declared in the same file and which hadn&#39;t already been sealed can cause a segmentation fault. [<a href="https://github.com/Perl/perl5/issues/20890">GH #20890</a>]</p>

</li>
<li><p>Since Perl v5.38 and with the experimental <code>refaliasing</code> feature, trying to replace a field variable causes a segmentation fault. [<a href="https://github.com/Perl/perl5/issues/20947">GH #20947</a>]</p>

</li>
<li><p>Since Perl v5.38, it&#39;s possible to craft a class with leaky encapsulation, which can cause a segmentation fault. [<a href="https://github.com/Perl/perl5/issues/20956">GH #20956</a>]</p>

</li>
<li><p>In Perl v5.38, inheriting from a class would not always attempt to load the parent class (fixed in Perl v5.40). [<a href="https://github.com/Perl/perl5/issues/21332">GH #21332</a>]</p>

</li>
</ul>

<h1 id="AUTHORS"><a class="permalink" href="#AUTHORS">#</a>AUTHORS</h1>

<p>Paul Evans</p>

<p>Bartosz Jarzyna</p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/perlclass by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:50 GMT -->
</html>
