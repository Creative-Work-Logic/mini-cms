<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/Test2::Manual::Testing::Migrating by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test2::Manual::Testing::Migrating - How to migrate existing tests from Test::More to Test2. - Perldoc Browser</title>
    <link rel="search" href="opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="Test2__Manual__Testing__Migrating.html">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html"><img src="images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.42.0</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="Test2__Manual__Testing__Migrating.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item active" href="https://perldoc.perl.org/5.42.0/Test2::Manual::Testing::Migrating">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/Test2::Manual::Testing::Migrating">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/Test2::Manual::Testing::Migrating">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/Test2::Manual::Testing::Migrating">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/Test2::Manual::Testing::Migrating">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/Test2::Manual::Testing::Migrating">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/Test2::Manual::Testing::Migrating">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/Test2::Manual::Testing::Migrating">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/Test2::Manual::Testing::Migrating">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/Test2::Manual::Testing::Migrating">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/Test2::Manual::Testing::Migrating">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/Test2::Manual::Testing::Migrating">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/Test2::Manual::Testing::Migrating">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/Test2::Manual::Testing::Migrating">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/Test2::Manual::Testing::Migrating">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/Test2::Manual::Testing::Migrating">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/Test2::Manual::Testing::Migrating">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/Test2::Manual::Testing::Migrating">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/Test2::Manual::Testing::Migrating">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/Test2::Manual::Testing::Migrating">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/Test2::Manual::Testing::Migrating">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/Test2::Manual::Testing::Migrating">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/Test2::Manual::Testing::Migrating">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/Test2::Manual::Testing::Migrating">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/Test2::Manual::Testing::Migrating">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/Test2::Manual::Testing::Migrating">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/Test2::Manual::Testing::Migrating">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/Test2::Manual::Testing::Migrating">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/Test2::Manual::Testing::Migrating">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/Test2::Manual::Testing::Migrating">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/Test2::Manual::Testing::Migrating">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/Test2::Manual::Testing::Migrating">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/Test2::Manual::Testing::Migrating">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/Test2::Manual::Testing::Migrating">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/Test2::Manual::Testing::Migrating">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/Test2::Manual::Testing::Migrating">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/Test2::Manual::Testing::Migrating">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/Test2::Manual::Testing::Migrating">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/Test2::Manual::Testing::Migrating">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/Test2::Manual::Testing::Migrating">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/Test2::Manual::Testing::Migrating">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/Test2::Manual::Testing::Migrating">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/Test2::Manual::Testing::Migrating">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/Test2::Manual::Testing::Migrating">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/Test2::Manual::Testing::Migrating">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/Test2::Manual::Testing::Migrating">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/Test2::Manual::Testing::Migrating">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/Test2::Manual::Testing::Migrating">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/Test2::Manual::Testing::Migrating">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/Test2::Manual::Testing::Migrating">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/Test2::Manual::Testing::Migrating">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/Test2::Manual::Testing::Migrating">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/Test2::Manual::Testing::Migrating">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/Test2::Manual::Testing::Migrating">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/Test2::Manual::Testing::Migrating">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/Test2::Manual::Testing::Migrating">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/Test2::Manual::Testing::Migrating">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/Test2::Manual::Testing::Migrating">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/Test2::Manual::Testing::Migrating">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/Test2::Manual::Testing::Migrating">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/Test2::Manual::Testing::Migrating">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/Test2::Manual::Testing::Migrating">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/Test2::Manual::Testing::Migrating">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/Test2::Manual::Testing::Migrating">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/Test2::Manual::Testing::Migrating">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/Test2::Manual::Testing::Migrating">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/Test2::Manual::Testing::Migrating">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/Test2::Manual::Testing::Migrating">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/Test2::Manual::Testing::Migrating">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/Test2::Manual::Testing::Migrating">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/Test2::Manual::Testing::Migrating">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/Test2::Manual::Testing::Migrating">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/Test2::Manual::Testing::Migrating">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/Test2::Manual::Testing::Migrating">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/Test2::Manual::Testing::Migrating">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/Test2::Manual::Testing::Migrating">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/Test2::Manual::Testing::Migrating">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/Test2::Manual::Testing::Migrating">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/Test2::Manual::Testing::Migrating">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.2/Test2::Manual::Testing::Migrating">5.6.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.1/Test2::Manual::Testing::Migrating">5.6.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.0/Test2::Manual::Testing::Migrating">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/Test2::Manual::Testing::Migrating">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/Test2::Manual::Testing::Migrating">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/Test2::Manual::Testing::Migrating">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/Test2::Manual::Testing::Migrating">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/Test2::Manual::Testing::Migrating">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/Test2::Manual::Testing::Migrating">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/Test2::Manual::Testing::Migrating">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/Test2::Manual::Testing::Migrating">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/Test2::Manual::Testing::Migrating">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/Test2::Manual::Testing::Migrating">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/Test2::Manual::Testing::Migrating">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/Test2::Manual::Testing::Migrating">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/Test2::Manual::Testing::Migrating">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/Test2::Manual::Testing::Migrating">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/Test2::Manual::Testing::Migrating">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/Test2::Manual::Testing::Migrating">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/Test2::Manual::Testing::Migrating">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/Test2::Manual::Testing::Migrating">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/Test2::Manual::Testing::Migrating">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/Test2::Manual::Testing::Migrating">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/Test2::Manual::Testing::Migrating">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/Test2::Manual::Testing::Migrating">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/Test2::Manual::Testing::Migrating">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/Test2::Manual::Testing::Migrating">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/Test2::Manual::Testing::Migrating">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="Test2__Manual__Testing__Migrating.html">Test2::Manual::Testing::Migrating</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/Test2::Manual::Testing::Migrating.txt">source</a>,
            <a href="https://metacpan.org/pod/Test2::Manual::Testing::Migrating">CPAN</a>)
          </div>
            <div id="moduleversion">version 1.302210</div>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#LEGACY-TEST">LEGACY TEST</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#BOILERPLATE">BOILERPLATE</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SIMPLE-ASSERTIONS">SIMPLE ASSERTIONS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#TODO">TODO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DEEP-COMPARISONS">DEEP COMPARISONS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COMPARING-REFERENCES">COMPARING REFERENCES</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#TOOLS-THAT-ARE-GONE">TOOLS THAT ARE GONE</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#TOOLS-THAT-HAVE-CHANGED">TOOLS THAT HAVE CHANGED</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#FINAL-VERSION">FINAL VERSION</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SOURCE">SOURCE</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#MAINTAINERS">MAINTAINERS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#AUTHORS">AUTHORS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COPYRIGHT">COPYRIGHT</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>Test2::Manual::Testing::Migrating - How to migrate existing tests from Test::More to Test2.</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>This tutorial covers the conversion of an existing test. This tutorial assumes you have a test written using <a href="Test__More.html">Test::More</a>.</p>

<h1 id="LEGACY-TEST"><a class="permalink" href="#LEGACY-TEST">#</a><a id="LEGACY"></a>LEGACY TEST</h1>

<p>This tutorial will be converting this example test one section at a time:</p>

<p><code>t/example.t</code>:</p>

<pre><code>#####################
# Boilerplate

use strict;
use warnings;

use Test::More tests =&gt; 14;

use_ok &#39;Scalar::Util&#39;;
require_ok &#39;Exporter&#39;;

#####################
# Simple assertions (no changes)

ok(1, &quot;pass&quot;);

is(&quot;apple&quot;, &quot;apple&quot;, &quot;Simple string compare&quot;);

like(&quot;foo bar baz&quot;, qr/bar/, &quot;Regex match&quot;);

#####################
# Todo

{
    local $TODO = &quot;These are todo&quot;;

    ok(0, &quot;oops&quot;);
}

#####################
# Deep comparisons

is_deeply([1, 2, 3], [1, 2, 3], &quot;Deep comparison&quot;);

#####################
# Comparing references

my $ref = [1];
is($ref, $ref, &quot;Check that we have the same ref both times&quot;);

#####################
# Things that are gone

ok(eq_array([1], [1]), &quot;array comparison&quot;);
ok(eq_hash({a =&gt; 1}, {a =&gt; 1}), &quot;hash comparison&quot;);
ok(eq_set([1, 3, 2], [1, 2, 3]), &quot;set comparison&quot;);

note explain([1, 2, 3]);

{
    package THING;
    sub new { bless({}, shift) }
}

my $thing = new_ok(&#39;THING&#39;);

#####################
# Tools that changed

isa_ok($thing, &#39;THING&#39;, &#39;$thing&#39;);

can_ok(__PACKAGE__, qw/ok is/);</code></pre>

<h1 id="BOILERPLATE"><a class="permalink" href="#BOILERPLATE">#</a>BOILERPLATE</h1>

<p>BEFORE:</p>

<pre><code>use strict;
use warnings;

use Test::More tests =&gt; 14;

use_ok &#39;Scalar::Util&#39;;
require_ok &#39;Exporter&#39;;</code></pre>

<p>AFTER:</p>

<pre><code>use Test2::V0;
plan(11);

use Scalar::Util;
require Exporter;</code></pre>

<dl>

<dt id="Replace-Test::More-with-Test2::V0"><a class="permalink" href="#Replace-Test::More-with-Test2::V0">#</a><a id="Replace"></a>Replace Test::More with Test2::V0</dt>
<dd>

<p><a href="Test2__V0.html">Test2::V0</a> is the recommended bundle. In a full migration you will want to replace <a href="Test__More.html">Test::More</a> with the <a href="Test2__V0.html">Test2::V0</a> bundle.</p>

<p><b>Note:</b> You should always double check the latest <a href="Test2.html">Test2</a> to see if there is a new recommended bundle. When writing a new test you should always use the newest Test::V# module. Higher numbers are newer version.</p>

</dd>
<dt id="NOTE:-srand"><a class="permalink" href="#NOTE:-srand">#</a><a id="NOTE"></a>NOTE: srand</dt>
<dd>

<p>When srand is on (default) it can cause problems with things like <a href="File__Temp.html">File::Temp</a> which will end up attempting the same &quot;random&quot; filenames for every test process started on a given day (or sharing the same seed).</p>

<p>If this is a problem for you then please disable srand when loading <a href="Test2__V0.html">Test2::V0</a>:</p>

<pre><code>use Test2::V0 -no_srand =&gt; 1;</code></pre>

</dd>
<dt id="Stop-using-use_ok()"><a class="permalink" href="#Stop-using-use_ok()">#</a><a id="Stop"></a><a id="Stop-using-use_ok"></a>Stop using use_ok()</dt>
<dd>

<p><code>use_ok()</code> has been removed. a <code>use MODULE</code> statement will throw an exception on failure anyway preventing the test from passing.</p>

<p>If you <i>REALLY</i> want/need to assert that the file loaded you can use the <a href="ok.html">ok</a> module:</p>

<pre><code>use ok &#39;Scalar::Util&#39;;</code></pre>

<p>The main difference here is that there is a space instead of an underscore.</p>

</dd>
<dt id="Stop-using-require_ok()"><a class="permalink" href="#Stop-using-require_ok()">#</a><a id="Stop1"></a><a id="Stop-using-require_ok"></a>Stop using require_ok()</dt>
<dd>

<p><code>require_ok</code> has been removed just like <code>use_ok</code>. There is no <a href="ok.html">ok</a> module equivalent here. Just use <code>require</code>.</p>

</dd>
<dt id="Remove-strict/warnings-(optional)"><a class="permalink" href="#Remove-strict/warnings-(optional)">#</a><a id="Remove"></a><a id="Remove-strict-warnings-optional"></a>Remove strict/warnings (optional)</dt>
<dd>

<p>The <a href="Test2__V0.html">Test2::V0</a> bundle turns strict and warnings on for you.</p>

</dd>
<dt id="Change-where-the-plan-is-set"><a class="permalink" href="#Change-where-the-plan-is-set">#</a><a id="Change"></a>Change where the plan is set</dt>
<dd>

<p>Test2 does not allow you to set the plan at import. In the old code you would pass <code>tests =&gt; 11</code> as an import argument. In <a href="Test2.html">Test2</a> you either need to use the <code>plan()</code> function to set the plan, or use <code>done_testing()</code> at the end of the test.</p>

<p>If your test already uses <code>done_testing()</code> you can keep that and no plan changes are necessary.</p>

<p><b>Note:</b> We are also changing the plan from 14 to 11, that is because we dropped <code>use_ok</code>, <code>require_ok</code>, and we will be dropping one more later on. This is why <code>done_testing()</code> is recommended over a set plan.</p>

</dd>
</dl>

<h1 id="SIMPLE-ASSERTIONS"><a class="permalink" href="#SIMPLE-ASSERTIONS">#</a><a id="SIMPLE"></a>SIMPLE ASSERTIONS</h1>

<p>The vast majority of assertions will not need any changes:</p>

<pre><code>#####################
# Simple assertions (no changes)

ok(1, &quot;pass&quot;);

is(&quot;apple&quot;, &quot;apple&quot;, &quot;Simple string compare&quot;);

like(&quot;foo bar baz&quot;, qr/bar/, &quot;Regex match&quot;);</code></pre>

<h1 id="TODO"><a class="permalink" href="#TODO">#</a>TODO</h1>

<pre><code>{
    local $TODO = &quot;These are todo&quot;;

    ok(0, &quot;oops&quot;);
}</code></pre>

<p>The <code>$TODO</code> package variable is gone. You now have a <code>todo()</code> function.</p>

<p>There are 2 ways this can be used:</p>

<dl>

<dt id="todo-$reason-=&gt;-sub-{-...-}"><a class="permalink" href="#todo-$reason-=%3E-sub-%7B-...-%7D">#</a><a id="todo"></a><a id="todo-reason-sub"></a>todo $reason =&gt; sub { ... }</dt>
<dd>

<pre><code>todo &quot;These are todo&quot; =&gt; sub {
    ok(0, &quot;oops&quot;);
};</code></pre>

<p>This is the cleanest way to do a todo. This will make all assertions inside the codeblock into TODO assertions.</p>

</dd>
<dt id="{-my-$TODO-=-todo-$reason;-...-}"><a class="permalink" href="#%7B-my-$TODO-=-todo-$reason;-...-%7D">#</a><a id="my-TODO-todo-reason"></a>{ my $TODO = todo $reason; ... }</dt>
<dd>

<pre><code>{
    my $TODO = todo &quot;These are todo&quot;;

    ok(0, &quot;oops&quot;);
}</code></pre>

<p>This is a system that emulates the old way. Instead of modifying a global <code>$TODO</code> variable you create a todo object with the <code>todo()</code> function and assign it to a lexical variable. Once the todo object falls out of scope the TODO ends.</p>

</dd>
</dl>

<h1 id="DEEP-COMPARISONS"><a class="permalink" href="#DEEP-COMPARISONS">#</a><a id="DEEP"></a>DEEP COMPARISONS</h1>

<pre><code>is_deeply([1, 2, 3], [1, 2, 3], &quot;Deep comparison&quot;);</code></pre>

<p>Deep comparisons are easy, simply replace <code>is_deeply()</code> with <code>is()</code>.</p>

<pre><code>is([1, 2, 3], [1, 2, 3], &quot;Deep comparison&quot;);</code></pre>

<h1 id="COMPARING-REFERENCES"><a class="permalink" href="#COMPARING-REFERENCES">#</a><a id="COMPARING"></a>COMPARING REFERENCES</h1>

<pre><code>my $ref = [1];
is($ref, $ref, &quot;Check that we have the same ref both times&quot;);</code></pre>

<p>The <code>is()</code> function provided by <a href="Test__More.html">Test::More</a> forces both arguments into strings, which makes this a comparison of the reference addresses. <a href="Test2.html">Test2</a>&#39;s <code>is()</code> function is a deep comparison, so this will still pass, but fails to actually test what we want (that both references are the same exact ref, not just identical structures.)</p>

<p>We now have the <code>ref_is()</code> function that does what we really want, it ensures both references are the same reference. This function does the job better than the original, which could be thrown off by string overloading.</p>

<pre><code>my $ref = [1];
ref_is($ref, $ref, &quot;Check that we have the same ref both times&quot;);</code></pre>

<h1 id="TOOLS-THAT-ARE-GONE"><a class="permalink" href="#TOOLS-THAT-ARE-GONE">#</a><a id="TOOLS"></a>TOOLS THAT ARE GONE</h1>

<pre><code>ok(eq_array([1], [1]), &quot;array comparison&quot;);
ok(eq_hash({a =&gt; 1}, {a =&gt; 1}), &quot;hash comparison&quot;);
ok(eq_set([1, 3, 2], [1, 2, 3]), &quot;set comparison&quot;);

note explain([1, 2, 3]);

{
    package THING;
    sub new { bless({}, shift) }
}

my $thing = new_ok(&#39;THING&#39;);</code></pre>

<p><code>eq_array</code>, <code>eq_hash</code> and <code>eq_set</code> have been considered deprecated for a very long time, <a href="Test2.html">Test2</a> does not provide them at all. Instead you can just use <code>is()</code>:</p>

<pre><code>is([1], [1], &quot;array comparison&quot;);
is({a =&gt; 1}, {a =&gt; 1}, &quot;hash comparison&quot;);</code></pre>

<p><code>eq_set</code> is a tad more complicated, see <a href="Test2__Tools__Compare.html">Test2::Tools::Compare</a> for an explanation:</p>

<pre><code>is([1, 3, 2], bag { item 1; item 2; item 3; end }, &quot;set comparison&quot;);</code></pre>

<p><code>explain()</code> has a rocky history. There have been arguments about how it should work. <a href="Test2.html">Test2</a> decided to simply not include <code>explain()</code> to avoid the arguments. You can instead directly use Data::Dumper:</p>

<pre><code>use Data::Dumper;
note Dumper([1, 2, 3]);</code></pre>

<p><code>new_ok()</code> is gone. The implementation was complicated, and did not add much value:</p>

<pre><code>{
    package THING;
    sub new { bless({}, shift) }
}

my $thing = THING-&gt;new;
ok($thing, &quot;made a new thing&quot;);</code></pre>

<p>The complete section after the conversion is:</p>

<pre><code>is([1], [1], &quot;array comparison&quot;);
is({a =&gt; 1}, {a =&gt; 1}, &quot;hash comparison&quot;);
is([1, 3, 2], bag { item 1; item 2; item 3; end }, &quot;set comparison&quot;);

use Data::Dumper;
note Dumper([1, 2, 3]);

{
    package THING;
    sub new { bless({}, shift) }
}

my $thing = THING-&gt;new;
ok($thing, &quot;made a new thing&quot;);</code></pre>

<h1 id="TOOLS-THAT-HAVE-CHANGED"><a class="permalink" href="#TOOLS-THAT-HAVE-CHANGED">#</a><a id="TOOLS1"></a>TOOLS THAT HAVE CHANGED</h1>

<pre><code>isa_ok($thing, &#39;THING&#39;, &#39;$thing&#39;);

can_ok(__PACKAGE__, qw/ok is/);</code></pre>

<p>In <a href="Test__More.html">Test::More</a> these functions are very confusing, and most people use them wrong!</p>

<p><code>isa_ok()</code> from <a href="Test__More.html">Test::More</a> takes a thing, a class/reftype to check, and then uses the third argument as an alternative display name for the first argument (NOT a test name!).</p>

<p><code>can_ok()</code> from <a href="Test__More.html">Test::More</a> is not consistent with <code>isa_ok</code> as all arguments after the first are subroutine names.</p>

<p><a href="Test2.html">Test2</a> fixes this by making both functions consistent and obvious:</p>

<pre><code>isa_ok($thing, [&#39;THING&#39;], &#39;got a THING&#39;);

can_ok(__PACKAGE__, [qw/ok is/], &quot;have expected subs&quot;);</code></pre>

<p>You will note that both functions take a thing, an arrayref as the second argument, then a test name as the third argument.</p>

<h1 id="FINAL-VERSION"><a class="permalink" href="#FINAL-VERSION">#</a><a id="FINAL"></a>FINAL VERSION</h1>

<pre><code>#####################
# Boilerplate

use Test2::V0;
plan(11);

use Scalar::Util;
require Exporter;

#####################
# Simple assertions (no changes)

ok(1, &quot;pass&quot;);

is(&quot;apple&quot;, &quot;apple&quot;, &quot;Simple string compare&quot;);

like(&quot;foo bar baz&quot;, qr/bar/, &quot;Regex match&quot;);

#####################
# Todo

todo &quot;These are todo&quot; =&gt; sub {
    ok(0, &quot;oops&quot;);
};

#####################
# Deep comparisons

is([1, 2, 3], [1, 2, 3], &quot;Deep comparison&quot;);

#####################
# Comparing references

my $ref = [1];
ref_is($ref, $ref, &quot;Check that we have the same ref both times&quot;);

#####################
# Things that are gone

is([1], [1], &quot;array comparison&quot;);
is({a =&gt; 1}, {a =&gt; 1}, &quot;hash comparison&quot;);

is([1, 3, 2], bag { item 1; item 2; item 3; end }, &quot;set comparison&quot;);

use Data::Dumper;
note Dumper([1, 2, 3]);

{
    package THING;
    sub new { bless({}, shift) }
}

my $thing = THING-&gt;new;

#####################
# Tools that changed

isa_ok($thing, [&#39;THING&#39;], &#39;got a THING&#39;);

can_ok(__PACKAGE__, [qw/ok is/], &quot;have expected subs&quot;);</code></pre>

<h1 id="SEE-ALSO"><a class="permalink" href="#SEE-ALSO">#</a><a id="SEE"></a>SEE ALSO</h1>

<p><a href="Test2__Manual.html">Test2::Manual</a> - Primary index of the manual.</p>

<h1 id="SOURCE"><a class="permalink" href="#SOURCE">#</a>SOURCE</h1>

<p>The source code repository for Test2-Manual can be found at <i>https://github.com/Test-More/test-more/</i>.</p>

<h1 id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">#</a>MAINTAINERS</h1>

<dl>

<dt id="Chad-Granum-&lt;exodist@cpan.org&gt;"><a class="permalink" href="#Chad-Granum-%3Cexodist@cpan.org%3E">#</a><a id="Chad"></a><a id="Chad-Granum-exodist-cpan.org"></a>Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="AUTHORS"><a class="permalink" href="#AUTHORS">#</a>AUTHORS</h1>

<dl>

<dt id="Chad-Granum-&lt;exodist@cpan.org&gt;1"><a class="permalink" href="#Chad-Granum-%3Cexodist@cpan.org%3E1">#</a><a id="Chad1"></a><a id="Chad-Granum-exodist-cpan.org1"></a>Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">#</a>COPYRIGHT</h1>

<p>Copyright Chad Granum &lt;exodist@cpan.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>See <i>http://dev.perl.org/licenses/</i></p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/Test2::Manual::Testing::Migrating by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
</html>
