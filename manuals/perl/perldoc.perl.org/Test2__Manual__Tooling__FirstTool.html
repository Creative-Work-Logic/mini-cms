<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/Test2::Manual::Tooling::FirstTool by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test2::Manual::Tooling::FirstTool - Write your first tool with Test2. - Perldoc Browser</title>
    <link rel="search" href="opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="Test2__Manual__Tooling__FirstTool.html">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html"><img src="images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.42.0</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="Test2__Manual__Tooling__FirstTool.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item active" href="https://perldoc.perl.org/5.42.0/Test2::Manual::Tooling::FirstTool">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/Test2::Manual::Tooling::FirstTool">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/Test2::Manual::Tooling::FirstTool">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/Test2::Manual::Tooling::FirstTool">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/Test2::Manual::Tooling::FirstTool">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/Test2::Manual::Tooling::FirstTool">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/Test2::Manual::Tooling::FirstTool">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/Test2::Manual::Tooling::FirstTool">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/Test2::Manual::Tooling::FirstTool">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/Test2::Manual::Tooling::FirstTool">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/Test2::Manual::Tooling::FirstTool">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/Test2::Manual::Tooling::FirstTool">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/Test2::Manual::Tooling::FirstTool">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/Test2::Manual::Tooling::FirstTool">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/Test2::Manual::Tooling::FirstTool">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/Test2::Manual::Tooling::FirstTool">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/Test2::Manual::Tooling::FirstTool">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/Test2::Manual::Tooling::FirstTool">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/Test2::Manual::Tooling::FirstTool">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/Test2::Manual::Tooling::FirstTool">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/Test2::Manual::Tooling::FirstTool">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/Test2::Manual::Tooling::FirstTool">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/Test2::Manual::Tooling::FirstTool">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/Test2::Manual::Tooling::FirstTool">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/Test2::Manual::Tooling::FirstTool">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/Test2::Manual::Tooling::FirstTool">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/Test2::Manual::Tooling::FirstTool">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/Test2::Manual::Tooling::FirstTool">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/Test2::Manual::Tooling::FirstTool">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/Test2::Manual::Tooling::FirstTool">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/Test2::Manual::Tooling::FirstTool">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/Test2::Manual::Tooling::FirstTool">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/Test2::Manual::Tooling::FirstTool">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/Test2::Manual::Tooling::FirstTool">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/Test2::Manual::Tooling::FirstTool">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/Test2::Manual::Tooling::FirstTool">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/Test2::Manual::Tooling::FirstTool">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/Test2::Manual::Tooling::FirstTool">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/Test2::Manual::Tooling::FirstTool">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/Test2::Manual::Tooling::FirstTool">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/Test2::Manual::Tooling::FirstTool">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/Test2::Manual::Tooling::FirstTool">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/Test2::Manual::Tooling::FirstTool">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/Test2::Manual::Tooling::FirstTool">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/Test2::Manual::Tooling::FirstTool">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/Test2::Manual::Tooling::FirstTool">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/Test2::Manual::Tooling::FirstTool">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/Test2::Manual::Tooling::FirstTool">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/Test2::Manual::Tooling::FirstTool">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/Test2::Manual::Tooling::FirstTool">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/Test2::Manual::Tooling::FirstTool">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/Test2::Manual::Tooling::FirstTool">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/Test2::Manual::Tooling::FirstTool">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/Test2::Manual::Tooling::FirstTool">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/Test2::Manual::Tooling::FirstTool">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/Test2::Manual::Tooling::FirstTool">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/Test2::Manual::Tooling::FirstTool">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/Test2::Manual::Tooling::FirstTool">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/Test2::Manual::Tooling::FirstTool">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/Test2::Manual::Tooling::FirstTool">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/Test2::Manual::Tooling::FirstTool">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/Test2::Manual::Tooling::FirstTool">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/Test2::Manual::Tooling::FirstTool">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/Test2::Manual::Tooling::FirstTool">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/Test2::Manual::Tooling::FirstTool">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/Test2::Manual::Tooling::FirstTool">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/Test2::Manual::Tooling::FirstTool">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/Test2::Manual::Tooling::FirstTool">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/Test2::Manual::Tooling::FirstTool">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/Test2::Manual::Tooling::FirstTool">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/Test2::Manual::Tooling::FirstTool">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/Test2::Manual::Tooling::FirstTool">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/Test2::Manual::Tooling::FirstTool">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/Test2::Manual::Tooling::FirstTool">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/Test2::Manual::Tooling::FirstTool">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/Test2::Manual::Tooling::FirstTool">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/Test2::Manual::Tooling::FirstTool">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/Test2::Manual::Tooling::FirstTool">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/Test2::Manual::Tooling::FirstTool">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.2/Test2::Manual::Tooling::FirstTool">5.6.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.1/Test2::Manual::Tooling::FirstTool">5.6.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.6.0/Test2::Manual::Tooling::FirstTool">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/Test2::Manual::Tooling::FirstTool">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/Test2::Manual::Tooling::FirstTool">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/Test2::Manual::Tooling::FirstTool">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/Test2::Manual::Tooling::FirstTool">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/Test2::Manual::Tooling::FirstTool">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/Test2::Manual::Tooling::FirstTool">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/Test2::Manual::Tooling::FirstTool">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/Test2::Manual::Tooling::FirstTool">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/Test2::Manual::Tooling::FirstTool">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/Test2::Manual::Tooling::FirstTool">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/Test2::Manual::Tooling::FirstTool">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/Test2::Manual::Tooling::FirstTool">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/Test2::Manual::Tooling::FirstTool">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/Test2::Manual::Tooling::FirstTool">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/Test2::Manual::Tooling::FirstTool">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/Test2::Manual::Tooling::FirstTool">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/Test2::Manual::Tooling::FirstTool">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/Test2::Manual::Tooling::FirstTool">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/Test2::Manual::Tooling::FirstTool">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/Test2::Manual::Tooling::FirstTool">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/Test2::Manual::Tooling::FirstTool">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/Test2::Manual::Tooling::FirstTool">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/Test2::Manual::Tooling::FirstTool">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/Test2::Manual::Tooling::FirstTool">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/Test2::Manual::Tooling::FirstTool">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="Test2__Manual__Tooling__FirstTool.html">Test2::Manual::Tooling::FirstTool</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/Test2::Manual::Tooling::FirstTool.txt">source</a>,
            <a href="https://metacpan.org/pod/Test2::Manual::Tooling::FirstTool">CPAN</a>)
          </div>
            <div id="moduleversion">version 1.302210</div>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COMPLETE-CODE-UP-FRONT">COMPLETE CODE UP FRONT</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#LINE-BY-LINE">LINE BY LINE</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#CONTEXT-OBJECT-DOCUMENTATION">CONTEXT OBJECT DOCUMENTATION</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SOURCE">SOURCE</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#MAINTAINERS">MAINTAINERS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#AUTHORS">AUTHORS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#COPYRIGHT">COPYRIGHT</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>Test2::Manual::Tooling::FirstTool - Write your first tool with Test2.</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>This tutorial will help you write your very first tool by cloning the <code>ok()</code> tool.</p>

<h1 id="COMPLETE-CODE-UP-FRONT"><a class="permalink" href="#COMPLETE-CODE-UP-FRONT">#</a><a id="COMPLETE"></a>COMPLETE CODE UP FRONT</h1>

<pre><code>package Test2::Tools::MyOk;
use strict;
use warnings;

use Test2::API qw/context/;

use base &#39;Exporter&#39;;
our @EXPORT = qw/ok/;

sub ok($;$@) {
    my ($bool, $name, @diag) = @_;

    my $ctx = context();

    return $ctx-&gt;pass_and_release($name) if $bool;
    return $ctx-&gt;fail_and_release($name, @diag);
}

1;</code></pre>

<h1 id="LINE-BY-LINE"><a class="permalink" href="#LINE-BY-LINE">#</a><a id="LINE"></a>LINE BY LINE</h1>

<dl>

<dt id="sub-ok($;$@)-{"><a class="permalink" href="#sub-ok($;$@)-%7B">#</a><a id="sub"></a><a id="sub-ok"></a>sub ok($;$@) {</dt>
<dd>

<p>In this case we are emulating the <code>ok()</code> function exported by <a href="Test2__Tools__Basic.html">Test2::Tools::Basic</a>.</p>

<p><code>ok()</code> and similar test tools use prototypes to enforce argument parsing. Your test tools do not necessarily need prototypes, like any perl function you need to make the decision based on how it is used.</p>

<p>The prototype requires at least 1 argument, which will be forced into a scalar context. The second argument is optional, and is also forced to be scalar, it is the name of the test. Any remaining arguments are treated as diagnostics messages that will only be used if the test failed.</p>

</dd>
<dt id="my-($bool,-$name,-@diag)-=-@_;"><a class="permalink" href="#my-($bool,-$name,-@diag)-=-@_;">#</a><a id="my"></a><a id="my-bool-name-diag-_"></a>my ($bool, $name, @diag) = @_;</dt>
<dd>

<p>This line does not need much explanation, we are simply grabbing the args.</p>

</dd>
<dt id="my-$ctx-=-context();"><a class="permalink" href="#my-$ctx-=-context();">#</a><a id="my1"></a><a id="my-ctx-context"></a>my $ctx = context();</dt>
<dd>

<p>This is a vital line in <b>ALL</b> tools. The context object is the primary API for test tools. You <b>MUST</b> get a context if you want to issue any events, such as making assertions. Further, the context is responsible for making sure failures are attributed to the correct file and line number.</p>

<p><b>Note:</b> A test function <b>MUST</b> always release the context when it is done, you cannot simply let it fall out of scope and be garbage collected. Test2 does a pretty good job of yelling at you if you make this mistake.</p>

<p><b>Note:</b> You <b>MUST NOT</b> ever store or pass around a <i>real</i> context object. If you wish to hold on to a context for any reason you must use clone to make a copy <code>my $copy = $ctx-&gt;clone</code>. The copy may be passed around or stored, but the original <b>MUST</b> be released when you are done with it.</p>

</dd>
<dt id="return-$ctx-&gt;pass_and_release($name)-if-$bool;"><a class="permalink" href="#return-$ctx-%3Epass_and_release($name)-if-$bool;">#</a><a id="return"></a><a id="return-ctx-pass_and_release-name-if-bool"></a>return $ctx-&gt;pass_and_release($name) if $bool;</dt>
<dd>

<p>When <code>$bool</code> is true, this line uses the context object to issue a <a href="Test2__Event__Pass.html">Test2::Event::Pass</a> event. Along with issuing the event this will also release the context object and return true.</p>

<p>This is short form for:</p>

<pre><code>if($bool) {
    $ctx-&gt;pass($name);
    $ctx-&gt;release;
    return 1;
}</code></pre>

</dd>
<dt id="return-$ctx-&gt;fail_and_release($name,-@diag);"><a class="permalink" href="#return-$ctx-%3Efail_and_release($name,-@diag);">#</a><a id="return1"></a><a id="return-ctx-fail_and_release-name-diag"></a>return $ctx-&gt;fail_and_release($name, @diag);</dt>
<dd>

<p>This line issues a <a href="Test2__Event__Fail.html">Test2::Event::Fail</a> event, releases the context object, and returns false. The fail event will include any diagnostics messages from the <code>@diag</code> array.</p>

<p>This is short form for:</p>

<pre><code>$ctx-&gt;fail($name, @diag);
$ctx-&gt;release;
return 0;</code></pre>

</dd>
</dl>

<h1 id="CONTEXT-OBJECT-DOCUMENTATION"><a class="permalink" href="#CONTEXT-OBJECT-DOCUMENTATION">#</a><a id="CONTEXT"></a>CONTEXT OBJECT DOCUMENTATION</h1>

<p><a href="Test2__API__Context.html">Test2::API::Context</a> is the place to read up on what methods the context provides.</p>

<h1 id="SEE-ALSO"><a class="permalink" href="#SEE-ALSO">#</a><a id="SEE"></a>SEE ALSO</h1>

<p><a href="Test2__Manual.html">Test2::Manual</a> - Primary index of the manual.</p>

<h1 id="SOURCE"><a class="permalink" href="#SOURCE">#</a>SOURCE</h1>

<p>The source code repository for Test2-Manual can be found at <i>https://github.com/Test-More/test-more/</i>.</p>

<h1 id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">#</a>MAINTAINERS</h1>

<dl>

<dt id="Chad-Granum-&lt;exodist@cpan.org&gt;"><a class="permalink" href="#Chad-Granum-%3Cexodist@cpan.org%3E">#</a><a id="Chad"></a><a id="Chad-Granum-exodist-cpan.org"></a>Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="AUTHORS"><a class="permalink" href="#AUTHORS">#</a>AUTHORS</h1>

<dl>

<dt id="Chad-Granum-&lt;exodist@cpan.org&gt;1"><a class="permalink" href="#Chad-Granum-%3Cexodist@cpan.org%3E1">#</a><a id="Chad1"></a><a id="Chad-Granum-exodist-cpan.org1"></a>Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">#</a>COPYRIGHT</h1>

<p>Copyright Chad Granum &lt;exodist@cpan.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>See <i>http://dev.perl.org/licenses/</i></p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/Test2::Manual::Tooling::FirstTool by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:53 GMT -->
</html>
