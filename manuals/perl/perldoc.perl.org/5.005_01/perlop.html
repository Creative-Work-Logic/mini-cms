<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/5.005_01/perlop by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perlop - Perl operators and precedence - Perldoc Browser</title>
    <link rel="search" href="../opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="../perlop.html">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="../css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html"><img src="../images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.005_01</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="../perlop.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.42.0/perlop.html">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.40.3/perlop.html">5.40.3</a>
          <a class="dropdown-item" href="../5.40.2/perlop.html">5.40.2</a>
          <a class="dropdown-item" href="../5.40.1/perlop.html">5.40.1</a>
          <a class="dropdown-item" href="../5.40.0/perlop.html">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.38.5/perlop.html">5.38.5</a>
          <a class="dropdown-item" href="../5.38.4/perlop.html">5.38.4</a>
          <a class="dropdown-item" href="../5.38.3/perlop.html">5.38.3</a>
          <a class="dropdown-item" href="../5.38.2/perlop.html">5.38.2</a>
          <a class="dropdown-item" href="../5.38.1/perlop.html">5.38.1</a>
          <a class="dropdown-item" href="../5.38.0/perlop.html">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.36.3/perlop.html">5.36.3</a>
          <a class="dropdown-item" href="../5.36.2/perlop.html">5.36.2</a>
          <a class="dropdown-item" href="../5.36.1/perlop.html">5.36.1</a>
          <a class="dropdown-item" href="../5.36.0/perlop.html">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.34.3/perlop.html">5.34.3</a>
          <a class="dropdown-item" href="../5.34.2/perlop.html">5.34.2</a>
          <a class="dropdown-item" href="../5.34.1/perlop.html">5.34.1</a>
          <a class="dropdown-item" href="../5.34.0/perlop.html">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.32.1/perlop.html">5.32.1</a>
          <a class="dropdown-item" href="../5.32.0/perlop.html">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.30.3/perlop.html">5.30.3</a>
          <a class="dropdown-item" href="../5.30.2/perlop.html">5.30.2</a>
          <a class="dropdown-item" href="../5.30.1/perlop.html">5.30.1</a>
          <a class="dropdown-item" href="../5.30.0/perlop.html">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.28.3/perlop.html">5.28.3</a>
          <a class="dropdown-item" href="../5.28.2/perlop.html">5.28.2</a>
          <a class="dropdown-item" href="../5.28.1/perlop.html">5.28.1</a>
          <a class="dropdown-item" href="../5.28.0/perlop.html">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.26.3/perlop.html">5.26.3</a>
          <a class="dropdown-item" href="../5.26.2/perlop.html">5.26.2</a>
          <a class="dropdown-item" href="../5.26.1/perlop.html">5.26.1</a>
          <a class="dropdown-item" href="../5.26.0/perlop.html">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.24.4/perlop.html">5.24.4</a>
          <a class="dropdown-item" href="../5.24.3/perlop.html">5.24.3</a>
          <a class="dropdown-item" href="../5.24.2/perlop.html">5.24.2</a>
          <a class="dropdown-item" href="../5.24.1/perlop.html">5.24.1</a>
          <a class="dropdown-item" href="../5.24.0/perlop.html">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.22.4/perlop.html">5.22.4</a>
          <a class="dropdown-item" href="../5.22.3/perlop.html">5.22.3</a>
          <a class="dropdown-item" href="../5.22.2/perlop.html">5.22.2</a>
          <a class="dropdown-item" href="../5.22.1/perlop.html">5.22.1</a>
          <a class="dropdown-item" href="../5.22.0/perlop.html">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.20.3/perlop.html">5.20.3</a>
          <a class="dropdown-item" href="../5.20.2/perlop.html">5.20.2</a>
          <a class="dropdown-item" href="../5.20.1/perlop.html">5.20.1</a>
          <a class="dropdown-item" href="../5.20.0/perlop.html">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.18.4/perlop.html">5.18.4</a>
          <a class="dropdown-item" href="../5.18.3/perlop.html">5.18.3</a>
          <a class="dropdown-item" href="../5.18.2/perlop.html">5.18.2</a>
          <a class="dropdown-item" href="../5.18.1/perlop.html">5.18.1</a>
          <a class="dropdown-item" href="../5.18.0/perlop.html">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.16.3/perlop.html">5.16.3</a>
          <a class="dropdown-item" href="../5.16.2/perlop.html">5.16.2</a>
          <a class="dropdown-item" href="../5.16.1/perlop.html">5.16.1</a>
          <a class="dropdown-item" href="../5.16.0/perlop.html">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.14.4/perlop.html">5.14.4</a>
          <a class="dropdown-item" href="../5.14.3/perlop.html">5.14.3</a>
          <a class="dropdown-item" href="../5.14.2/perlop.html">5.14.2</a>
          <a class="dropdown-item" href="../5.14.1/perlop.html">5.14.1</a>
          <a class="dropdown-item" href="../5.14.0/perlop.html">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.12.5/perlop.html">5.12.5</a>
          <a class="dropdown-item" href="../5.12.4/perlop.html">5.12.4</a>
          <a class="dropdown-item" href="../5.12.3/perlop.html">5.12.3</a>
          <a class="dropdown-item" href="../5.12.2/perlop.html">5.12.2</a>
          <a class="dropdown-item" href="../5.12.1/perlop.html">5.12.1</a>
          <a class="dropdown-item" href="../5.12.0/perlop.html">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.10.1/perlop.html">5.10.1</a>
          <a class="dropdown-item" href="../5.10.0/perlop.html">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.8.9/perlop.html">5.8.9</a>
          <a class="dropdown-item" href="../5.8.8/perlop.html">5.8.8</a>
          <a class="dropdown-item" href="../5.8.7/perlop.html">5.8.7</a>
          <a class="dropdown-item" href="../5.8.6/perlop.html">5.8.6</a>
          <a class="dropdown-item" href="../5.8.5/perlop.html">5.8.5</a>
          <a class="dropdown-item" href="../5.8.4/perlop.html">5.8.4</a>
          <a class="dropdown-item" href="../5.8.3/perlop.html">5.8.3</a>
          <a class="dropdown-item" href="../5.8.2/perlop.html">5.8.2</a>
          <a class="dropdown-item" href="../5.8.1/perlop.html">5.8.1</a>
          <a class="dropdown-item" href="../5.8.0/perlop.html">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.6.2/perlop.html">5.6.2</a>
          <a class="dropdown-item" href="../5.6.1/perlop.html">5.6.1</a>
          <a class="dropdown-item" href="../5.6.0/perlop.html">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.005_04/perlop.html">5.005_04</a>
          <a class="dropdown-item" href="../5.005_03/perlop.html">5.005_03</a>
          <a class="dropdown-item" href="../5.005_02/perlop.html">5.005_02</a>
          <a class="dropdown-item active" href="perlop.html">5.005_01</a>
          <a class="dropdown-item" href="../5.005/perlop.html">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="../blead/perlop.html">blead</a>
          <a class="dropdown-item" href="../5.43.1/perlop.html">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.42.0-RC3/perlop.html">5.42.0-RC3</a>
          <a class="dropdown-item" href="../5.42.0-RC2/perlop.html">5.42.0-RC2</a>
          <a class="dropdown-item" href="../5.42.0-RC1/perlop.html">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.41.13/perlop.html">5.41.13</a>
          <a class="dropdown-item" href="../5.41.12/perlop.html">5.41.12</a>
          <a class="dropdown-item" href="../5.41.11/perlop.html">5.41.11</a>
          <a class="dropdown-item" href="../5.41.10/perlop.html">5.41.10</a>
          <a class="dropdown-item" href="../5.41.9/perlop.html">5.41.9</a>
          <a class="dropdown-item" href="../5.41.8/perlop.html">5.41.8</a>
          <a class="dropdown-item" href="../5.41.7/perlop.html">5.41.7</a>
          <a class="dropdown-item" href="../5.41.6/perlop.html">5.41.6</a>
          <a class="dropdown-item" href="../5.41.5/perlop.html">5.41.5</a>
          <a class="dropdown-item" href="../5.41.4/perlop.html">5.41.4</a>
          <a class="dropdown-item" href="../5.41.3/perlop.html">5.41.3</a>
          <a class="dropdown-item" href="../5.41.2/perlop.html">5.41.2</a>
          <a class="dropdown-item" href="../5.41.1/perlop.html">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.40.3-RC1/perlop.html">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.38.5-RC1/perlop.html">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="../js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/5.005_01/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="../js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perlop.html">perlop</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/5.005_01/perlop.txt">source</a>,
            <a href="https://metacpan.org/pod/perlop">CPAN</a>)
          </div>
        </div>
        <div class="leading-notice">
          You are viewing the version of this documentation from Perl 5.005_01.
            <a href="../perlop.html">View the latest version</a>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Terms-and-List-Operators-(Leftward)">Terms and List Operators (Leftward)</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#The-Arrow-Operator">The Arrow Operator</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Auto-increment-and-Auto-decrement">Auto-increment and Auto-decrement</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Exponentiation">Exponentiation</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Symbolic-Unary-Operators">Symbolic Unary Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Binding-Operators">Binding Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Multiplicative-Operators">Multiplicative Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Additive-Operators">Additive Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Shift-Operators">Shift Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Named-Unary-Operators">Named Unary Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Relational-Operators">Relational Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Equality-Operators">Equality Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Bitwise-And">Bitwise And</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Bitwise-Or-and-Exclusive-Or">Bitwise Or and Exclusive Or</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#C-style-Logical-And">C-style Logical And</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#C-style-Logical-Or">C-style Logical Or</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Range-Operators">Range Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Conditional-Operator">Conditional Operator</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Assignment-Operators">Assignment Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Comma-Operator">Comma Operator</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#List-Operators-(Rightward)">List Operators (Rightward)</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Logical-Not">Logical Not</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Logical-And">Logical And</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Logical-or-and-Exclusive-Or">Logical or and Exclusive Or</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#C-Operators-Missing-From-Perl">C Operators Missing From Perl</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Quote-and-Quote-like-Operators">Quote and Quote-like Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Regexp-Quote-Like-Operators">Regexp Quote-Like Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Gory-details-of-parsing-quoted-constructs">Gory details of parsing quoted constructs</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#I/O-Operators">I/O Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Constant-Folding">Constant Folding</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Bitwise-String-Operators">Bitwise String Operators</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Integer-Arithmetic">Integer Arithmetic</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Floating-point-Arithmetic">Floating-point Arithmetic</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Bigger-Numbers">Bigger Numbers</a>
              </li>
          </ul>

              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perlop - Perl operators and precedence</p>

<h1 id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">#</a>SYNOPSIS</h1>

<p>Perl operators have the following associativity and precedence, listed from highest precedence to lowest. Note that all operators borrowed from C keep the same precedence relationship with each other, even where C&#39;s precedence is slightly screwy. (This makes learning Perl easier for C folks.) With very few exceptions, these all operate on scalar values only, not array values.</p>

<pre><code class="plaintext">left	terms and list operators (leftward)
left	-&gt;
nonassoc	++ --
right	**
right	! ~ \ and unary + and -
left	=~ !~
left	* / % x
left	+ - .
left	&lt;&lt; &gt;&gt;
nonassoc	named unary operators
nonassoc	&lt; &gt; &lt;= &gt;= lt gt le ge
nonassoc	== != &lt;=&gt; eq ne cmp
left	&amp;
left	| ^
left	&amp;&amp;
left	||
nonassoc	..  ...
right	?:
right	= += -= *= etc.
left	, =&gt;
nonassoc	list operators (rightward)
right	not
left	and
left	or xor</code></pre>

<p>In the following sections, these operators are covered in precedence order.</p>

<p>Many operators can be overloaded for objects. See <a href="https://perldoc.perl.org/5.005_01/overload">overload</a>.</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<h2 id="Terms-and-List-Operators-(Leftward)"><a class="permalink" href="#Terms-and-List-Operators-(Leftward)">#</a><a id="Terms"></a><a id="Terms-and-List-Operators-Leftward"></a>Terms and List Operators (Leftward)</h2>

<p>A TERM has the highest precedence in Perl. They includes variables, quote and quote-like operators, any expression in parentheses, and any function whose arguments are parenthesized. Actually, there aren&#39;t really functions in this sense, just list operators and unary operators behaving as functions because you put parentheses around the arguments. These are all documented in <a href="perlfunc.html">perlfunc</a>.</p>

<p>If any list operator (print(), etc.) or any unary operator (chdir(), etc.) is followed by a left parenthesis as the next token, the operator and arguments within parentheses are taken to be of highest precedence, just like a normal function call.</p>

<p>In the absence of parentheses, the precedence of list operators such as <code>print</code>, <code>sort</code>, or <code>chmod</code> is either very high or very low depending on whether you are looking at the left side or the right side of the operator. For example, in</p>

<pre><code>@ary = (1, 3, sort 4, 2);
print @ary;		# prints 1324</code></pre>

<p>the commas on the right of the sort are evaluated before the sort, but the commas on the left are evaluated after. In other words, list operators tend to gobble up all the arguments that follow them, and then act like a simple TERM with regard to the preceding expression. Note that you have to be careful with parentheses:</p>

<pre><code># These evaluate exit before doing the print:
print($foo, exit);	# Obviously not what you want.
print $foo, exit;	# Nor is this.

# These do the print before evaluating exit:
(print $foo), exit;	# This is what you want.
print($foo), exit;	# Or this.
print ($foo), exit;	# Or even this.</code></pre>

<p>Also note that</p>

<pre><code>print ($foo &amp; 255) + 1, &quot;\n&quot;;</code></pre>

<p>probably doesn&#39;t do what you expect at first glance. See <a href="#Named-Unary-Operators">&quot;Named Unary Operators&quot;</a> for more discussion of this.</p>

<p>Also parsed as terms are the <code>do {}</code> and <code>eval {}</code> constructs, as well as subroutine and method calls, and the anonymous constructors <code>[]</code> and <code>{}</code>.</p>

<p>See also <a href="#Quote-and-Quote-like-Operators">&quot;Quote and Quote-like Operators&quot;</a> toward the end of this section, as well as <a href="https://metacpan.org/pod/%2522I#O-Operators%22">&quot;O Operators&quot;&quot; in &quot;I</a>.</p>

<h2 id="The-Arrow-Operator"><a class="permalink" href="#The-Arrow-Operator">#</a><a id="The"></a>The Arrow Operator</h2>

<p>Just as in C and C++, &quot;<code>-&gt;</code>&quot; is an infix dereference operator. If the right side is either a <code>[...]</code> or <code>{...}</code> subscript, then the left side must be either a hard or symbolic reference to an array or hash (or a location capable of holding a hard reference, if it&#39;s an lvalue (assignable)). See <a href="perlref.html">perlref</a>.</p>

<p>Otherwise, the right side is a method name or a simple scalar variable containing the method name, and the left side must either be an object (a blessed reference) or a class name (that is, a package name). See <a href="perlobj.html">perlobj</a>.</p>

<h2 id="Auto-increment-and-Auto-decrement"><a class="permalink" href="#Auto-increment-and-Auto-decrement">#</a><a id="Auto"></a>Auto-increment and Auto-decrement</h2>

<p>&quot;++&quot; and &quot;--&quot; work as in C. That is, if placed before a variable, they increment or decrement the variable before returning the value, and if placed after, increment or decrement the variable after returning the value.</p>

<p>The auto-increment operator has a little extra builtin magic to it. If you increment a variable that is numeric, or that has ever been used in a numeric context, you get a normal increment. If, however, the variable has been used in only string contexts since it was set, and has a value that is not the empty string and matches the pattern <code>/^[a-zA-Z]*[0-9]*$/</code>, the increment is done as a string, preserving each character within its range, with carry:</p>

<pre><code>print ++($foo = &#39;99&#39;);	# prints &#39;100&#39;
print ++($foo = &#39;a0&#39;);	# prints &#39;a1&#39;
print ++($foo = &#39;Az&#39;);	# prints &#39;Ba&#39;
print ++($foo = &#39;zz&#39;);	# prints &#39;aaa&#39;</code></pre>

<p>The auto-decrement operator is not magical.</p>

<h2 id="Exponentiation"><a class="permalink" href="#Exponentiation">#</a>Exponentiation</h2>

<p>Binary &quot;**&quot; is the exponentiation operator. Note that it binds even more tightly than unary minus, so -2**4 is -(2**4), not (-2)**4. (This is implemented using C&#39;s pow(3) function, which actually works on doubles internally.)</p>

<h2 id="Symbolic-Unary-Operators"><a class="permalink" href="#Symbolic-Unary-Operators">#</a><a id="Symbolic"></a>Symbolic Unary Operators</h2>

<p>Unary &quot;!&quot; performs logical negation, i.e., &quot;not&quot;. See also <code>not</code> for a lower precedence version of this.</p>

<p>Unary &quot;-&quot; performs arithmetic negation if the operand is numeric. If the operand is an identifier, a string consisting of a minus sign concatenated with the identifier is returned. Otherwise, if the string starts with a plus or minus, a string starting with the opposite sign is returned. One effect of these rules is that <code>-bareword</code> is equivalent to <code>&quot;-bareword&quot;</code>.</p>

<p>Unary &quot;~&quot; performs bitwise negation, i.e., 1&#39;s complement. For example, <code>0666 &amp;~ 027</code> is 0640. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a> and <a href="#Bitwise-String-Operators">&quot;Bitwise String Operators&quot;</a>.)</p>

<p>Unary &quot;+&quot; has no effect whatsoever, even on strings. It is useful syntactically for separating a function name from a parenthesized expression that would otherwise be interpreted as the complete list of function arguments. (See examples above under <a>Terms and List Operators (Leftward)</a>.)</p>

<p>Unary &quot;\&quot; creates a reference to whatever follows it. See <a href="perlref.html">perlref</a>. Do not confuse this behavior with the behavior of backslash within a string, although both forms do convey the notion of protecting the next thing from interpretation.</p>

<h2 id="Binding-Operators"><a class="permalink" href="#Binding-Operators">#</a><a id="Binding"></a>Binding Operators</h2>

<p>Binary &quot;=~&quot; binds a scalar expression to a pattern match. Certain operations search or modify the string $_ by default. This operator makes that kind of operation work on some other string. The right argument is a search pattern, substitution, or transliteration. The left argument is what is supposed to be searched, substituted, or transliterated instead of the default $_. The return value indicates the success of the operation. (If the right argument is an expression rather than a search pattern, substitution, or transliteration, it is interpreted as a search pattern at run time. This can be is less efficient than an explicit search, because the pattern must be compiled every time the expression is evaluated.</p>

<p>Binary &quot;!~&quot; is just like &quot;=~&quot; except the return value is negated in the logical sense.</p>

<h2 id="Multiplicative-Operators"><a class="permalink" href="#Multiplicative-Operators">#</a><a id="Multiplicative"></a>Multiplicative Operators</h2>

<p>Binary &quot;*&quot; multiplies two numbers.</p>

<p>Binary &quot;/&quot; divides two numbers.</p>

<p>Binary &quot;%&quot; computes the modulus of two numbers. Given integer operands <code>$a</code> and <code>$b</code>: If <code>$b</code> is positive, then <code>$a % $b</code> is <code>$a</code> minus the largest multiple of <code>$b</code> that is not greater than <code>$a</code>. If <code>$b</code> is negative, then <code>$a % $b</code> is <code>$a</code> minus the smallest multiple of <code>$b</code> that is not less than <code>$a</code> (i.e. the result will be less than or equal to zero). Note than when <code>use integer</code> is in scope, &quot;%&quot; give you direct access to the modulus operator as implemented by your C compiler. This operator is not as well defined for negative operands, but it will execute faster.</p>

<p>Binary &quot;x&quot; is the repetition operator. In scalar context, it returns a string consisting of the left operand repeated the number of times specified by the right operand. In list context, if the left operand is a list in parentheses, it repeats the list.</p>

<pre><code>print &#39;-&#39; x 80;		# print row of dashes

print &quot;\t&quot; x ($tab/8), &#39; &#39; x ($tab%8);	# tab over

@ones = (1) x 80;		# a list of 80 1&#39;s
@ones = (5) x @ones;	# set all elements to 5</code></pre>

<h2 id="Additive-Operators"><a class="permalink" href="#Additive-Operators">#</a><a id="Additive"></a>Additive Operators</h2>

<p>Binary &quot;+&quot; returns the sum of two numbers.</p>

<p>Binary &quot;-&quot; returns the difference of two numbers.</p>

<p>Binary &quot;.&quot; concatenates two strings.</p>

<h2 id="Shift-Operators"><a class="permalink" href="#Shift-Operators">#</a><a id="Shift"></a>Shift Operators</h2>

<p>Binary &quot;&lt;&lt;&quot; returns the value of its left argument shifted left by the number of bits specified by the right argument. Arguments should be integers. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a>.)</p>

<p>Binary &quot;&gt;&gt;&quot; returns the value of its left argument shifted right by the number of bits specified by the right argument. Arguments should be integers. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a>.)</p>

<h2 id="Named-Unary-Operators"><a class="permalink" href="#Named-Unary-Operators">#</a><a id="Named"></a>Named Unary Operators</h2>

<p>The various named unary operators are treated as functions with one argument, with optional parentheses. These include the filetest operators, like <code>-f</code>, <code>-M</code>, etc. See <a href="perlfunc.html">perlfunc</a>.</p>

<p>If any list operator (print(), etc.) or any unary operator (chdir(), etc.) is followed by a left parenthesis as the next token, the operator and arguments within parentheses are taken to be of highest precedence, just like a normal function call. Examples:</p>

<pre><code>chdir $foo    || die;	# (chdir $foo) || die
chdir($foo)   || die;	# (chdir $foo) || die
chdir ($foo)  || die;	# (chdir $foo) || die
chdir +($foo) || die;	# (chdir $foo) || die</code></pre>

<p>but, because * is higher precedence than ||:</p>

<pre><code>chdir $foo * 20;	# chdir ($foo * 20)
chdir($foo) * 20;	# (chdir $foo) * 20
chdir ($foo) * 20;	# (chdir $foo) * 20
chdir +($foo) * 20;	# chdir ($foo * 20)

rand 10 * 20;	# rand (10 * 20)
rand(10) * 20;	# (rand 10) * 20
rand (10) * 20;	# (rand 10) * 20
rand +(10) * 20;	# rand (10 * 20)</code></pre>

<p>See also <a href="#Terms-and-List-Operators-(Leftward)">&quot;Terms and List Operators (Leftward)&quot;</a>.</p>

<h2 id="Relational-Operators"><a class="permalink" href="#Relational-Operators">#</a><a id="Relational"></a>Relational Operators</h2>

<p>Binary &quot;&lt;&quot; returns true if the left argument is numerically less than the right argument.</p>

<p>Binary &quot;&gt;&quot; returns true if the left argument is numerically greater than the right argument.</p>

<p>Binary &quot;&lt;=&quot; returns true if the left argument is numerically less than or equal to the right argument.</p>

<p>Binary &quot;&gt;=&quot; returns true if the left argument is numerically greater than or equal to the right argument.</p>

<p>Binary &quot;lt&quot; returns true if the left argument is stringwise less than the right argument.</p>

<p>Binary &quot;gt&quot; returns true if the left argument is stringwise greater than the right argument.</p>

<p>Binary &quot;le&quot; returns true if the left argument is stringwise less than or equal to the right argument.</p>

<p>Binary &quot;ge&quot; returns true if the left argument is stringwise greater than or equal to the right argument.</p>

<h2 id="Equality-Operators"><a class="permalink" href="#Equality-Operators">#</a><a id="Equality"></a>Equality Operators</h2>

<p>Binary &quot;==&quot; returns true if the left argument is numerically equal to the right argument.</p>

<p>Binary &quot;!=&quot; returns true if the left argument is numerically not equal to the right argument.</p>

<p>Binary &quot;&lt;=&gt;&quot; returns -1, 0, or 1 depending on whether the left argument is numerically less than, equal to, or greater than the right argument.</p>

<p>Binary &quot;eq&quot; returns true if the left argument is stringwise equal to the right argument.</p>

<p>Binary &quot;ne&quot; returns true if the left argument is stringwise not equal to the right argument.</p>

<p>Binary &quot;cmp&quot; returns -1, 0, or 1 depending on whether the left argument is stringwise less than, equal to, or greater than the right argument.</p>

<p>&quot;lt&quot;, &quot;le&quot;, &quot;ge&quot;, &quot;gt&quot; and &quot;cmp&quot; use the collation (sort) order specified by the current locale if <code>use locale</code> is in effect. See <a href="perllocale.html">perllocale</a>.</p>

<h2 id="Bitwise-And"><a class="permalink" href="#Bitwise-And">#</a><a id="Bitwise"></a>Bitwise And</h2>

<p>Binary &quot;&amp;&quot; returns its operators ANDed together bit by bit. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a> and <a href="#Bitwise-String-Operators">&quot;Bitwise String Operators&quot;</a>.)</p>

<h2 id="Bitwise-Or-and-Exclusive-Or"><a class="permalink" href="#Bitwise-Or-and-Exclusive-Or">#</a><a id="Bitwise1"></a>Bitwise Or and Exclusive Or</h2>

<p>Binary &quot;|&quot; returns its operators ORed together bit by bit. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a> and <a href="#Bitwise-String-Operators">&quot;Bitwise String Operators&quot;</a>.)</p>

<p>Binary &quot;^&quot; returns its operators XORed together bit by bit. (See also <a href="#Integer-Arithmetic">&quot;Integer Arithmetic&quot;</a> and <a href="#Bitwise-String-Operators">&quot;Bitwise String Operators&quot;</a>.)</p>

<h2 id="C-style-Logical-And"><a class="permalink" href="#C-style-Logical-And">#</a><a id="C"></a>C-style Logical And</h2>

<p>Binary &quot;&amp;&amp;&quot; performs a short-circuit logical AND operation. That is, if the left operand is false, the right operand is not even evaluated. Scalar or list context propagates down to the right operand if it is evaluated.</p>

<h2 id="C-style-Logical-Or"><a class="permalink" href="#C-style-Logical-Or">#</a><a id="C1"></a>C-style Logical Or</h2>

<p>Binary &quot;||&quot; performs a short-circuit logical OR operation. That is, if the left operand is true, the right operand is not even evaluated. Scalar or list context propagates down to the right operand if it is evaluated.</p>

<p>The <code>||</code> and <code>&amp;&amp;</code> operators differ from C&#39;s in that, rather than returning 0 or 1, they return the last value evaluated. Thus, a reasonably portable way to find out the home directory (assuming it&#39;s not &quot;0&quot;) might be:</p>

<pre><code>    $home = $ENV{&#39;HOME&#39;} || $ENV{&#39;LOGDIR&#39;} ||
	(getpwuid($&lt;))[7] || die &quot;You&#39;re homeless!\n&quot;;</code></pre>

<p>In particular, this means that you shouldn&#39;t use this for selecting between two aggregates for assignment:</p>

<pre><code>@a = @b || @c;		# this is wrong
@a = scalar(@b) || @c;	# really meant this
@a = @b ? @b : @c;		# this works fine, though</code></pre>

<p>As more readable alternatives to <code>&amp;&amp;</code> and <code>||</code> when used for control flow, Perl provides <code>and</code> and <code>or</code> operators (see below). The short-circuit behavior is identical. The precedence of &quot;and&quot; and &quot;or&quot; is much lower, however, so that you can safely use them after a list operator without the need for parentheses:</p>

<pre><code>    unlink &quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;
	    or gripe(), next LINE;</code></pre>

<p>With the C-style operators that would have been written like this:</p>

<pre><code>    unlink(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;)
	    || (gripe(), next LINE);</code></pre>

<p>Use &quot;or&quot; for assignment is unlikely to do what you want; see below.</p>

<h2 id="Range-Operators"><a class="permalink" href="#Range-Operators">#</a><a id="Range"></a>Range Operators</h2>

<p>Binary &quot;..&quot; is the range operator, which is really two different operators depending on the context. In list context, it returns an array of values counting (by ones) from the left value to the right value. This is useful for writing <code>foreach (1..10)</code> loops and for doing slice operations on arrays. In the current implementation, no temporary array is created when the range operator is used as the expression in <code>foreach</code> loops, but older versions of Perl might burn a lot of memory when you write something like this:</p>

<pre><code>    for (1 .. 1_000_000) {
	# code
    }</code></pre>

<p>In scalar context, &quot;..&quot; returns a boolean value. The operator is bistable, like a flip-flop, and emulates the line-range (comma) operator of <b>sed</b>, <b>awk</b>, and various editors. Each &quot;..&quot; operator maintains its own boolean state. It is false as long as its left operand is false. Once the left operand is true, the range operator stays true until the right operand is true, <i>AFTER</i> which the range operator becomes false again. (It doesn&#39;t become false till the next time the range operator is evaluated. It can test the right operand and become false on the same evaluation it became true (as in <b>awk</b>), but it still returns true once. If you don&#39;t want it to test the right operand till the next evaluation (as in <b>sed</b>), use three dots (&quot;...&quot;) instead of two.) The right operand is not evaluated while the operator is in the &quot;false&quot; state, and the left operand is not evaluated while the operator is in the &quot;true&quot; state. The precedence is a little lower than || and &amp;&amp;. The value returned is either the empty string for false, or a sequence number (beginning with 1) for true. The sequence number is reset for each range encountered. The final sequence number in a range has the string &quot;E0&quot; appended to it, which doesn&#39;t affect its numeric value, but gives you something to search for if you want to exclude the endpoint. You can exclude the beginning point by waiting for the sequence number to be greater than 1. If either operand of scalar &quot;..&quot; is a constant expression, that operand is implicitly compared to the <code>$.</code> variable, the current line number. Examples:</p>

<p>As a scalar operator:</p>

<pre><code>    if (101 .. 200) { print; }	# print 2nd hundred lines
    next line if (1 .. /^$/);	# skip header lines
    s/^/&gt; / if (/^$/ .. eof());	# quote body

    # parse mail messages
    while (&lt;&gt;) {
        $in_header =   1  .. /^$/;
        $in_body   = /^$/ .. eof();
	# do something based on those
    } continue {
	close ARGV if eof; 		# reset $. each file
    }</code></pre>

<p>As a list operator:</p>

<pre><code>for (101 .. 200) { print; }	# print $_ 100 times
@foo = @foo[0 .. $#foo];	# an expensive no-op
@foo = @foo[$#foo-4 .. $#foo];	# slice last 5 items</code></pre>

<p>The range operator (in list context) makes use of the magical auto-increment algorithm if the operands are strings. You can say</p>

<pre><code>@alphabet = (&#39;A&#39; .. &#39;Z&#39;);</code></pre>

<p>to get all the letters of the alphabet, or</p>

<pre><code>$hexdigit = (0 .. 9, &#39;a&#39; .. &#39;f&#39;)[$num &amp; 15];</code></pre>

<p>to get a hexadecimal digit, or</p>

<pre><code>@z2 = (&#39;01&#39; .. &#39;31&#39;);  print $z2[$mday];</code></pre>

<p>to get dates with leading zeros. If the final value specified is not in the sequence that the magical increment would produce, the sequence goes until the next value would be longer than the final value specified.</p>

<h2 id="Conditional-Operator"><a class="permalink" href="#Conditional-Operator">#</a><a id="Conditional"></a>Conditional Operator</h2>

<p>Ternary &quot;?:&quot; is the conditional operator, just as in C. It works much like an if-then-else. If the argument before the ? is true, the argument before the : is returned, otherwise the argument after the : is returned. For example:</p>

<pre><code>    printf &quot;I have %d dog%s.\n&quot;, $n,
	    ($n == 1) ? &#39;&#39; : &quot;s&quot;;</code></pre>

<p>Scalar or list context propagates downward into the 2nd or 3rd argument, whichever is selected.</p>

<pre><code>$a = $ok ? $b : $c;  # get a scalar
@a = $ok ? @b : @c;  # get an array
$a = $ok ? @b : @c;  # oops, that&#39;s just a count!</code></pre>

<p>The operator may be assigned to if both the 2nd and 3rd arguments are legal lvalues (meaning that you can assign to them):</p>

<pre><code>($a_or_b ? $a : $b) = $c;</code></pre>

<p>This is not necessarily guaranteed to contribute to the readability of your program.</p>

<p>Because this operator produces an assignable result, using assignments without parentheses will get you in trouble. For example, this:</p>

<pre><code>$a % 2 ? $a += 10 : $a += 2</code></pre>

<p>Really means this:</p>

<pre><code>(($a % 2) ? ($a += 10) : $a) += 2</code></pre>

<p>Rather than this:</p>

<pre><code>($a % 2) ? ($a += 10) : ($a += 2)</code></pre>

<h2 id="Assignment-Operators"><a class="permalink" href="#Assignment-Operators">#</a><a id="Assignment"></a>Assignment Operators</h2>

<p>&quot;=&quot; is the ordinary assignment operator.</p>

<p>Assignment operators work as in C. That is,</p>

<pre><code>$a += 2;</code></pre>

<p>is equivalent to</p>

<pre><code>$a = $a + 2;</code></pre>

<p>although without duplicating any side effects that dereferencing the lvalue might trigger, such as from tie(). Other assignment operators work similarly. The following are recognized:</p>

<pre><code class="plaintext">    **=    +=    *=    &amp;=    &lt;&lt;=    &amp;&amp;=
           -=    /=    |=    &gt;&gt;=    ||=
           .=    %=    ^=
	         x=</code></pre>

<p>Note that while these are grouped by family, they all have the precedence of assignment.</p>

<p>Unlike in C, the assignment operator produces a valid lvalue. Modifying an assignment is equivalent to doing the assignment and then modifying the variable that was assigned to. This is useful for modifying a copy of something, like this:</p>

<pre><code>($tmp = $global) =~ tr [A-Z] [a-z];</code></pre>

<p>Likewise,</p>

<pre><code>($a += 2) *= 3;</code></pre>

<p>is equivalent to</p>

<pre><code>$a += 2;
$a *= 3;</code></pre>

<h2 id="Comma-Operator"><a class="permalink" href="#Comma-Operator">#</a><a id="Comma"></a>Comma Operator</h2>

<p>Binary &quot;,&quot; is the comma operator. In scalar context it evaluates its left argument, throws that value away, then evaluates its right argument and returns that value. This is just like C&#39;s comma operator.</p>

<p>In list context, it&#39;s just the list argument separator, and inserts both its arguments into the list.</p>

<p>The =&gt; digraph is mostly just a synonym for the comma operator. It&#39;s useful for documenting arguments that come in pairs. As of release 5.001, it also forces any word to the left of it to be interpreted as a string.</p>

<h2 id="List-Operators-(Rightward)"><a class="permalink" href="#List-Operators-(Rightward)">#</a><a id="List"></a><a id="List-Operators-Rightward"></a>List Operators (Rightward)</h2>

<p>On the right side of a list operator, it has very low precedence, such that it controls all comma-separated expressions found there. The only operators with lower precedence are the logical operators &quot;and&quot;, &quot;or&quot;, and &quot;not&quot;, which may be used to evaluate calls to list operators without the need for extra parentheses:</p>

<pre><code>    open HANDLE, &quot;filename&quot;
	or die &quot;Can&#39;t open: $!\n&quot;;</code></pre>

<p>See also discussion of list operators in <a>Terms and List Operators (Leftward)</a>.</p>

<h2 id="Logical-Not"><a class="permalink" href="#Logical-Not">#</a><a id="Logical"></a>Logical Not</h2>

<p>Unary &quot;not&quot; returns the logical negation of the expression to its right. It&#39;s the equivalent of &quot;!&quot; except for the very low precedence.</p>

<h2 id="Logical-And"><a class="permalink" href="#Logical-And">#</a><a id="Logical1"></a>Logical And</h2>

<p>Binary &quot;and&quot; returns the logical conjunction of the two surrounding expressions. It&#39;s equivalent to &amp;&amp; except for the very low precedence. This means that it short-circuits: i.e., the right expression is evaluated only if the left expression is true.</p>

<h2 id="Logical-or-and-Exclusive-Or"><a class="permalink" href="#Logical-or-and-Exclusive-Or">#</a><a id="Logical2"></a>Logical or and Exclusive Or</h2>

<p>Binary &quot;or&quot; returns the logical disjunction of the two surrounding expressions. It&#39;s equivalent to || except for the very low precedence. This makes it useful for control flow</p>

<pre><code>print FH $data		or die &quot;Can&#39;t write to FH: $!&quot;;</code></pre>

<p>This means that it short-circuits: i.e., the right expression is evaluated only if the left expression is false. Due to its precedence, you should probably avoid using this for assignment, only for control flow.</p>

<pre><code>$a = $b or $c;		# bug: this is wrong
($a = $b) or $c;		# really means this
$a = $b || $c;		# better written this way</code></pre>

<p>However, when it&#39;s a list context assignment and you&#39;re trying to use &quot;||&quot; for control flow, you probably need &quot;or&quot; so that the assignment takes higher precedence.</p>

<pre><code>@info = stat($file) || die;     # oops, scalar sense of stat!
@info = stat($file) or die;     # better, now @info gets its due</code></pre>

<p>Then again, you could always use parentheses.</p>

<p>Binary &quot;xor&quot; returns the exclusive-OR of the two surrounding expressions. It cannot short circuit, of course.</p>

<h2 id="C-Operators-Missing-From-Perl"><a class="permalink" href="#C-Operators-Missing-From-Perl">#</a><a id="C2"></a>C Operators Missing From Perl</h2>

<p>Here is what C has that Perl doesn&#39;t:</p>

<dl>

<dt id="unary-&amp;"><a class="permalink" href="#unary-&amp;">#</a><a id="unary"></a>unary &amp;</dt>
<dd>

<p>Address-of operator. (But see the &quot;\&quot; operator for taking a reference.)</p>

</dd>
<dt id="unary-*"><a class="permalink" href="#unary-*">#</a><a id="unary1"></a>unary *</dt>
<dd>

<p>Dereference-address operator. (Perl&#39;s prefix dereferencing operators are typed: $, @, %, and &amp;.)</p>

</dd>
<dt id="(TYPE)"><a class="permalink" href="#(TYPE)">#</a><a id="TYPE"></a>(TYPE)</dt>
<dd>

<p>Type casting operator.</p>

</dd>
</dl>

<h2 id="Quote-and-Quote-like-Operators"><a class="permalink" href="#Quote-and-Quote-like-Operators">#</a><a id="Quote"></a>Quote and Quote-like Operators</h2>

<p>While we usually think of quotes as literal values, in Perl they function as operators, providing various kinds of interpolating and pattern matching capabilities. Perl provides customary quote characters for these behaviors, but also provides a way for you to choose your quote character for any of them. In the following table, a <code>{}</code> represents any pair of delimiters you choose. Non-bracketing delimiters use the same character fore and aft, but the 4 sorts of brackets (round, angle, square, curly) will all nest.</p>

<pre><code class="plaintext">    Customary  Generic        Meaning	     Interpolates
	&#39;&#39;	 q{}	      Literal		  no
	&quot;&quot;	qq{}	      Literal		  yes
	``	qx{}	      Command		  yes (unless &#39;&#39; is delimiter)
		qw{}	     Word list		  no
	//	 m{}	   Pattern match	  yes
		qr{}	      Pattern		  yes
		 s{}{}	    Substitution	  yes
		tr{}{}	  Transliteration	  no (but see below)</code></pre>

<p>Note that there can be whitespace between the operator and the quoting characters, except when <code>#</code> is being used as the quoting character. <code>q#foo#</code> is parsed as being the string <code>foo</code>, while <code>q #foo#</code> is the operator <code>q</code> followed by a comment. Its argument will be taken from the next line. This allows you to write:</p>

<pre><code class="plaintext">s {foo}  # Replace foo
  {bar}  # with bar.</code></pre>

<p>For constructs that do interpolation, variables beginning with &quot;<code>$</code>&quot; or &quot;<code>@</code>&quot; are interpolated, as are the following sequences. Within a transliteration, the first ten of these sequences may be used.</p>

<pre><code class="plaintext">\t		tab             (HT, TAB)
\n		newline         (NL)
\r		return          (CR)
\f		form feed       (FF)
\b		backspace       (BS)
\a		alarm (bell)    (BEL)
\e		escape          (ESC)
\033	octal char
\x1b	hex char
\c[		control char

\l		lowercase next char
\u		uppercase next char
\L		lowercase till \E
\U		uppercase till \E
\E		end case modification
\Q		quote non-word characters till \E</code></pre>

<p>If <code>use locale</code> is in effect, the case map used by <code>\l</code>, <code>\L</code>, <code>\u</code> and <code>\U</code> is taken from the current locale. See <a href="perllocale.html">perllocale</a>.</p>

<p>All systems use the virtual <code>&quot;\n&quot;</code> to represent a line terminator, called a &quot;newline&quot;. There is no such thing as an unvarying, physical newline character. It is an illusion that the operating system, device drivers, C libraries, and Perl all conspire to preserve. Not all systems read <code>&quot;\r&quot;</code> as ASCII CR and <code>&quot;\n&quot;</code> as ASCII LF. For example, on a Mac, these are reversed, and on systems without line terminator, printing <code>&quot;\n&quot;</code> may emit no actual data. In general, use <code>&quot;\n&quot;</code> when you mean a &quot;newline&quot; for your system, but use the literal ASCII when you need an exact character. For example, most networking protocols expect and prefer a CR+LF (<code>&quot;\012\015&quot;</code> or <code>&quot;\cJ\cM&quot;</code>) for line terminators, and although they often accept just <code>&quot;\012&quot;</code>, they seldom tolerate just <code>&quot;\015&quot;</code>. If you get in the habit of using <code>&quot;\n&quot;</code> for networking, you may be burned some day.</p>

<p>You cannot include a literal <code>$</code> or <code>@</code> within a <code>\Q</code> sequence. An unescaped <code>$</code> or <code>@</code> interpolates the corresponding variable, while escaping will cause the literal string <code>\$</code> to be inserted. You&#39;ll need to write something like <code>m/\Quser\E\@\Qhost/</code>.</p>

<p>Patterns are subject to an additional level of interpretation as a regular expression. This is done as a second pass, after variables are interpolated, so that regular expressions may be incorporated into the pattern from the variables. If this is not what you want, use <code>\Q</code> to interpolate a variable literally.</p>

<p>Apart from the above, there are no multiple levels of interpolation. In particular, contrary to the expectations of shell programmers, back-quotes do <i>NOT</i> interpolate within double quotes, nor do single quotes impede evaluation of variables when used within double quotes.</p>

<h2 id="Regexp-Quote-Like-Operators"><a class="permalink" href="#Regexp-Quote-Like-Operators">#</a><a id="Regexp"></a>Regexp Quote-Like Operators</h2>

<p>Here are the quote-like operators that apply to pattern matching and related activities.</p>

<p>Most of this section is related to use of regular expressions from Perl. Such a use may be considered from two points of view: Perl handles a a string and a &quot;pattern&quot; to RE (regular expression) engine to match, RE engine finds (or does not find) the match, and Perl uses the findings of RE engine for its operation, possibly asking the engine for other matches.</p>

<p>RE engine has no idea what Perl is going to do with what it finds, similarly, the rest of Perl has no idea what a particular regular expression means to RE engine. This creates a clean separation, and in this section we discuss matching from Perl point of view only. The other point of view may be found in <a href="perlre.html">perlre</a>.</p>

<dl>

<dt id="?PATTERN?"><a class="permalink" href="#?PATTERN?">#</a><a id="PATTERN"></a>?PATTERN?</dt>
<dd>

<p>This is just like the <code>/pattern/</code> search, except that it matches only once between calls to the reset() operator. This is a useful optimization when you want to see only the first occurrence of something in each file of a set of files, for instance. Only <code>??</code> patterns local to the current package are reset.</p>

<pre><code>    while (&lt;&gt;) {
	if (?^$?) {
			    # blank line between header and body
	}
    } continue {
	reset if eof;	    # clear ?? status for next file
    }</code></pre>

<p>This usage is vaguely deprecated, and may be removed in some future version of Perl.</p>

</dd>
<dt id="m/PATTERN/cgimosx"><a class="permalink" href="#m/PATTERN/cgimosx">#</a><a id="m"></a><a id="m-PATTERN-cgimosx"></a>m/PATTERN/cgimosx</dt>
<dd>

</dd>
<dt id="/PATTERN/cgimosx"><a class="permalink" href="#/PATTERN/cgimosx">#</a><a id="PATTERN-cgimosx"></a>/PATTERN/cgimosx</dt>
<dd>

<p>Searches a string for a pattern match, and in scalar context returns true (1) or false (&#39;&#39;). If no string is specified via the <code>=~</code> or <code>!~</code> operator, the $_ string is searched. (The string specified with <code>=~</code> need not be an lvalue--it may be the result of an expression evaluation, but remember the <code>=~</code> binds rather tightly.) See also <a href="perlre.html">perlre</a>. See <a href="perllocale.html">perllocale</a> for discussion of additional considerations that apply when <code>use locale</code> is in effect.</p>

<p>Options are:</p>

<pre><code class="plaintext">c	Do not reset search position on a failed match when /g is in effect.
g	Match globally, i.e., find all occurrences.
i	Do case-insensitive pattern matching.
m	Treat string as multiple lines.
o	Compile pattern only once.
s	Treat string as single line.
x	Use extended regular expressions.</code></pre>

<p>If &quot;/&quot; is the delimiter then the initial <code>m</code> is optional. With the <code>m</code> you can use any pair of non-alphanumeric, non-whitespace characters as delimiters (if single quotes are used, no interpretation is done on the replacement string. Unlike Perl 4, Perl 5 treats backticks as normal delimiters; the replacement text is not evaluated as a command). This is particularly useful for matching Unix path names that contain &quot;/&quot;, to avoid LTS (leaning toothpick syndrome). If &quot;?&quot; is the delimiter, then the match-only-once rule of <code>?PATTERN?</code> applies.</p>

<p>PATTERN may contain variables, which will be interpolated (and the pattern recompiled) every time the pattern search is evaluated. (Note that <code>$)</code> and <code>$|</code> might not be interpolated because they look like end-of-string tests.) If you want such a pattern to be compiled only once, add a <code>/o</code> after the trailing delimiter. This avoids expensive run-time recompilations, and is useful when the value you are interpolating won&#39;t change over the life of the script. However, mentioning <code>/o</code> constitutes a promise that you won&#39;t change the variables in the pattern. If you change them, Perl won&#39;t even notice.</p>

<p>If the PATTERN evaluates to the empty string, the last <i>successfully</i> matched regular expression is used instead.</p>

<p>If the <code>/g</code> option is not used, <code>m//</code> in a list context returns a list consisting of the subexpressions matched by the parentheses in the pattern, i.e., (<code>$1</code>, <code>$2</code>, <code>$3</code>...). (Note that here <code>$1</code> etc. are also set, and that this differs from Perl 4&#39;s behavior.) When there are no parentheses in the pattern, the return value is the list <code>(1)</code> for success. With or without parentheses, an empty list is returned upon failure.</p>

<p>Examples:</p>

<pre><code>    open(TTY, &#39;/dev/tty&#39;);
    &lt;TTY&gt; =~ /^y/i &amp;&amp; foo();	# do foo if desired

    if (/Version: *([0-9.]*)/) { $version = $1; }

    next if m#^/usr/spool/uucp#;

    # poor man&#39;s grep
    $arg = shift;
    while (&lt;&gt;) {
	print if /$arg/o;	# compile only once
    }

    if (($F1, $F2, $Etc) = ($foo =~ /^(\S+)\s+(\S+)\s*(.*)/))</code></pre>

<p>This last example splits $foo into the first two words and the remainder of the line, and assigns those three fields to $F1, $F2, and $Etc. The conditional is true if any variables were assigned, i.e., if the pattern matched.</p>

<p>The <code>/g</code> modifier specifies global pattern matching--that is, matching as many times as possible within the string. How it behaves depends on the context. In list context, it returns a list of all the substrings matched by all the parentheses in the regular expression. If there are no parentheses, it returns a list of all the matched strings, as if there were parentheses around the whole pattern.</p>

<p>In scalar context, each execution of <code>m//g</code> finds the next match, returning TRUE if it matches, and FALSE if there is no further match. The position after the last match can be read or set using the pos() function; see <a href="perlfunc.html#pos">&quot;pos&quot; in perlfunc</a>. A failed match normally resets the search position to the beginning of the string, but you can avoid that by adding the <code>/c</code> modifier (e.g. <code>m//gc</code>). Modifying the target string also resets the search position.</p>

<p>You can intermix <code>m//g</code> matches with <code>m/\G.../g</code>, where <code>\G</code> is a zero-width assertion that matches the exact position where the previous <code>m//g</code>, if any, left off. The <code>\G</code> assertion is not supported without the <code>/g</code> modifier; currently, without <code>/g</code>, <code>\G</code> behaves just like <code>\A</code>, but that&#39;s accidental and may change in the future.</p>

<p>Examples:</p>

<pre><code>    # list context
    ($one,$five,$fifteen) = (`uptime` =~ /(\d+\.\d+)/g);

    # scalar context
    $/ = &quot;&quot;; $* = 1;  # $* deprecated in modern perls
    while (defined($paragraph = &lt;&gt;)) {
	while ($paragraph =~ /[a-z][&#39;&quot;)]*[.!?]+[&#39;&quot;)]*\s/g) {
	    $sentences++;
	}
    }
    print &quot;$sentences\n&quot;;

    # using m//gc with \G
    $_ = &quot;ppooqppqq&quot;;
    while ($i++ &lt; 2) {
        print &quot;1: &#39;&quot;;
        print $1 while /(o)/gc; print &quot;&#39;, pos=&quot;, pos, &quot;\n&quot;;
        print &quot;2: &#39;&quot;;
        print $1 if /\G(q)/gc;  print &quot;&#39;, pos=&quot;, pos, &quot;\n&quot;;
        print &quot;3: &#39;&quot;;
        print $1 while /(p)/gc; print &quot;&#39;, pos=&quot;, pos, &quot;\n&quot;;
    }</code></pre>

<p>The last example should print:</p>

<pre><code class="plaintext">1: &#39;oo&#39;, pos=4
2: &#39;q&#39;, pos=5
3: &#39;pp&#39;, pos=7
1: &#39;&#39;, pos=7
2: &#39;q&#39;, pos=8
3: &#39;&#39;, pos=8</code></pre>

<p>A useful idiom for <code>lex</code>-like scanners is <code>/\G.../gc</code>. You can combine several regexps like this to process a string part-by-part, doing different actions depending on which regexp matched. Each regexp tries to match where the previous one leaves off.</p>

<pre><code>$_ = &lt;&lt;&#39;EOL&#39;;
     $url = new URI::URL &quot;http://www/&quot;;   die if $url eq &quot;xXx&quot;;
EOL
LOOP:
   {
     print(&quot; digits&quot;),		redo LOOP if /\G\d+\b[,.;]?\s*/gc;
     print(&quot; lowercase&quot;),	redo LOOP if /\G[a-z]+\b[,.;]?\s*/gc;
     print(&quot; UPPERCASE&quot;),	redo LOOP if /\G[A-Z]+\b[,.;]?\s*/gc;
     print(&quot; Capitalized&quot;),	redo LOOP if /\G[A-Z][a-z]+\b[,.;]?\s*/gc;
     print(&quot; MiXeD&quot;),		redo LOOP if /\G[A-Za-z]+\b[,.;]?\s*/gc;
     print(&quot; alphanumeric&quot;),	redo LOOP if /\G[A-Za-z0-9]+\b[,.;]?\s*/gc;
     print(&quot; line-noise&quot;),	redo LOOP if /\G[^A-Za-z0-9]+/gc;
     print &quot;. That&#39;s all!\n&quot;;
   }</code></pre>

<p>Here is the output (split into several lines):</p>

<pre><code class="plaintext">line-noise lowercase line-noise lowercase UPPERCASE line-noise
UPPERCASE line-noise lowercase line-noise lowercase line-noise
lowercase lowercase line-noise lowercase lowercase line-noise
MiXeD line-noise. That&#39;s all!</code></pre>

</dd>
<dt id="q/STRING/"><a class="permalink" href="#q/STRING/">#</a><a id="q"></a><a id="q-STRING"></a>q/STRING/</dt>
<dd>

</dd>
<dt id="&#39;STRING&#39;"><a class="permalink" href="#&#39;STRING&#39;">#</a><a id="STRING"></a><code>&#39;STRING&#39;</code></dt>
<dd>

<p>A single-quoted, literal string. A backslash represents a backslash unless followed by the delimiter or another backslash, in which case the delimiter or backslash is interpolated.</p>

<pre><code>$foo = q!I said, &quot;You said, &#39;She said it.&#39;&quot;!;
$bar = q(&#39;This is it.&#39;);
$baz = &#39;\n&#39;;		# a two-character string</code></pre>

</dd>
<dt id="qq/STRING/"><a class="permalink" href="#qq/STRING/">#</a><a id="qq"></a><a id="qq-STRING"></a>qq/STRING/</dt>
<dd>

</dd>
<dt id="&quot;STRING&quot;"><a class="permalink" href="#%22STRING%22">#</a><a id="STRING1"></a>&quot;STRING&quot;</dt>
<dd>

<p>A double-quoted, interpolated string.</p>

<pre><code>    $_ .= qq
     (*** The previous line contains the naughty word &quot;$1&quot;.\n)
		if /(tcl|rexx|python)/;      # :-)
    $baz = &quot;\n&quot;;		# a one-character string</code></pre>

</dd>
<dt id="qr/STRING/imosx"><a class="permalink" href="#qr/STRING/imosx">#</a><a id="qr"></a><a id="qr-STRING-imosx"></a>qr/STRING/imosx</dt>
<dd>

<p>A string which is (possibly) interpolated and then compiled as a regular expression. The result may be used as a pattern in a match</p>

<pre><code>$re = qr/$pattern/;
$string =~ /foo${re}bar/;	# can be interpolated in other patterns
$string =~ $re;		# or used standalone</code></pre>

<p>Options are:</p>

<pre><code class="plaintext">i	Do case-insensitive pattern matching.
m	Treat string as multiple lines.
o	Compile pattern only once.
s	Treat string as single line.
x	Use extended regular expressions.</code></pre>

<p>The benefit from this is that the pattern is precompiled into an internal representation, and does not need to be recompiled every time a match is attempted. This makes it very efficient to do something like:</p>

<pre><code>    foreach $pattern (@pattern_list) {
	my $re = qr/$pattern/;
	foreach $line (@lines) {
	    if($line =~ /$re/) {
		do_something($line);
	    }
	}
    }</code></pre>

<p>See <a href="perlre.html">perlre</a> for additional information on valid syntax for STRING, and for a detailed look at the semantics of regular expressions.</p>

</dd>
<dt id="qx/STRING/"><a class="permalink" href="#qx/STRING/">#</a><a id="qx"></a><a id="qx-STRING"></a>qx/STRING/</dt>
<dd>

</dd>
<dt id="`STRING`"><a class="permalink" href="#%60STRING%60">#</a><a id="STRING2"></a>`STRING`</dt>
<dd>

<p>A string which is (possibly) interpolated and then executed as a system command with <code>/bin/sh</code> or its equivalent. Shell wildcards, pipes, and redirections will be honored. The collected standard output of the command is returned; standard error is unaffected. In scalar context, it comes back as a single (potentially multi-line) string. In list context, returns a list of lines (however you&#39;ve defined lines with $/ or $INPUT_RECORD_SEPARATOR).</p>

<p>Because backticks do not affect standard error, use shell file descriptor syntax (assuming the shell supports this) if you care to address this. To capture a command&#39;s STDERR and STDOUT together:</p>

<pre><code>$output = `cmd 2&gt;&amp;1`;</code></pre>

<p>To capture a command&#39;s STDOUT but discard its STDERR:</p>

<pre><code>$output = `cmd 2&gt;/dev/null`;</code></pre>

<p>To capture a command&#39;s STDERR but discard its STDOUT (ordering is important here):</p>

<pre><code>$output = `cmd 2&gt;&amp;1 1&gt;/dev/null`;</code></pre>

<p>To exchange a command&#39;s STDOUT and STDERR in order to capture the STDERR but leave its STDOUT to come out the old STDERR:</p>

<pre><code>$output = `cmd 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;-`;</code></pre>

<p>To read both a command&#39;s STDOUT and its STDERR separately, it&#39;s easiest and safest to redirect them separately to files, and then read from those files when the program is done:</p>

<pre><code>system(&quot;program args 1&gt;/tmp/program.stdout 2&gt;/tmp/program.stderr&quot;);</code></pre>

<p>Using single-quote as a delimiter protects the command from Perl&#39;s double-quote interpolation, passing it on to the shell instead:</p>

<pre><code>$perl_info  = qx(ps $$);            # that&#39;s Perl&#39;s $$
$shell_info = qx&#39;ps $$&#39;;            # that&#39;s the new shell&#39;s $$</code></pre>

<p>Note that how the string gets evaluated is entirely subject to the command interpreter on your system. On most platforms, you will have to protect shell metacharacters if you want them treated literally. This is in practice difficult to do, as it&#39;s unclear how to escape which characters. See <a href="perlsec.html">perlsec</a> for a clean and safe example of a manual fork() and exec() to emulate backticks safely.</p>

<p>On some platforms (notably DOS-like ones), the shell may not be capable of dealing with multiline commands, so putting newlines in the string may not get you what you want. You may be able to evaluate multiple commands in a single line by separating them with the command separator character, if your shell supports that (e.g. <code>;</code> on many Unix shells; <code>&amp;</code> on the Windows NT <code>cmd</code> shell).</p>

<p>Beware that some command shells may place restrictions on the length of the command line. You must ensure your strings don&#39;t exceed this limit after any necessary interpolations. See the platform-specific release notes for more details about your particular environment.</p>

<p>Using this operator can lead to programs that are difficult to port, because the shell commands called vary between systems, and may in fact not be present at all. As one example, the <code>type</code> command under the POSIX shell is very different from the <code>type</code> command under DOS. That doesn&#39;t mean you should go out of your way to avoid backticks when they&#39;re the right way to get something done. Perl was made to be a glue language, and one of the things it glues together is commands. Just understand what you&#39;re getting yourself into.</p>

<p>See <a href="https://metacpan.org/pod/%2522I#O-Operators%22">&quot;O Operators&quot;&quot; in &quot;I</a> for more discussion.</p>

</dd>
<dt id="qw/STRING/"><a class="permalink" href="#qw/STRING/">#</a><a id="qw"></a><a id="qw-STRING"></a>qw/STRING/</dt>
<dd>

<p>Returns a list of the words extracted out of STRING, using embedded whitespace as the word delimiters. It is exactly equivalent to</p>

<pre><code>split(&#39; &#39;, q/STRING/);</code></pre>

<p>This equivalency means that if used in scalar context, you&#39;ll get split&#39;s (unfortunate) scalar context behavior, complete with mysterious warnings.</p>

<p>Some frequently seen examples:</p>

<pre><code>use POSIX qw( setlocale localeconv )
@EXPORT = qw( foo bar baz );</code></pre>

<p>A common mistake is to try to separate the words with comma or to put comments into a multi-line <code>qw</code>-string. For this reason the <code>-w</code> switch produce warnings if the STRING contains the &quot;,&quot; or the &quot;#&quot; character.</p>

</dd>
<dt id="s/PATTERN/REPLACEMENT/egimosx"><a class="permalink" href="#s/PATTERN/REPLACEMENT/egimosx">#</a><a id="s"></a><a id="s-PATTERN-REPLACEMENT-egimosx"></a>s/PATTERN/REPLACEMENT/egimosx</dt>
<dd>

<p>Searches a string for a pattern, and if found, replaces that pattern with the replacement text and returns the number of substitutions made. Otherwise it returns false (specifically, the empty string).</p>

<p>If no string is specified via the <code>=~</code> or <code>!~</code> operator, the <code>$_</code> variable is searched and modified. (The string specified with <code>=~</code> must be scalar variable, an array element, a hash element, or an assignment to one of those, i.e., an lvalue.)</p>

<p>If the delimiter chosen is single quote, no variable interpolation is done on either the PATTERN or the REPLACEMENT. Otherwise, if the PATTERN contains a $ that looks like a variable rather than an end-of-string test, the variable will be interpolated into the pattern at run-time. If you want the pattern compiled only once the first time the variable is interpolated, use the <code>/o</code> option. If the pattern evaluates to the empty string, the last successfully executed regular expression is used instead. See <a href="perlre.html">perlre</a> for further explanation on these. See <a href="perllocale.html">perllocale</a> for discussion of additional considerations that apply when <code>use locale</code> is in effect.</p>

<p>Options are:</p>

<pre><code class="plaintext">e	Evaluate the right side as an expression.
g	Replace globally, i.e., all occurrences.
i	Do case-insensitive pattern matching.
m	Treat string as multiple lines.
o	Compile pattern only once.
s	Treat string as single line.
x	Use extended regular expressions.</code></pre>

<p>Any non-alphanumeric, non-whitespace delimiter may replace the slashes. If single quotes are used, no interpretation is done on the replacement string (the <code>/e</code> modifier overrides this, however). Unlike Perl 4, Perl 5 treats backticks as normal delimiters; the replacement text is not evaluated as a command. If the PATTERN is delimited by bracketing quotes, the REPLACEMENT has its own pair of quotes, which may or may not be bracketing quotes, e.g., <code>s(foo)(bar)</code> or <code>s&lt;foo&gt;/bar/</code>. A <code>/e</code> will cause the replacement portion to be interpreted as a full-fledged Perl expression and eval()ed right then and there. It is, however, syntax checked at compile-time.</p>

<p>Examples:</p>

<pre><code>    s/\bgreen\b/mauve/g;		# don&#39;t change wintergreen

    $path =~ s|/usr/bin|/usr/local/bin|;

    s/Login: $foo/Login: $bar/; # run-time pattern

    ($foo = $bar) =~ s/this/that/;	# copy first, then change

    $count = ($paragraph =~ s/Mister\b/Mr./g);  # get change-count

    $_ = &#39;abc123xyz&#39;;
    s/\d+/$&amp;*2/e;		# yields &#39;abc246xyz&#39;
    s/\d+/sprintf(&quot;%5d&quot;,$&amp;)/e;	# yields &#39;abc  246xyz&#39;
    s/\w/$&amp; x 2/eg;		# yields &#39;aabbcc  224466xxyyzz&#39;

    s/%(.)/$percent{$1}/g;	# change percent escapes; no /e
    s/%(.)/$percent{$1} || $&amp;/ge;	# expr now, so /e
    s/^=(\w+)/&amp;pod($1)/ge;	# use function call

    # expand variables in $_, but dynamics only, using
    # symbolic dereferencing
    s/\$(\w+)/${$1}/g;

    # /e&#39;s can even nest;  this will expand
    # any embedded scalar variable (including lexicals) in $_
    s/(\$\w+)/$1/eeg;

    # Delete (most) C comments.
    $program =~ s {
	/\*	# Match the opening delimiter.
	.*?	# Match a minimal number of characters.
	\*/	# Match the closing delimiter.
    } []gsx;

    s/^\s*(.*?)\s*$/$1/;	# trim white space in $_, expensively

    for ($variable) {		# trim white space in $variable, cheap
	s/^\s+//;
	s/\s+$//;
    }

    s/([^ ]*) *([^ ]*)/$2 $1/;	# reverse 1st two fields</code></pre>

<p>Note the use of $ instead of \ in the last example. Unlike <b>sed</b>, we use the \&lt;<i>digit</i>&gt; form in only the left hand side. Anywhere else it&#39;s $&lt;<i>digit</i>&gt;.</p>

<p>Occasionally, you can&#39;t use just a <code>/g</code> to get all the changes to occur. Here are two common cases:</p>

<pre><code># put commas in the right places in an integer
1 while s/(.*\d)(\d\d\d)/$1,$2/g;      # perl4
1 while s/(\d)(\d\d\d)(?!\d)/$1,$2/g;  # perl5

# expand tabs to 8-column spacing
1 while s/\t+/&#39; &#39; x (length($&amp;)*8 - length($`)%8)/e;</code></pre>

</dd>
<dt id="tr/SEARCHLIST/REPLACEMENTLIST/cds"><a class="permalink" href="#tr/SEARCHLIST/REPLACEMENTLIST/cds">#</a><a id="tr"></a><a id="tr-SEARCHLIST-REPLACEMENTLIST-cds"></a>tr/SEARCHLIST/REPLACEMENTLIST/cds</dt>
<dd>

</dd>
<dt id="y/SEARCHLIST/REPLACEMENTLIST/cds"><a class="permalink" href="#y/SEARCHLIST/REPLACEMENTLIST/cds">#</a><a id="y"></a><a id="y-SEARCHLIST-REPLACEMENTLIST-cds"></a>y/SEARCHLIST/REPLACEMENTLIST/cds</dt>
<dd>

<p>Transliterates all occurrences of the characters found in the search list with the corresponding character in the replacement list. It returns the number of characters replaced or deleted. If no string is specified via the =~ or !~ operator, the $_ string is transliterated. (The string specified with =~ must be a scalar variable, an array element, a hash element, or an assignment to one of those, i.e., an lvalue.) A character range may be specified with a hyphen, so <code>tr/A-J/0-9/</code> does the same replacement as <code>tr/ACEGIBDFHJ/0246813579/</code>. For <b>sed</b> devotees, <code>y</code> is provided as a synonym for <code>tr</code>. If the SEARCHLIST is delimited by bracketing quotes, the REPLACEMENTLIST has its own pair of quotes, which may or may not be bracketing quotes, e.g., <code>tr[A-Z][a-z]</code> or <code>tr(+\-*/)/ABCD/</code>.</p>

<p>Options:</p>

<pre><code class="plaintext">c	Complement the SEARCHLIST.
d	Delete found but unreplaced characters.
s	Squash duplicate replaced characters.</code></pre>

<p>If the <code>/c</code> modifier is specified, the SEARCHLIST character set is complemented. If the <code>/d</code> modifier is specified, any characters specified by SEARCHLIST not found in REPLACEMENTLIST are deleted. (Note that this is slightly more flexible than the behavior of some <b>tr</b> programs, which delete anything they find in the SEARCHLIST, period.) If the <code>/s</code> modifier is specified, sequences of characters that were transliterated to the same character are squashed down to a single instance of the character.</p>

<p>If the <code>/d</code> modifier is used, the REPLACEMENTLIST is always interpreted exactly as specified. Otherwise, if the REPLACEMENTLIST is shorter than the SEARCHLIST, the final character is replicated till it is long enough. If the REPLACEMENTLIST is empty, the SEARCHLIST is replicated. This latter is useful for counting characters in a class or for squashing character sequences in a class.</p>

<p>Examples:</p>

<pre><code>$ARGV[1] =~ tr/A-Z/a-z/;	# canonicalize to lower case

$cnt = tr/*/*/;		# count the stars in $_

$cnt = $sky =~ tr/*/*/;	# count the stars in $sky

$cnt = tr/0-9//;		# count the digits in $_

tr/a-zA-Z//s;		# bookkeeper -&gt; bokeper

($HOST = $host) =~ tr/a-z/A-Z/;

tr/a-zA-Z/ /cs;		# change non-alphas to single space

tr [\200-\377]
   [\000-\177];		# delete 8th bit</code></pre>

<p>If multiple transliterations are given for a character, only the first one is used:</p>

<pre><code class="plaintext">tr/AAA/XYZ/</code></pre>

<p>will transliterate any A to X.</p>

<p>Note that because the transliteration table is built at compile time, neither the SEARCHLIST nor the REPLACEMENTLIST are subjected to double quote interpolation. That means that if you want to use variables, you must use an eval():</p>

<pre><code>eval &quot;tr/$oldlist/$newlist/&quot;;
die $@ if $@;

eval &quot;tr/$oldlist/$newlist/, 1&quot; or die $@;</code></pre>

</dd>
</dl>

<h2 id="Gory-details-of-parsing-quoted-constructs"><a class="permalink" href="#Gory-details-of-parsing-quoted-constructs">#</a><a id="Gory"></a>Gory details of parsing quoted constructs</h2>

<p>When presented with something which may have several different interpretations, Perl uses the principle <b>DWIM</b> (expanded to Do What I Mean - not what I wrote) to pick up the most probable interpretation of the source. This strategy is so successful that Perl users usually do not suspect ambivalence of what they write. However, time to time Perl&#39;s ideas differ from what the author meant.</p>

<p>The target of this section is to clarify the Perl&#39;s way of interpreting quoted constructs. The most frequent reason one may have to want to know the details discussed in this section is hairy regular expressions. However, the first steps of parsing are the same for all Perl quoting operators, so here they are discussed together.</p>

<p>Some of the passes discussed below are performed concurrently, but as far as results are the same, we consider them one-by-one. For different quoting constructs Perl performs different number of passes, from one to five, but they are always performed in the same order.</p>

<dl>

<dt id="Finding-the-end"><a class="permalink" href="#Finding-the-end">#</a><a id="Finding"></a>Finding the end</dt>
<dd>

<p>First pass is finding the end of the quoted construct, be it multichar ender <code>&quot;\nEOF\n&quot;</code> of <code>&lt;&lt;EOF</code> construct, <code>/</code> which terminates <code>qq/</code> construct, <code>]</code> which terminates <code>qq[</code> construct, or <code>&gt;</code> which terminates a fileglob started with <code>&lt;</code>.</p>

<p>When searching for multichar construct no skipping is performed. When searching for one-char non-matching delimiter, such as <code>/</code>, combinations <code>\\</code> and <code>\/</code> are skipped. When searching for one-char matching delimiter, such as <code>]</code>, combinations <code>\\</code>, <code>\]</code> and <code>\[</code> are skipped, and nested <code>[</code>, <code>]</code> are skipped as well.</p>

<p>For 3-parts constructs, <code>s///</code> etc. the search is repeated once more.</p>

<p>During this search no attention is paid to the semantic of the construct, thus</p>

<pre><code>&quot;$hash{&quot;$foo/$bar&quot;}&quot;</code></pre>

<p>or</p>

<pre><code class="plaintext">m/ 
  bar	#  This is not a comment, this slash / terminated m//!
 /x</code></pre>

<p>do not form legal quoted expressions. Note that since the slash which terminated <code>m//</code> was followed by a <code>SPACE</code>, this is not <code>m//x</code>, thus <code>#</code> was interpreted as a literal <code>#</code>.</p>

</dd>
<dt id="Removal-of-backslashes-before-delimiters"><a class="permalink" href="#Removal-of-backslashes-before-delimiters">#</a><a id="Removal"></a>Removal of backslashes before delimiters</dt>
<dd>

<p>During the second pass the text between the starting delimiter and the ending delimiter is copied to a safe location, and the <code>\</code> is removed from combinations consisting of <code>\</code> and delimiter(s) (both starting and ending delimiter if they differ).</p>

<p>The removal does not happen for multi-char delimiters.</p>

<p>Note that the combination <code>\\</code> is left as it was!</p>

<p>Starting from this step no information about the delimiter(s) is used in the parsing.</p>

</dd>
<dt id="Interpolation"><a class="permalink" href="#Interpolation">#</a>Interpolation</dt>
<dd>

<p>Next step is interpolation in the obtained delimiter-independent text. There are four different cases.</p>

<dl>

<dt id="&lt;&lt;&#39;EOF&#39;,-m&#39;&#39;,-s&#39;&#39;&#39;,-tr///,-y///"><a class="permalink" href="#%3C%3C&#39;EOF&#39;,-m&#39;&#39;,-s&#39;&#39;&#39;,-tr///,-y///">#</a><a id="EOF-m-s-tr-y"></a><code>&lt;&lt;&#39;EOF&#39;</code>, <code>m&#39;&#39;</code>, <code>s&#39;&#39;&#39;</code>, <code>tr///</code>, <code>y///</code></dt>
<dd>

<p>No interpolation is performed.</p>

</dd>
<dt id="&#39;&#39;,-q//"><a class="permalink" href="#&#39;&#39;,-q//">#</a><a id="q1"></a><code>&#39;&#39;</code>, <code>q//</code></dt>
<dd>

<p>The only interpolation is removal of <code>\</code> from pairs <code>\\</code>.</p>

</dd>
<dt id="&quot;&quot;,-``,-qq//,-qx//,-&lt;file*glob&gt;"><a class="permalink" href="#%22%22,-%60%60,-qq//,-qx//,-%3Cfile*glob%3E">#</a><a id="qq-qx-file-glob"></a><code>&quot;&quot;</code>, <code>``</code>, <code>qq//</code>, <code>qx//</code>, <code>&lt;file*glob&gt;</code></dt>
<dd>

<p><code>\Q</code>, <code>\U</code>, <code>\u</code>, <code>\L</code>, <code>\l</code> (possibly paired with <code>\E</code>) are converted to corresponding Perl constructs, thus <code>&quot;$foo\Qbaz$bar&quot;</code> is converted to</p>

<pre><code>$foo . (quotemeta(&quot;baz&quot; . $bar));</code></pre>

<p>Other combinations of <code>\</code> with following chars are substituted with appropriate expansions.</p>

<p>Interpolated scalars and arrays are converted to <code>join</code> and <code>.</code> Perl constructs, thus <code>&quot;&#39;@arr&#39;&quot;</code> becomes</p>

<pre><code>&quot;&#39;&quot; . (join $&quot;, @arr) . &quot;&#39;&quot;;</code></pre>

<p>Since all three above steps are performed simultaneously left-to-right, the is no way to insert a literal <code>$</code> or <code>@</code> inside <code>\Q\E</code> pair: it cannot be protected by <code>\</code>, since any <code>\</code> (except in <code>\E</code>) is interpreted as a literal inside <code>\Q\E</code>, and any <code>$</code> is interpreted as starting an interpolated scalar.</p>

<p>Note also that the interpolating code needs to make decision where the interpolated scalar ends, say, whether <code>&quot;a $b -&gt; {c}&quot;</code> means</p>

<pre><code>&quot;a &quot; . $b . &quot; -&gt; {c}&quot;;</code></pre>

<p>or</p>

<pre><code>&quot;a &quot; . $b -&gt; {c};</code></pre>

<p>Most the time the decision is to take the longest possible text which does not include spaces between components and contains matching braces/brackets.</p>

</dd>
<dt id="?RE?,-/RE/,-m/RE/,-s/RE/foo/,"><a class="permalink" href="#?RE?,-/RE/,-m/RE/,-s/RE/foo/,">#</a><a id="RE-RE-m-RE-s-RE-foo"></a><code>?RE?</code>, <code>/RE/</code>, <code>m/RE/</code>, <code>s/RE/foo/</code>,</dt>
<dd>

<p>Processing of <code>\Q</code>, <code>\U</code>, <code>\u</code>, <code>\L</code>, <code>\l</code> and interpolation happens (almost) as with <code>qq//</code> constructs, but <i>the substitution of <code>\</code> followed by other chars is not performed</i>! Moreover, inside <code>(?{BLOCK})</code> no processing is performed at all.</p>

<p>Interpolation has several quirks: <code>$|</code>, <code>$(</code> and <code>$)</code> are not interpolated, and constructs <code>$var[SOMETHING]</code> are <i>voted</i> (by several different estimators) to be an array element or <code>$var</code> followed by a RE alternative. This is the place where the notation <code>${arr[$bar]}</code> comes handy: <code>/${arr[0-9]}/</code> is interpreted as an array element <code>-9</code>, not as a regular expression from variable <code>$arr</code> followed by a digit, which is the interpretation of <code>/$arr[0-9]/</code>.</p>

<p>Note that absence of processing of <code>\\</code> creates specific restrictions on the post-processed text: if the delimiter is <code>/</code>, one cannot get the combination <code>\/</code> into the result of this step: <code>/</code> will finish the regular expression, <code>\/</code> will be stripped to <code>/</code> on the previous step, and <code>\\/</code> will be left as is. Since <code>/</code> is equivalent to <code>\/</code> inside a regular expression, this does not matter unless the delimiter is special character for the RE engine, as in <code>s*foo*bar*</code>, <code>m[foo]</code>, or <code>?foo?</code>.</p>

</dd>
</dl>

<p>This step is the last one for all the constructs except regular expressions, which are processed further.</p>

</dd>
<dt id="Interpolation-of-regular-expressions"><a class="permalink" href="#Interpolation-of-regular-expressions">#</a><a id="Interpolation1"></a>Interpolation of regular expressions</dt>
<dd>

<p>All the previous steps were performed during the compilation of Perl code, this one happens in run time (though it may be optimized to be calculated at compile time if appropriate). After all the preprocessing performed above (and possibly after evaluation if catenation, joining, up/down-casing and <code>quotemeta()</code>ing are involved) the resulting <i>string</i> is passed to RE engine for compilation.</p>

<p>Whatever happens in the RE engine is better be discussed in <a href="perlre.html">perlre</a>, but for the sake of continuity let us do it here.</p>

<p>This is the first step where presence of the <code>//x</code> switch is relevant. The RE engine scans the string left-to-right, and converts it to a finite automaton.</p>

<p>Backslashed chars are either substituted by corresponding literal strings, or generate special nodes of the finite automaton. Characters which are special to the RE engine generate corresponding nodes. <code>(?#...)</code> comments are ignored. All the rest is either converted to literal strings to match, or is ignored (as is whitespace and <code>#</code>-style comments if <code>//x</code> is present).</p>

<p>Note that the parsing of the construct <code>[...]</code> is performed using absolutely different rules than the rest of the regular expression. Similarly, the <code>(?{...})</code> is only checked for matching braces.</p>

</dd>
<dt id="Optimization-of-regular-expressions"><a class="permalink" href="#Optimization-of-regular-expressions">#</a><a id="Optimization"></a>Optimization of regular expressions</dt>
<dd>

<p>This step is listed for completeness only. Since it does not change semantics, details of this step are not documented and are subject to change.</p>

</dd>
</dl>

<h2 id="I/O-Operators"><a class="permalink" href="#I/O-Operators">#</a><a id="I"></a><a id="I-O-Operators"></a>I/O Operators</h2>

<p>There are several I/O operators you should know about. A string enclosed by backticks (grave accents) first undergoes variable substitution just like a double quoted string. It is then interpreted as a command, and the output of that command is the value of the pseudo-literal, like in a shell. In scalar context, a single string consisting of all the output is returned. In list context, a list of values is returned, one for each line of output. (You can set <code>$/</code> to use a different line terminator.) The command is executed each time the pseudo-literal is evaluated. The status value of the command is returned in <code>$?</code> (see <a href="perlvar.html">perlvar</a> for the interpretation of <code>$?</code>). Unlike in <b>csh</b>, no translation is done on the return data--newlines remain newlines. Unlike in any of the shells, single quotes do not hide variable names in the command from interpretation. To pass a $ through to the shell you need to hide it with a backslash. The generalized form of backticks is <code>qx//</code>. (Because backticks always undergo shell expansion as well, see <a href="perlsec.html">perlsec</a> for security concerns.)</p>

<p>Evaluating a filehandle in angle brackets yields the next line from that file (newline, if any, included), or <code>undef</code> at end of file. Ordinarily you must assign that value to a variable, but there is one situation where an automatic assignment happens. <i>If and ONLY if</i> the input symbol is the only thing inside the conditional of a <code>while</code> or <code>for(;;)</code> loop, the value is automatically assigned to the variable <code>$_</code>. In these loop constructs, the assigned value (whether assignment is automatic or explicit) is then tested to see if it is defined. The defined test avoids problems where line has a string value that would be treated as false by perl e.g. &quot;&quot; or &quot;0&quot; with no trailing newline. (This may seem like an odd thing to you, but you&#39;ll use the construct in almost every Perl script you write.) Anyway, the following lines are equivalent to each other:</p>

<pre><code>while (defined($_ = &lt;STDIN&gt;)) { print; }
while ($_ = &lt;STDIN&gt;) { print; }
while (&lt;STDIN&gt;) { print; }
for (;&lt;STDIN&gt;;) { print; }
print while defined($_ = &lt;STDIN&gt;);
print while ($_ = &lt;STDIN&gt;);
print while &lt;STDIN&gt;;</code></pre>

<p>and this also behaves similarly, but avoids the use of $_ :</p>

<pre><code>while (my $line = &lt;STDIN&gt;) { print $line }    </code></pre>

<p>If you really mean such values to terminate the loop they should be tested for explicitly:</p>

<pre><code>while (($_ = &lt;STDIN&gt;) ne &#39;0&#39;) { ... }
while (&lt;STDIN&gt;) { last unless $_; ... }</code></pre>

<p>In other boolean contexts, <code>&lt;<i>filehandle</i>&gt;</code> without explicit <code>defined</code> test or comparison will solicit a warning if <code>-w</code> is in effect.</p>

<p>The filehandles STDIN, STDOUT, and STDERR are predefined. (The filehandles <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> will also work except in packages, where they would be interpreted as local identifiers rather than global.) Additional filehandles may be created with the open() function. See <a href="perlfunc.html#open()">&quot;open()&quot; in perlfunc</a> for details on this.</p>

<p>If a &lt;FILEHANDLE&gt; is used in a context that is looking for a list, a list consisting of all the input lines is returned, one line per list element. It&#39;s easy to make a <i>LARGE</i> data space this way, so use with care.</p>

<p>The null filehandle &lt;&gt; is special and can be used to emulate the behavior of <b>sed</b> and <b>awk</b>. Input from &lt;&gt; comes either from standard input, or from each file listed on the command line. Here&#39;s how it works: the first time &lt;&gt; is evaluated, the @ARGV array is checked, and if it is empty, <code>$ARGV[0]</code> is set to &quot;-&quot;, which when opened gives you standard input. The @ARGV array is then processed as a list of filenames. The loop</p>

<pre><code>    while (&lt;&gt;) {
	...			# code for each line
    }</code></pre>

<p>is equivalent to the following Perl-like pseudo code:</p>

<pre><code>    unshift(@ARGV, &#39;-&#39;) unless @ARGV;
    while ($ARGV = shift) {
	open(ARGV, $ARGV);
	while (&lt;ARGV&gt;) {
	    ...		# code for each line
	}
    }</code></pre>

<p>except that it isn&#39;t so cumbersome to say, and will actually work. It really does shift array @ARGV and put the current filename into variable $ARGV. It also uses filehandle <i>ARGV</i> internally--&lt;&gt; is just a synonym for &lt;ARGV&gt;, which is magical. (The pseudo code above doesn&#39;t work because it treats &lt;ARGV&gt; as non-magical.)</p>

<p>You can modify @ARGV before the first &lt;&gt; as long as the array ends up containing the list of filenames you really want. Line numbers (<code>$.</code>) continue as if the input were one big happy file. (But see example under <code>eof</code> for how to reset line numbers on each file.)</p>

<p>If you want to set @ARGV to your own list of files, go right ahead. This sets @ARGV to all plain text files if no @ARGV was given:</p>

<pre><code>@ARGV = grep { -f &amp;&amp; -T } glob(&#39;*&#39;) unless @ARGV;</code></pre>

<p>You can even set them to pipe commands. For example, this automatically filters compressed arguments through <b>gzip</b>:</p>

<pre><code>@ARGV = map { /\.(gz|Z)$/ ? &quot;gzip -dc &lt; $_ |&quot; : $_ } @ARGV;</code></pre>

<p>If you want to pass switches into your script, you can use one of the Getopts modules or put a loop on the front like this:</p>

<pre><code>    while ($_ = $ARGV[0], /^-/) {
	shift;
        last if /^--$/;
	if (/^-D(.*)/) { $debug = $1 }
	if (/^-v/)     { $verbose++  }
	# ...		# other switches
    }

    while (&lt;&gt;) {
	# ...		# code for each line
    }</code></pre>

<p>The &lt;&gt; symbol will return <code>undef</code> for end-of-file only once. If you call it again after this it will assume you are processing another @ARGV list, and if you haven&#39;t set @ARGV, will input from STDIN.</p>

<p>If the string inside the angle brackets is a reference to a scalar variable (e.g., &lt;$foo&gt;), then that variable contains the name of the filehandle to input from, or its typeglob, or a reference to the same. For example:</p>

<pre><code>$fh = \*STDIN;
$line = &lt;$fh&gt;;</code></pre>

<p>If what&#39;s within the angle brackets is neither a filehandle nor a simple scalar variable containing a filehandle name, typeglob, or typeglob reference, it is interpreted as a filename pattern to be globbed, and either a list of filenames or the next filename in the list is returned, depending on context. This distinction is determined on syntactic grounds alone. That means <code>&lt;$x&gt;</code> is always a readline from an indirect handle, but <code>&lt;$hash{key}&gt;</code> is always a glob. That&#39;s because $x is a simple scalar variable, but <code>$hash{key}</code> is not--it&#39;s a hash element.</p>

<p>One level of double-quote interpretation is done first, but you can&#39;t say <code>&lt;$foo&gt;</code> because that&#39;s an indirect filehandle as explained in the previous paragraph. (In older versions of Perl, programmers would insert curly brackets to force interpretation as a filename glob: <code>&lt;${foo}&gt;</code>. These days, it&#39;s considered cleaner to call the internal function directly as <code>glob($foo)</code>, which is probably the right way to have done it in the first place.) Example:</p>

<pre><code>    while (&lt;*.c&gt;) {
	chmod 0644, $_;
    }</code></pre>

<p>is equivalent to</p>

<pre><code>    open(FOO, &quot;echo *.c | tr -s &#39; \t\r\f&#39; &#39;\\012\\012\\012\\012&#39;|&quot;);
    while (&lt;FOO&gt;) {
	chop;
	chmod 0644, $_;
    }</code></pre>

<p>In fact, it&#39;s currently implemented that way. (Which means it will not work on filenames with spaces in them unless you have csh(1) on your machine.) Of course, the shortest way to do the above is:</p>

<pre><code>chmod 0644, &lt;*.c&gt;;</code></pre>

<p>Because globbing invokes a shell, it&#39;s often faster to call readdir() yourself and do your own grep() on the filenames. Furthermore, due to its current implementation of using a shell, the glob() routine may get &quot;Arg list too long&quot; errors (unless you&#39;ve installed tcsh(1L) as <i>/bin/csh</i>).</p>

<p>A glob evaluates its (embedded) argument only when it is starting a new list. All values must be read before it will start over. In a list context this isn&#39;t important, because you automatically get them all anyway. In scalar context, however, the operator returns the next value each time it is called, or a <code>undef</code> value if you&#39;ve just run out. As for filehandles an automatic <code>defined</code> is generated when the glob occurs in the test part of a <code>while</code> or <code>for</code> - because legal glob returns (e.g. a file called <i>0</i>) would otherwise terminate the loop. Again, <code>undef</code> is returned only once. So if you&#39;re expecting a single value from a glob, it is much better to say</p>

<pre><code>($file) = &lt;blurch*&gt;;</code></pre>

<p>than</p>

<pre><code>$file = &lt;blurch*&gt;;</code></pre>

<p>because the latter will alternate between returning a filename and returning FALSE.</p>

<p>It you&#39;re trying to do variable interpolation, it&#39;s definitely better to use the glob() function, because the older notation can cause people to become confused with the indirect filehandle notation.</p>

<pre><code>@files = glob(&quot;$dir/*.[ch]&quot;);
@files = glob($files[$i]);</code></pre>

<h2 id="Constant-Folding"><a class="permalink" href="#Constant-Folding">#</a><a id="Constant"></a>Constant Folding</h2>

<p>Like C, Perl does a certain amount of expression evaluation at compile time, whenever it determines that all arguments to an operator are static and have no side effects. In particular, string concatenation happens at compile time between literals that don&#39;t do variable substitution. Backslash interpretation also happens at compile time. You can say</p>

<pre><code class="plaintext">    &#39;Now is the time for all&#39; . &quot;\n&quot; .
	&#39;good men to come to.&#39;</code></pre>

<p>and this all reduces to one string internally. Likewise, if you say</p>

<pre><code>    foreach $file (@filenames) {
	if (-s $file &gt; 5 + 100 * 2**16) {  }
    }</code></pre>

<p>the compiler will precompute the number that expression represents so that the interpreter won&#39;t have to.</p>

<h2 id="Bitwise-String-Operators"><a class="permalink" href="#Bitwise-String-Operators">#</a><a id="Bitwise2"></a>Bitwise String Operators</h2>

<p>Bitstrings of any size may be manipulated by the bitwise operators (<code>~ | &amp; ^</code>).</p>

<p>If the operands to a binary bitwise op are strings of different sizes, <b>or</b> and <b>xor</b> ops will act as if the shorter operand had additional zero bits on the right, while the <b>and</b> op will act as if the longer operand were truncated to the length of the shorter.</p>

<pre><code># ASCII-based examples 
print &quot;j p \n&quot; ^ &quot; a h&quot;;        	# prints &quot;JAPH\n&quot;
print &quot;JA&quot; | &quot;  ph\n&quot;;          	# prints &quot;japh\n&quot;
print &quot;japh\nJunk&quot; &amp; &#39;_____&#39;;   	# prints &quot;JAPH\n&quot;;
print &#39;p N$&#39; ^ &quot; E&lt;H\n&quot;;		# prints &quot;Perl\n&quot;;</code></pre>

<p>If you are intending to manipulate bitstrings, you should be certain that you&#39;re supplying bitstrings: If an operand is a number, that will imply a <b>numeric</b> bitwise operation. You may explicitly show which type of operation you intend by using <code>&quot;&quot;</code> or <code>0+</code>, as in the examples below.</p>

<pre><code>$foo =  150  |  105 ;	# yields 255  (0x96 | 0x69 is 0xFF)
$foo = &#39;150&#39; |  105 ;	# yields 255
$foo =  150  | &#39;105&#39;;	# yields 255
$foo = &#39;150&#39; | &#39;105&#39;;	# yields string &#39;155&#39; (under ASCII)

$baz = 0+$foo &amp; 0+$bar;	# both ops explicitly numeric
$biz = &quot;$foo&quot; ^ &quot;$bar&quot;;	# both ops explicitly stringy</code></pre>

<h2 id="Integer-Arithmetic"><a class="permalink" href="#Integer-Arithmetic">#</a><a id="Integer"></a>Integer Arithmetic</h2>

<p>By default Perl assumes that it must do most of its arithmetic in floating point. But by saying</p>

<pre><code>use integer;</code></pre>

<p>you may tell the compiler that it&#39;s okay to use integer operations from here to the end of the enclosing BLOCK. An inner BLOCK may countermand this by saying</p>

<pre><code>no integer;</code></pre>

<p>which lasts until the end of that BLOCK.</p>

<p>The bitwise operators (&quot;&amp;&quot;, &quot;|&quot;, &quot;^&quot;, &quot;~&quot;, &quot;&lt;&lt;&quot;, and &quot;&gt;&gt;&quot;) always produce integral results. (But see also <a href="#Bitwise-String-Operators">&quot;Bitwise String Operators&quot;</a>.) However, <code>use integer</code> still has meaning for them. By default, their results are interpreted as unsigned integers. However, if <code>use integer</code> is in effect, their results are interpreted as signed integers. For example, <code>~0</code> usually evaluates to a large integral value. However, <code>use integer; ~0</code> is -1 on twos-complement machines.</p>

<h2 id="Floating-point-Arithmetic"><a class="permalink" href="#Floating-point-Arithmetic">#</a><a id="Floating"></a>Floating-point Arithmetic</h2>

<p>While <code>use integer</code> provides integer-only arithmetic, there is no similar ways to provide rounding or truncation at a certain number of decimal places. For rounding to a certain number of digits, sprintf() or printf() is usually the easiest route.</p>

<p>Floating-point numbers are only approximations to what a mathematician would call real numbers. There are infinitely more reals than floats, so some corners must be cut. For example:</p>

<pre><code>printf &quot;%.20g\n&quot;, 123456789123456789;
#        produces 123456789123456784</code></pre>

<p>Testing for exact equality of floating-point equality or inequality is not a good idea. Here&#39;s a (relatively expensive) work-around to compare whether two floating-point numbers are equal to a particular number of decimal places. See Knuth, volume II, for a more robust treatment of this topic.</p>

<pre><code>    sub fp_equal {
	my ($X, $Y, $POINTS) = @_;
	my ($tX, $tY);
	$tX = sprintf(&quot;%.${POINTS}g&quot;, $X);
	$tY = sprintf(&quot;%.${POINTS}g&quot;, $Y);
	return $tX eq $tY;
    }</code></pre>

<p>The POSIX module (part of the standard perl distribution) implements ceil(), floor(), and a number of other mathematical and trigonometric functions. The Math::Complex module (part of the standard perl distribution) defines a number of mathematical functions that can also work on real numbers. Math::Complex not as efficient as POSIX, but POSIX can&#39;t work with complex numbers.</p>

<p>Rounding in financial applications can have serious implications, and the rounding method used should be specified precisely. In these cases, it probably pays not to trust whichever system rounding is being used by Perl, but to instead implement the rounding function you need yourself.</p>

<h2 id="Bigger-Numbers"><a class="permalink" href="#Bigger-Numbers">#</a><a id="Bigger"></a>Bigger Numbers</h2>

<p>The standard Math::BigInt and Math::BigFloat modules provide variable precision arithmetic and overloaded operators. At the cost of some space and considerable speed, they avoid the normal pitfalls associated with limited-precision representations.</p>

<pre><code>use Math::BigInt;
$x = Math::BigInt-&gt;new(&#39;123456789123456789&#39;);
print $x * $x;

# prints +15241578780673678515622620750190521</code></pre>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/5.005_01/perlop by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:47 GMT -->
</html>
