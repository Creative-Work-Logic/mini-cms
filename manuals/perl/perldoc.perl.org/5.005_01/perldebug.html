<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/5.005_01/perldebug by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perldebug - Perl debugging - Perldoc Browser</title>
    <link rel="search" href="../opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="../perldebug.html">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="../css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html"><img src="../images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.005_01</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="../perldebug.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0/perldebug">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/perldebug">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/perldebug">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/perldebug">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/perldebug">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/perldebug">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/perldebug">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/perldebug">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/perldebug">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/perldebug">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/perldebug">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/perldebug">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/perldebug">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/perldebug">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/perldebug">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/perldebug">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/perldebug">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/perldebug">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/perldebug">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/perldebug">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/perldebug">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/perldebug">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/perldebug">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/perldebug">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/perldebug">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/perldebug">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/perldebug">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/perldebug">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/perldebug">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/perldebug">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/perldebug">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/perldebug">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/perldebug">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/perldebug">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/perldebug">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/perldebug">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/perldebug">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/perldebug">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/perldebug">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/perldebug">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/perldebug">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/perldebug">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/perldebug">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/perldebug">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/perldebug">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/perldebug">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/perldebug">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/perldebug">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/perldebug">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/perldebug">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/perldebug">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/perldebug">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.16.3/perldebug.html">5.16.3</a>
          <a class="dropdown-item" href="../5.16.2/perldebug.html">5.16.2</a>
          <a class="dropdown-item" href="../5.16.1/perldebug.html">5.16.1</a>
          <a class="dropdown-item" href="../5.16.0/perldebug.html">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.14.4/perldebug.html">5.14.4</a>
          <a class="dropdown-item" href="../5.14.3/perldebug.html">5.14.3</a>
          <a class="dropdown-item" href="../5.14.2/perldebug.html">5.14.2</a>
          <a class="dropdown-item" href="../5.14.1/perldebug.html">5.14.1</a>
          <a class="dropdown-item" href="../5.14.0/perldebug.html">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.12.5/perldebug.html">5.12.5</a>
          <a class="dropdown-item" href="../5.12.4/perldebug.html">5.12.4</a>
          <a class="dropdown-item" href="../5.12.3/perldebug.html">5.12.3</a>
          <a class="dropdown-item" href="../5.12.2/perldebug.html">5.12.2</a>
          <a class="dropdown-item" href="../5.12.1/perldebug.html">5.12.1</a>
          <a class="dropdown-item" href="../5.12.0/perldebug.html">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.10.1/perldebug.html">5.10.1</a>
          <a class="dropdown-item" href="../5.10.0/perldebug.html">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.8.9/perldebug.html">5.8.9</a>
          <a class="dropdown-item" href="../5.8.8/perldebug.html">5.8.8</a>
          <a class="dropdown-item" href="../5.8.7/perldebug.html">5.8.7</a>
          <a class="dropdown-item" href="../5.8.6/perldebug.html">5.8.6</a>
          <a class="dropdown-item" href="../5.8.5/perldebug.html">5.8.5</a>
          <a class="dropdown-item" href="../5.8.4/perldebug.html">5.8.4</a>
          <a class="dropdown-item" href="../5.8.3/perldebug.html">5.8.3</a>
          <a class="dropdown-item" href="../5.8.2/perldebug.html">5.8.2</a>
          <a class="dropdown-item" href="../5.8.1/perldebug.html">5.8.1</a>
          <a class="dropdown-item" href="../5.8.0/perldebug.html">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.6.2/perldebug.html">5.6.2</a>
          <a class="dropdown-item" href="../5.6.1/perldebug.html">5.6.1</a>
          <a class="dropdown-item" href="../5.6.0/perldebug.html">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.005_04/perldebug.html">5.005_04</a>
          <a class="dropdown-item" href="../5.005_03/perldebug.html">5.005_03</a>
          <a class="dropdown-item" href="../5.005_02/perldebug.html">5.005_02</a>
          <a class="dropdown-item active" href="perldebug.html">5.005_01</a>
          <a class="dropdown-item" href="../5.005/perldebug.html">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/perldebug">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/perldebug">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/perldebug">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/perldebug">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/perldebug">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/perldebug">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/perldebug">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/perldebug">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/perldebug">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/perldebug">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/perldebug">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/perldebug">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/perldebug">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/perldebug">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/perldebug">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/perldebug">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/perldebug">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/perldebug">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/perldebug">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/perldebug">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="../js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/5.005_01/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="../js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perldebug.html">perldebug</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/5.005_01/perldebug.txt">source</a>,
            <a href="https://metacpan.org/pod/perldebug">CPAN</a>)
          </div>
        </div>
        <div class="leading-notice">
          You are viewing the version of this documentation from Perl 5.005_01.
            <a href="../perldebug.html">View the latest version</a>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#The-Perl-Debugger">The Perl Debugger</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Debugger-Commands">Debugger Commands</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Debugger-input/output">Debugger input/output</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Debugging-compile-time-statements">Debugging compile-time statements</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Debugger-Customization">Debugger Customization</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Readline-Support">Readline Support</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Editor-Support-for-Debugging">Editor Support for Debugging</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#The-Perl-Profiler">The Perl Profiler</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Debugger-support-in-perl">Debugger support in perl</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Debugger-Internals">Debugger Internals</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Other-resources">Other resources</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#BUGS">BUGS</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Debugging-Perl-memory-usage">Debugging Perl memory usage</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Using-$ENV%7BPERL_DEBUG_MSTATS%7D">Using $ENV{PERL_DEBUG_MSTATS}</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Example-of-using-DL-switch">Example of using -DL switch</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#-DL-details">-DL details</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Limitations-of-DL-statistic">Limitations of -DL statistic</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#Debugging-regular-expressions">Debugging regular expressions</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Compile-time-output">Compile-time output</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Types-of-nodes">Types of nodes</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Run-time-output">Run-time output</a>
              </li>
          </ul>

              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perldebug - Perl debugging</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>First of all, have you tried using the <b>-w</b> switch?</p>

<h1 id="The-Perl-Debugger"><a class="permalink" href="#The-Perl-Debugger">#</a><a id="The"></a>The Perl Debugger</h1>

<p>&quot;As soon as we started programming, we found to our surprise that it wasn&#39;t as easy to get programs right as we had thought. Debugging had to be discovered. I can remember the exact instant when I realized that a large part of my life from then on was going to be spent in finding mistakes in my own programs.&quot;</p>

<p><i> --Maurice Wilkes, 1949</i></p>

<p>If you invoke Perl with the <b>-d</b> switch, your script runs under the Perl source debugger. This works like an interactive Perl environment, prompting for debugger commands that let you examine source code, set breakpoints, get stack backtraces, change the values of variables, etc. This is so convenient that you often fire up the debugger all by itself just to test out Perl constructs interactively to see what they do. For example:</p>

<pre><code class="plaintext">perl -d -e 42</code></pre>

<p>In Perl, the debugger is not a separate program as it usually is in the typical compiled environment. Instead, the <b>-d</b> flag tells the compiler to insert source information into the parse trees it&#39;s about to hand off to the interpreter. That means your code must first compile correctly for the debugger to work on it. Then when the interpreter starts up, it preloads a Perl library file containing the debugger itself.</p>

<p>The program will halt <i>right before</i> the first run-time executable statement (but see below regarding compile-time statements) and ask you to enter a debugger command. Contrary to popular expectations, whenever the debugger halts and shows you a line of code, it always displays the line it&#39;s <i>about</i> to execute, rather than the one it has just executed.</p>

<p>Any command not recognized by the debugger is directly executed (<code>eval</code>&#39;d) as Perl code in the current package. (The debugger uses the DB package for its own state information.)</p>

<p>Leading white space before a command would cause the debugger to think it&#39;s <i>NOT</i> a debugger command but for Perl, so be careful not to do that.</p>

<h2 id="Debugger-Commands"><a class="permalink" href="#Debugger-Commands">#</a><a id="Debugger"></a>Debugger Commands</h2>

<p>The debugger understands the following commands:</p>

<dl>

<dt id="h-[command]"><a class="permalink" href="#h-%5Bcommand%5D">#</a><a id="h"></a><a id="h-command"></a>h [command]</dt>
<dd>

<p>Prints out a help message.</p>

<p>If you supply another debugger command as an argument to the <code>h</code> command, it prints out the description for just that command. The special argument of <code>h h</code> produces a more compact help listing, designed to fit together on one screen.</p>

<p>If the output of the <code>h</code> command (or any command, for that matter) scrolls past your screen, either precede the command with a leading pipe symbol so it&#39;s run through your pager, as in</p>

<pre><code class="plaintext">DB&gt; |h</code></pre>

<p>You may change the pager which is used via <code>O pager=...</code> command.</p>

</dd>
<dt id="p-expr"><a class="permalink" href="#p-expr">#</a><a id="p"></a>p expr</dt>
<dd>

<p>Same as <code>print {$DB::OUT} expr</code> in the current package. In particular, because this is just Perl&#39;s own <b>print</b> function, this means that nested data structures and objects are not dumped, unlike with the <code>x</code> command.</p>

<p>The <code>DB::OUT</code> filehandle is opened to <i>/dev/tty</i>, regardless of where STDOUT may be redirected to.</p>

</dd>
<dt id="x-expr"><a class="permalink" href="#x-expr">#</a><a id="x"></a>x expr</dt>
<dd>

<p>Evaluates its expression in list context and dumps out the result in a pretty-printed fashion. Nested data structures are printed out recursively, unlike the <code>print</code> function.</p>

<p>The details of printout are governed by multiple <code>O</code>ptions.</p>

</dd>
<dt id="V-[pkg-[vars]]"><a class="permalink" href="#V-%5Bpkg-%5Bvars%5D%5D">#</a><a id="V"></a><a id="V-pkg-vars"></a>V [pkg [vars]]</dt>
<dd>

<p>Display all (or some) variables in package (defaulting to the <code>main</code> package) using a data pretty-printer (hashes show their keys and values so you see what&#39;s what, control characters are made printable, etc.). Make sure you don&#39;t put the type specifier (like <code>$</code>) there, just the symbol names, like this:</p>

<pre><code class="plaintext">V DB filename line</code></pre>

<p>Use <code>~pattern</code> and <code>!pattern</code> for positive and negative regexps.</p>

<p>Nested data structures are printed out in a legible fashion, unlike the <code>print</code> function.</p>

<p>The details of printout are governed by multiple <code>O</code>ptions.</p>

</dd>
<dt id="X-[vars]"><a class="permalink" href="#X-%5Bvars%5D">#</a><a id="X"></a><a id="X-vars"></a>X [vars]</dt>
<dd>

<p>Same as <code>V currentpackage [vars]</code>.</p>

</dd>
<dt id="T"><a class="permalink" href="#T">#</a>T</dt>
<dd>

<p>Produce a stack backtrace. See below for details on its output.</p>

</dd>
<dt id="s-[expr]"><a class="permalink" href="#s-%5Bexpr%5D">#</a><a id="s"></a><a id="s-expr"></a>s [expr]</dt>
<dd>

<p>Single step. Executes until it reaches the beginning of another statement, descending into subroutine calls. If an expression is supplied that includes function calls, it too will be single-stepped.</p>

</dd>
<dt id="n-[expr]"><a class="permalink" href="#n-%5Bexpr%5D">#</a><a id="n"></a><a id="n-expr"></a>n [expr]</dt>
<dd>

<p>Next. Executes over subroutine calls, until it reaches the beginning of the next statement. If an expression is supplied that includes function calls, those functions will be executed with stops before each statement.</p>

</dd>
<dt id="&lt;CR&gt;"><a class="permalink" href="#%3CCR%3E">#</a><a id="CR"></a>&lt;CR&gt;</dt>
<dd>

<p>Repeat last <code>n</code> or <code>s</code> command.</p>

</dd>
<dt id="c-[line|sub]"><a class="permalink" href="#c-%5Bline%7Csub%5D">#</a><a id="c"></a><a id="c-line-sub"></a>c [line|sub]</dt>
<dd>

<p>Continue, optionally inserting a one-time-only breakpoint at the specified line or subroutine.</p>

</dd>
<dt id="l"><a class="permalink" href="#l">#</a>l</dt>
<dd>

<p>List next window of lines.</p>

</dd>
<dt id="l-min+incr"><a class="permalink" href="#l-min+incr">#</a><a id="l1"></a><a id="l-min-incr"></a>l min+incr</dt>
<dd>

<p>List <code>incr+1</code> lines starting at <code>min</code>.</p>

</dd>
<dt id="l-min-max"><a class="permalink" href="#l-min-max">#</a><a id="l2"></a>l min-max</dt>
<dd>

<p>List lines <code>min</code> through <code>max</code>. <code>l -</code> is synonymous to <code>-</code>.</p>

</dd>
<dt id="l-line"><a class="permalink" href="#l-line">#</a><a id="l3"></a>l line</dt>
<dd>

<p>List a single line.</p>

</dd>
<dt id="l-subname"><a class="permalink" href="#l-subname">#</a><a id="l4"></a>l subname</dt>
<dd>

<p>List first window of lines from subroutine.</p>

</dd>
<dt id="-"><a class="permalink" href="#-">#</a><a id="pod"></a>-</dt>
<dd>

<p>List previous window of lines.</p>

</dd>
<dt id="w-[line]"><a class="permalink" href="#w-%5Bline%5D">#</a><a id="w"></a><a id="w-line"></a>w [line]</dt>
<dd>

<p>List window (a few lines) around the current line.</p>

</dd>
<dt id="."><a class="permalink" href="#.">#</a><a id="pod1"></a>.</dt>
<dd>

<p>Return debugger pointer to the last-executed line and print it out.</p>

</dd>
<dt id="f-filename"><a class="permalink" href="#f-filename">#</a><a id="f"></a>f filename</dt>
<dd>

<p>Switch to viewing a different file or eval statement. If <code>filename</code> is not a full filename as found in values of %INC, it is considered as a regexp.</p>

</dd>
<dt id="/pattern/"><a class="permalink" href="#/pattern/">#</a><a id="pattern"></a>/pattern/</dt>
<dd>

<p>Search forwards for pattern; final / is optional.</p>

</dd>
<dt id="?pattern?"><a class="permalink" href="#?pattern?">#</a><a id="pattern1"></a>?pattern?</dt>
<dd>

<p>Search backwards for pattern; final ? is optional.</p>

</dd>
<dt id="L"><a class="permalink" href="#L">#</a>L</dt>
<dd>

<p>List all breakpoints and actions.</p>

</dd>
<dt id="S-[[!]pattern]"><a class="permalink" href="#S-%5B%5B!%5Dpattern%5D">#</a><a id="S"></a><a id="S-pattern"></a>S [[!]pattern]</dt>
<dd>

<p>List subroutine names [not] matching pattern.</p>

</dd>
<dt id="t"><a class="permalink" href="#t">#</a>t</dt>
<dd>

<p>Toggle trace mode (see also <code>AutoTrace</code> <code>O</code>ption).</p>

</dd>
<dt id="t-expr"><a class="permalink" href="#t-expr">#</a><a id="t1"></a>t expr</dt>
<dd>

<p>Trace through execution of expr. For example:</p>

<pre><code>$ perl -de 42
Stack dump during die enabled outside of evals.

Loading DB routines from perl5db.pl patch level 0.94
Emacs support available.

Enter h or `h h&#39; for help.

main::(-e:1):   0
  DB&lt;1&gt; sub foo { 14 }

  DB&lt;2&gt; sub bar { 3 }

  DB&lt;3&gt; t print foo() * bar()
main::((eval 172):3):   print foo() + bar();
main::foo((eval 168):2):
main::bar((eval 170):2):
42</code></pre>

<p>or, with the <code>O</code>ption <code>frame=2</code> set,</p>

<pre><code>  DB&lt;4&gt; O f=2
               frame = &#39;2&#39;
  DB&lt;5&gt; t print foo() * bar()
3:      foo() * bar()
entering main::foo
 2:     sub foo { 14 };
exited main::foo
entering main::bar
 2:     sub bar { 3 };
exited main::bar
42</code></pre>

</dd>
<dt id="b-[line]-[condition]"><a class="permalink" href="#b-%5Bline%5D-%5Bcondition%5D">#</a><a id="b"></a><a id="b-line-condition"></a>b [line] [condition]</dt>
<dd>

<p>Set a breakpoint. If line is omitted, sets a breakpoint on the line that is about to be executed. If a condition is specified, it&#39;s evaluated each time the statement is reached and a breakpoint is taken only if the condition is true. Breakpoints may be set on only lines that begin an executable statement. Conditions don&#39;t use <b>if</b>:</p>

<pre><code>b 237 $x &gt; 30
b 237 ++$count237 &lt; 11
b 33 /pattern/i</code></pre>

</dd>
<dt id="b-subname-[condition]"><a class="permalink" href="#b-subname-%5Bcondition%5D">#</a><a id="b1"></a><a id="b-subname-condition"></a>b subname [condition]</dt>
<dd>

<p>Set a breakpoint at the first line of the named subroutine.</p>

</dd>
<dt id="b-postpone-subname-[condition]"><a class="permalink" href="#b-postpone-subname-%5Bcondition%5D">#</a><a id="b2"></a><a id="b-postpone-subname-condition"></a>b postpone subname [condition]</dt>
<dd>

<p>Set breakpoint at first line of subroutine after it is compiled.</p>

</dd>
<dt id="b-load-filename"><a class="permalink" href="#b-load-filename">#</a><a id="b3"></a>b load filename</dt>
<dd>

<p>Set breakpoint at the first executed line of the file. Filename should be a full name as found in values of %INC.</p>

</dd>
<dt id="b-compile-subname"><a class="permalink" href="#b-compile-subname">#</a><a id="b4"></a>b compile subname</dt>
<dd>

<p>Sets breakpoint at the first statement executed after the subroutine is compiled.</p>

</dd>
<dt id="d-[line]"><a class="permalink" href="#d-%5Bline%5D">#</a><a id="d"></a><a id="d-line"></a>d [line]</dt>
<dd>

<p>Delete a breakpoint at the specified line. If line is omitted, deletes the breakpoint on the line that is about to be executed.</p>

</dd>
<dt id="D"><a class="permalink" href="#D">#</a>D</dt>
<dd>

<p>Delete all installed breakpoints.</p>

</dd>
<dt id="a-[line]-command"><a class="permalink" href="#a-%5Bline%5D-command">#</a><a id="a"></a><a id="a-line-command"></a>a [line] command</dt>
<dd>

<p>Set an action to be done before the line is executed. The sequence of steps taken by the debugger is</p>

<pre><code class="plaintext">1. check for a breakpoint at this line
2. print the line if necessary (tracing)
3. do any actions associated with that line
4. prompt user if at a breakpoint or in single-step
5. evaluate line</code></pre>

<p>For example, this will print out $foo every time line 53 is passed:</p>

<pre><code>a 53 print &quot;DB FOUND $foo\n&quot;</code></pre>

</dd>
<dt id="A"><a class="permalink" href="#A">#</a>A</dt>
<dd>

<p>Delete all installed actions.</p>

</dd>
<dt id="W-[expr]"><a class="permalink" href="#W-%5Bexpr%5D">#</a><a id="W1"></a><a id="W-expr"></a>W [expr]</dt>
<dd>

<p>Add a global watch-expression.</p>

</dd>
<dt id="W"><a class="permalink" href="#W">#</a>W</dt>
<dd>

<p>Delete all watch-expressions.</p>

</dd>
<dt id="O-[opt[=val]]-[opt&quot;val&quot;]-[opt?]..."><a class="permalink" href="#O-%5Bopt%5B=val%5D%5D-%5Bopt%22val%22%5D-%5Bopt?%5D...">#</a><a id="O"></a><a id="O-opt-val-optval-opt"></a>O [opt[=val]] [opt&quot;val&quot;] [opt?]...</dt>
<dd>

<p>Set or query values of options. val defaults to 1. opt can be abbreviated. Several options can be listed.</p>

<dl>

<dt id="recallCommand,-ShellBang"><a class="permalink" href="#recallCommand,-ShellBang">#</a><a id="recallCommand"></a><a id="recallCommand-ShellBang"></a><code>recallCommand</code>, <code>ShellBang</code></dt>
<dd>

<p>The characters used to recall command or spawn shell. By default, these are both set to <code>!</code>.</p>

</dd>
<dt id="pager"><a class="permalink" href="#pager">#</a><code>pager</code></dt>
<dd>

<p>Program to use for output of pager-piped commands (those beginning with a <code>|</code> character.) By default, <code>$ENV{PAGER}</code> will be used.</p>

</dd>
<dt id="tkRunning"><a class="permalink" href="#tkRunning">#</a><code>tkRunning</code></dt>
<dd>

<p>Run Tk while prompting (with ReadLine).</p>

</dd>
<dt id="signalLevel,-warnLevel,-dieLevel"><a class="permalink" href="#signalLevel,-warnLevel,-dieLevel">#</a><a id="signalLevel"></a><a id="signalLevel-warnLevel-dieLevel"></a><code>signalLevel</code>, <code>warnLevel</code>, <code>dieLevel</code></dt>
<dd>

<p>Level of verbosity. By default the debugger is in a sane verbose mode, thus it will print backtraces on all the warnings and die-messages which are going to be printed out, and will print a message when interesting uncaught signals arrive.</p>

<p>To disable this behaviour, set these values to 0. If <code>dieLevel</code> is 2, then the messages which will be caught by surrounding <code>eval</code> are also printed.</p>

</dd>
<dt id="AutoTrace"><a class="permalink" href="#AutoTrace">#</a><code>AutoTrace</code></dt>
<dd>

<p>Trace mode (similar to <code>t</code> command, but can be put into <code>PERLDB_OPTS</code>).</p>

</dd>
<dt id="LineInfo"><a class="permalink" href="#LineInfo">#</a><code>LineInfo</code></dt>
<dd>

<p>File or pipe to print line number info to. If it is a pipe (say, <code>|visual_perl_db</code>), then a short, &quot;emacs like&quot; message is used.</p>

</dd>
<dt id="inhibit_exit"><a class="permalink" href="#inhibit_exit">#</a><code>inhibit_exit</code></dt>
<dd>

<p>If 0, allows <i>stepping off</i> the end of the script.</p>

</dd>
<dt id="PrintRet"><a class="permalink" href="#PrintRet">#</a><code>PrintRet</code></dt>
<dd>

<p>affects printing of return value after <code>r</code> command.</p>

</dd>
<dt id="ornaments"><a class="permalink" href="#ornaments">#</a><code>ornaments</code></dt>
<dd>

<p>affects screen appearance of the command line (see <a href="https://perldoc.perl.org/5.005_01/Term::ReadLine">Term::ReadLine</a>).</p>

</dd>
<dt id="frame"><a class="permalink" href="#frame">#</a><code>frame</code></dt>
<dd>

<p>affects printing messages on entry and exit from subroutines. If <code>frame &amp; 2</code> is false, messages are printed on entry only. (Printing on exit may be useful if inter(di)spersed with other messages.)</p>

<p>If <code>frame &amp; 4</code>, arguments to functions are printed as well as the context and caller info. If <code>frame &amp; 8</code>, overloaded <code>stringify</code> and <code>tie</code>d <code>FETCH</code> are enabled on the printed arguments. If <code>frame &amp; 16</code>, the return value from the subroutine is printed as well.</p>

<p>The length at which the argument list is truncated is governed by the next option:</p>

</dd>
<dt id="maxTraceLen"><a class="permalink" href="#maxTraceLen">#</a><code>maxTraceLen</code></dt>
<dd>

<p>length at which the argument list is truncated when <code>frame</code> option&#39;s bit 4 is set.</p>

</dd>
</dl>

<p>The following options affect what happens with <code>V</code>, <code>X</code>, and <code>x</code> commands:</p>

<dl>

<dt id="arrayDepth,-hashDepth"><a class="permalink" href="#arrayDepth,-hashDepth">#</a><a id="arrayDepth"></a><a id="arrayDepth-hashDepth"></a><code>arrayDepth</code>, <code>hashDepth</code></dt>
<dd>

<p>Print only first N elements (&#39;&#39; for all).</p>

</dd>
<dt id="compactDump,-veryCompact"><a class="permalink" href="#compactDump,-veryCompact">#</a><a id="compactDump"></a><a id="compactDump-veryCompact"></a><code>compactDump</code>, <code>veryCompact</code></dt>
<dd>

<p>Change style of array and hash dump. If <code>compactDump</code>, short array may be printed on one line.</p>

</dd>
<dt id="globPrint"><a class="permalink" href="#globPrint">#</a><code>globPrint</code></dt>
<dd>

<p>Whether to print contents of globs.</p>

</dd>
<dt id="DumpDBFiles"><a class="permalink" href="#DumpDBFiles">#</a><code>DumpDBFiles</code></dt>
<dd>

<p>Dump arrays holding debugged files.</p>

</dd>
<dt id="DumpPackages"><a class="permalink" href="#DumpPackages">#</a><code>DumpPackages</code></dt>
<dd>

<p>Dump symbol tables of packages.</p>

</dd>
<dt id="DumpReused"><a class="permalink" href="#DumpReused">#</a><code>DumpReused</code></dt>
<dd>

<p>Dump contents of &quot;reused&quot; addresses.</p>

</dd>
<dt id="quote,-HighBit,-undefPrint"><a class="permalink" href="#quote,-HighBit,-undefPrint">#</a><a id="quote"></a><a id="quote-HighBit-undefPrint"></a><code>quote</code>, <code>HighBit</code>, <code>undefPrint</code></dt>
<dd>

<p>Change style of string dump. Default value of <code>quote</code> is <code>auto</code>, one can enable either double-quotish dump, or single-quotish by setting it to <code>&quot;</code> or <code>&#39;</code>. By default, characters with high bit set are printed <i>as is</i>.</p>

</dd>
<dt id="UsageOnly"><a class="permalink" href="#UsageOnly">#</a><code>UsageOnly</code></dt>
<dd>

<p><i>very</i> rudimentally per-package memory usage dump. Calculates total size of strings in variables in the package.</p>

</dd>
</dl>

<p>During startup options are initialized from <code>$ENV{PERLDB_OPTS}</code>. You can put additional initialization options <code>TTY</code>, <code>noTTY</code>, <code>ReadLine</code>, and <code>NonStop</code> there.</p>

<p>Example rc file:</p>

<pre><code>&amp;parse_options(&quot;NonStop=1 LineInfo=db.out AutoTrace&quot;);</code></pre>

<p>The script will run without human intervention, putting trace information into the file <i>db.out</i>. (If you interrupt it, you would better reset <code>LineInfo</code> to something &quot;interactive&quot;!)</p>

<dl>

<dt id="TTY"><a class="permalink" href="#TTY">#</a><code>TTY</code></dt>
<dd>

<p>The TTY to use for debugging I/O.</p>

</dd>
<dt id="noTTY"><a class="permalink" href="#noTTY">#</a><code>noTTY</code></dt>
<dd>

<p>If set, goes in <code>NonStop</code> mode, and would not connect to a TTY. If interrupt (or if control goes to debugger via explicit setting of $DB::signal or $DB::single from the Perl script), connects to a TTY specified by the <code>TTY</code> option at startup, or to a TTY found at runtime using <code>Term::Rendezvous</code> module of your choice.</p>

<p>This module should implement a method <code>new</code> which returns an object with two methods: <code>IN</code> and <code>OUT</code>, returning two filehandles to use for debugging input and output correspondingly. Method <code>new</code> may inspect an argument which is a value of <code>$ENV{PERLDB_NOTTY}</code> at startup, or is <code>&quot;/tmp/perldbtty$$&quot;</code> otherwise.</p>

</dd>
<dt id="ReadLine"><a class="permalink" href="#ReadLine">#</a><code>ReadLine</code></dt>
<dd>

<p>If false, readline support in debugger is disabled, so you can debug ReadLine applications.</p>

</dd>
<dt id="NonStop"><a class="permalink" href="#NonStop">#</a><code>NonStop</code></dt>
<dd>

<p>If set, debugger goes into noninteractive mode until interrupted, or programmatically by setting $DB::signal or $DB::single.</p>

</dd>
</dl>

<p>Here&#39;s an example of using the <code>$ENV{PERLDB_OPTS}</code> variable:</p>

<pre><code class="plaintext">$ PERLDB_OPTS=&quot;N f=2&quot; perl -d myprogram</code></pre>

<p>will run the script <code>myprogram</code> without human intervention, printing out the call tree with entry and exit points. Note that <code>N f=2</code> is equivalent to <code>NonStop=1 frame=2</code>. Note also that at the moment when this documentation was written all the options to the debugger could be uniquely abbreviated by the first letter (with exception of <code>Dump*</code> options).</p>

<p>Other examples may include</p>

<pre><code class="plaintext">$ PERLDB_OPTS=&quot;N f A L=listing&quot; perl -d myprogram</code></pre>

<p>- runs script noninteractively, printing info on each entry into a subroutine and each executed line into the file <i>listing</i>. (If you interrupt it, you would better reset <code>LineInfo</code> to something &quot;interactive&quot;!)</p>

<pre><code class="plaintext">$ env &quot;PERLDB_OPTS=R=0 TTY=/dev/ttyc&quot; perl -d myprogram</code></pre>

<p>may be useful for debugging a program which uses <code>Term::ReadLine</code> itself. Do not forget detach shell from the TTY in the window which corresponds to <i>/dev/ttyc</i>, say, by issuing a command like</p>

<pre><code class="plaintext">$ sleep 1000000</code></pre>

<p>See <a href="#Debugger-Internals">&quot;Debugger Internals&quot;</a> below for more details.</p>

</dd>
<dt id="&lt;-[-command-]"><a class="permalink" href="#%3C-%5B-command-%5D">#</a><a id="command1"></a>&lt; [ command ]</dt>
<dd>

<p>Set an action (Perl command) to happen before every debugger prompt. A multi-line command may be entered by backslashing the newlines. If <code>command</code> is missing, resets the list of actions.</p>

</dd>
<dt id="&lt;&lt;-command"><a class="permalink" href="#%3C%3C-command">#</a><a id="command2"></a>&lt;&lt; command</dt>
<dd>

<p>Add an action (Perl command) to happen before every debugger prompt. A multi-line command may be entered by backslashing the newlines.</p>

</dd>
<dt id="&gt;-command"><a class="permalink" href="#%3E-command">#</a><a id="command3"></a>&gt; command</dt>
<dd>

<p>Set an action (Perl command) to happen after the prompt when you&#39;ve just given a command to return to executing the script. A multi-line command may be entered by backslashing the newlines. If <code>command</code> is missing, resets the list of actions.</p>

</dd>
<dt id="&gt;&gt;-command"><a class="permalink" href="#%3E%3E-command">#</a><a id="command4"></a>&gt;&gt; command</dt>
<dd>

<p>Adds an action (Perl command) to happen after the prompt when you&#39;ve just given a command to return to executing the script. A multi-line command may be entered by backslashing the newlines.</p>

</dd>
<dt id="{-[-command-]"><a class="permalink" href="#%7B-%5B-command-%5D">#</a><a id="command5"></a>{ [ command ]</dt>
<dd>

<p>Set an action (debugger command) to happen before every debugger prompt. A multi-line command may be entered by backslashing the newlines. If <code>command</code> is missing, resets the list of actions.</p>

</dd>
<dt id="{{-command"><a class="permalink" href="#%7B%7B-command">#</a><a id="command6"></a>{{ command</dt>
<dd>

<p>Add an action (debugger command) to happen before every debugger prompt. A multi-line command may be entered by backslashing the newlines.</p>

</dd>
<dt id="!-number"><a class="permalink" href="#!-number">#</a><a id="number"></a>! number</dt>
<dd>

<p>Redo a previous command (default previous command).</p>

</dd>
<dt id="!-number1"><a class="permalink" href="#!-number1">#</a><a id="number1"></a>! -number</dt>
<dd>

<p>Redo number&#39;th-to-last command.</p>

</dd>
<dt id="!-pattern"><a class="permalink" href="#!-pattern">#</a><a id="pattern2"></a>! pattern</dt>
<dd>

<p>Redo last command that started with pattern. See <code>O recallCommand</code>, too.</p>

</dd>
<dt id="!!-cmd"><a class="permalink" href="#!!-cmd">#</a><a id="cmd"></a>!! cmd</dt>
<dd>

<p>Run cmd in a subprocess (reads from DB::IN, writes to DB::OUT) See <code>O shellBang</code> too.</p>

</dd>
<dt id="H-number"><a class="permalink" href="#H-number">#</a><a id="H"></a><a id="H--number"></a>H -number</dt>
<dd>

<p>Display last n commands. Only commands longer than one character are listed. If number is omitted, lists them all.</p>

</dd>
<dt id="q-or-^D"><a class="permalink" href="#q-or-%5ED">#</a><a id="q"></a><a id="q-or-D"></a>q or ^D</dt>
<dd>

<p>Quit. (&quot;quit&quot; doesn&#39;t work for this.) This is the only supported way to exit the debugger, though typing <code>exit</code> twice may do it too.</p>

<p>Set an <code>O</code>ption <code>inhibit_exit</code> to 0 if you want to be able to <i>step off</i> the end the script. You may also need to set <code>$finished</code> to 0 at some moment if you want to step through global destruction.</p>

</dd>
<dt id="R"><a class="permalink" href="#R">#</a>R</dt>
<dd>

<p>Restart the debugger by <b>exec</b>ing a new session. It tries to maintain your history across this, but internal settings and command line options may be lost.</p>

<p>Currently the following setting are preserved: history, breakpoints, actions, debugger <code>O</code>ptions, and the following command line options: <b>-w</b>, <b>-I</b>, and <b>-e</b>.</p>

</dd>
<dt id="|dbcmd"><a class="permalink" href="#%7Cdbcmd">#</a><a id="dbcmd"></a>|dbcmd</dt>
<dd>

<p>Run debugger command, piping DB::OUT to current pager.</p>

</dd>
<dt id="||dbcmd"><a class="permalink" href="#%7C%7Cdbcmd">#</a><a id="dbcmd1"></a>||dbcmd</dt>
<dd>

<p>Same as <code>|dbcmd</code> but DB::OUT is temporarily <b>select</b>ed as well. Often used with commands that would otherwise produce long output, such as</p>

<pre><code class="plaintext">|V main</code></pre>

</dd>
<dt id="=-[alias-value]"><a class="permalink" href="#=-%5Balias-value%5D">#</a><a id="alias-value"></a>= [alias value]</dt>
<dd>

<p>Define a command alias, like</p>

<pre><code class="plaintext">= quit q</code></pre>

<p>or list current aliases.</p>

</dd>
<dt id="command"><a class="permalink" href="#command">#</a>command</dt>
<dd>

<p>Execute command as a Perl statement. A missing semicolon will be supplied.</p>

</dd>
<dt id="m-expr"><a class="permalink" href="#m-expr">#</a><a id="m"></a>m expr</dt>
<dd>

<p>The expression is evaluated, and the methods which may be applied to the result are listed.</p>

</dd>
<dt id="m-package"><a class="permalink" href="#m-package">#</a><a id="m1"></a>m package</dt>
<dd>

<p>The methods which may be applied to objects in the <code>package</code> are listed.</p>

</dd>
</dl>

<h2 id="Debugger-input/output"><a class="permalink" href="#Debugger-input/output">#</a><a id="Debugger1"></a><a id="Debugger-input-output"></a>Debugger input/output</h2>

<dl>

<dt id="Prompt"><a class="permalink" href="#Prompt">#</a>Prompt</dt>
<dd>

<p>The debugger prompt is something like</p>

<pre><code class="plaintext">DB&lt;8&gt;</code></pre>

<p>or even</p>

<pre><code class="plaintext">DB&lt;&lt;17&gt;&gt;</code></pre>

<p>where that number is the command number, which you&#39;d use to access with the builtin <b>csh</b>-like history mechanism, e.g., <code>!17</code> would repeat command number 17. The number of angle brackets indicates the depth of the debugger. You could get more than one set of brackets, for example, if you&#39;d already at a breakpoint and then printed out the result of a function call that itself also has a breakpoint, or you step into an expression via <code>s/n/t expression</code> command.</p>

</dd>
<dt id="Multiline-commands"><a class="permalink" href="#Multiline-commands">#</a><a id="Multiline"></a>Multiline commands</dt>
<dd>

<p>If you want to enter a multi-line command, such as a subroutine definition with several statements, or a format, you may escape the newline that would normally end the debugger command with a backslash. Here&#39;s an example:</p>

<pre><code class="plaintext">DB&lt;1&gt; for (1..4) {         \
cont:     print &quot;ok\n&quot;;   \
cont: }
ok
ok
ok
ok</code></pre>

<p>Note that this business of escaping a newline is specific to interactive commands typed into the debugger.</p>

</dd>
<dt id="Stack-backtrace"><a class="permalink" href="#Stack-backtrace">#</a><a id="Stack"></a>Stack backtrace</dt>
<dd>

<p>Here&#39;s an example of what a stack backtrace via <code>T</code> command might look like:</p>

<pre><code class="plaintext">$ = main::infested called from file `Ambulation.pm&#39; line 10
@ = Ambulation::legs(1, 2, 3, 4) called from file `camel_flea&#39; line 7
$ = main::pests(&#39;bactrian&#39;, 4) called from file `camel_flea&#39; line 4</code></pre>

<p>The left-hand character up there tells whether the function was called in a scalar or list context (we bet you can tell which is which). What that says is that you were in the function <code>main::infested</code> when you ran the stack dump, and that it was called in a scalar context from line 10 of the file <i>Ambulation.pm</i>, but without any arguments at all, meaning it was called as <code>&amp;infested</code>. The next stack frame shows that the function <code>Ambulation::legs</code> was called in a list context from the <i>camel_flea</i> file with four arguments. The last stack frame shows that <code>main::pests</code> was called in a scalar context, also from <i>camel_flea</i>, but from line 4.</p>

<p>Note that if you execute <code>T</code> command from inside an active <code>use</code> statement, the backtrace will contain both <code>require</code> frame and an <code>eval</code>) frame.</p>

</dd>
<dt id="Listing"><a class="permalink" href="#Listing">#</a>Listing</dt>
<dd>

<p>Listing given via different flavors of <code>l</code> command looks like this:</p>

<pre><code>  DB&lt;&lt;13&gt;&gt; l
101:                @i{@i} = ();
102:b               @isa{@i,$pack} = ()
103                     if(exists $i{$prevpack} || exists $isa{$pack});
104             }
105
106             next
107==&gt;              if(exists $isa{$pack});
108
109:a           if ($extra-- &gt; 0) {
110:                %isa = ($pack,1);</code></pre>

<p>Note that the breakable lines are marked with <code>:</code>, lines with breakpoints are marked by <code>b</code>, with actions by <code>a</code>, and the next executed line is marked by <code>==&gt;</code>.</p>

</dd>
<dt id="Frame-listing"><a class="permalink" href="#Frame-listing">#</a><a id="Frame"></a>Frame listing</dt>
<dd>

<p>When <code>frame</code> option is set, debugger would print entered (and optionally exited) subroutines in different styles.</p>

<p>What follows is the start of the listing of</p>

<pre><code class="plaintext">env &quot;PERLDB_OPTS=f=n N&quot; perl -d -V</code></pre>

<p>for different values of <code>n</code>:</p>

<ol>

<li><p></p>

<pre><code class="plaintext">entering main::BEGIN
 entering Config::BEGIN
  Package lib/Exporter.pm.
  Package lib/Carp.pm.
 Package lib/Config.pm.
 entering Config::TIEHASH
 entering Exporter::import
  entering Exporter::export
entering Config::myconfig
 entering Config::FETCH
 entering Config::FETCH
 entering Config::FETCH
 entering Config::FETCH</code></pre>

</li>
<li><p></p>

<pre><code class="plaintext">entering main::BEGIN
 entering Config::BEGIN
  Package lib/Exporter.pm.
  Package lib/Carp.pm.
 exited Config::BEGIN
 Package lib/Config.pm.
 entering Config::TIEHASH
 exited Config::TIEHASH
 entering Exporter::import
  entering Exporter::export
  exited Exporter::export
 exited Exporter::import
exited main::BEGIN
entering Config::myconfig
 entering Config::FETCH
 exited Config::FETCH
 entering Config::FETCH
 exited Config::FETCH
 entering Config::FETCH</code></pre>

</li>
<li><p></p>

<pre><code class="plaintext">in  $=main::BEGIN() from /dev/nul:0
 in  $=Config::BEGIN() from lib/Config.pm:2
  Package lib/Exporter.pm.
  Package lib/Carp.pm.
 Package lib/Config.pm.
 in  $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:644
 in  $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/nul:0
  in  $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from li
in  @=Config::myconfig() from /dev/nul:0
 in  $=Config::FETCH(ref(Config), &#39;package&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;baserev&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;PATCHLEVEL&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;SUBVERSION&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;osname&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;osvers&#39;) from lib/Config.pm:574</code></pre>

</li>
<li><p></p>

<pre><code class="plaintext">in  $=main::BEGIN() from /dev/nul:0
 in  $=Config::BEGIN() from lib/Config.pm:2
  Package lib/Exporter.pm.
  Package lib/Carp.pm.
 out $=Config::BEGIN() from lib/Config.pm:0
 Package lib/Config.pm.
 in  $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:644
 out $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:644
 in  $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/nul:0
  in  $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/
  out $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/
 out $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/nul:0
out $=main::BEGIN() from /dev/nul:0
in  @=Config::myconfig() from /dev/nul:0
 in  $=Config::FETCH(ref(Config), &#39;package&#39;) from lib/Config.pm:574
 out $=Config::FETCH(ref(Config), &#39;package&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;baserev&#39;) from lib/Config.pm:574
 out $=Config::FETCH(ref(Config), &#39;baserev&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;PATCHLEVEL&#39;) from lib/Config.pm:574
 out $=Config::FETCH(ref(Config), &#39;PATCHLEVEL&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(ref(Config), &#39;SUBVERSION&#39;) from lib/Config.pm:574</code></pre>

</li>
<li><p></p>

<pre><code class="plaintext">in  $=main::BEGIN() from /dev/nul:0
 in  $=Config::BEGIN() from lib/Config.pm:2
  Package lib/Exporter.pm.
  Package lib/Carp.pm.
 out $=Config::BEGIN() from lib/Config.pm:0
 Package lib/Config.pm.
 in  $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:644
 out $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:644
 in  $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/nul:0
  in  $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/E
  out $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/E
 out $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/nul:0
out $=main::BEGIN() from /dev/nul:0
in  @=Config::myconfig() from /dev/nul:0
 in  $=Config::FETCH(&#39;Config=HASH(0x1aa444)&#39;, &#39;package&#39;) from lib/Config.pm:574
 out $=Config::FETCH(&#39;Config=HASH(0x1aa444)&#39;, &#39;package&#39;) from lib/Config.pm:574
 in  $=Config::FETCH(&#39;Config=HASH(0x1aa444)&#39;, &#39;baserev&#39;) from lib/Config.pm:574
 out $=Config::FETCH(&#39;Config=HASH(0x1aa444)&#39;, &#39;baserev&#39;) from lib/Config.pm:574</code></pre>

</li>
<li><p></p>

<pre><code class="plaintext">in  $=CODE(0x15eca4)() from /dev/null:0
 in  $=CODE(0x182528)() from lib/Config.pm:2
  Package lib/Exporter.pm.
 out $=CODE(0x182528)() from lib/Config.pm:0
 scalar context return from CODE(0x182528): undef
 Package lib/Config.pm.
 in  $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:628
 out $=Config::TIEHASH(&#39;Config&#39;) from lib/Config.pm:628
 scalar context return from Config::TIEHASH:   empty hash
 in  $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/null:0
  in  $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/Exporter.pm:171
  out $=Exporter::export(&#39;Config&#39;, &#39;main&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from lib/Exporter.pm:171
  scalar context return from Exporter::export: &#39;&#39;
 out $=Exporter::import(&#39;Config&#39;, &#39;myconfig&#39;, &#39;config_vars&#39;) from /dev/null:0
 scalar context return from Exporter::import: &#39;&#39;</code></pre>

</li>
</ol>

<p>In all the cases indentation of lines shows the call tree, if bit 2 of <code>frame</code> is set, then a line is printed on exit from a subroutine as well, if bit 4 is set, then the arguments are printed as well as the caller info, if bit 8 is set, the arguments are printed even if they are tied or references, if bit 16 is set, the return value is printed as well.</p>

<p>When a package is compiled, a line like this</p>

<pre><code class="plaintext">Package lib/Carp.pm.</code></pre>

<p>is printed with proper indentation.</p>

</dd>
</dl>

<h2 id="Debugging-compile-time-statements"><a class="permalink" href="#Debugging-compile-time-statements">#</a><a id="Debugging"></a>Debugging compile-time statements</h2>

<p>If you have any compile-time executable statements (code within a BEGIN block or a <code>use</code> statement), these will <code>NOT</code> be stopped by debugger, although <code>require</code>s will (and compile-time statements can be traced with <code>AutoTrace</code> option set in <code>PERLDB_OPTS</code>). From your own Perl code, however, you can transfer control back to the debugger using the following statement, which is harmless if the debugger is not running:</p>

<pre><code>$DB::single = 1;</code></pre>

<p>If you set <code>$DB::single</code> to the value 2, it&#39;s equivalent to having just typed the <code>n</code> command, whereas a value of 1 means the <code>s</code> command. The <code>$DB::trace</code> variable should be set to 1 to simulate having typed the <code>t</code> command.</p>

<p>Another way to debug compile-time code is to start debugger, set a breakpoint on <i>load</i> of some module thusly</p>

<pre><code class="plaintext">  DB&lt;7&gt; b load f:/perllib/lib/Carp.pm
Will stop on load of `f:/perllib/lib/Carp.pm&#39;.</code></pre>

<p>and restart debugger by <code>R</code> command (if possible). One can use <code>b compile subname</code> for the same purpose.</p>

<h2 id="Debugger-Customization"><a class="permalink" href="#Debugger-Customization">#</a><a id="Debugger2"></a>Debugger Customization</h2>

<p>Most probably you do not want to modify the debugger, it contains enough hooks to satisfy most needs. You may change the behaviour of debugger from the debugger itself, using <code>O</code>ptions, from the command line via <code>PERLDB_OPTS</code> environment variable, and from <i>customization files</i>.</p>

<p>You can do some customization by setting up a <i>.perldb</i> file which contains initialization code. For instance, you could make aliases like these (the last one is one people expect to be there):</p>

<pre><code>$DB::alias{&#39;len&#39;}  = &#39;s/^len(.*)/p length($1)/&#39;;
$DB::alias{&#39;stop&#39;} = &#39;s/^stop (at|in)/b/&#39;;
$DB::alias{&#39;ps&#39;}   = &#39;s/^ps\b/p scalar /&#39;;
$DB::alias{&#39;quit&#39;} = &#39;s/^quit(\s*)/exit\$/&#39;;</code></pre>

<p>One changes options from <i>.perldb</i> file via calls like this one;</p>

<pre><code>parse_options(&quot;NonStop=1 LineInfo=db.out AutoTrace=1 frame=2&quot;);</code></pre>

<p>(the code is executed in the package <code>DB</code>). Note that <i>.perldb</i> is processed before processing <code>PERLDB_OPTS</code>. If <i>.perldb</i> defines the subroutine <code>afterinit</code>, it is called after all the debugger initialization ends. <i>.perldb</i> may be contained in the current directory, or in the <code>LOGDIR</code>/<code>HOME</code> directory.</p>

<p>If you want to modify the debugger, copy <i>perl5db.pl</i> from the Perl library to another name and modify it as necessary. You&#39;ll also want to set your <code>PERL5DB</code> environment variable to say something like this:</p>

<pre><code class="plaintext">BEGIN { require &quot;myperl5db.pl&quot; }</code></pre>

<p>As the last resort, one can use <code>PERL5DB</code> to customize debugger by directly setting internal variables or calling debugger functions.</p>

<h2 id="Readline-Support"><a class="permalink" href="#Readline-Support">#</a><a id="Readline"></a>Readline Support</h2>

<p>As shipped, the only command line history supplied is a simplistic one that checks for leading exclamation points. However, if you install the Term::ReadKey and Term::ReadLine modules from CPAN, you will have full editing capabilities much like GNU <i>readline</i>(3) provides. Look for these in the <i>modules/by-module/Term</i> directory on CPAN.</p>

<p>A rudimentary command line completion is also available. Unfortunately, the names of lexical variables are not available for completion.</p>

<h2 id="Editor-Support-for-Debugging"><a class="permalink" href="#Editor-Support-for-Debugging">#</a><a id="Editor"></a>Editor Support for Debugging</h2>

<p>If you have GNU <b>emacs</b> installed on your system, it can interact with the Perl debugger to provide an integrated software development environment reminiscent of its interactions with C debuggers.</p>

<p>Perl is also delivered with a start file for making <b>emacs</b> act like a syntax-directed editor that understands (some of) Perl&#39;s syntax. Look in the <i>emacs</i> directory of the Perl source distribution.</p>

<p>(Historically, a similar setup for interacting with <b>vi</b> and the X11 window system had also been available, but at the time of this writing, no debugger support for <b>vi</b> currently exists.)</p>

<h2 id="The-Perl-Profiler"><a class="permalink" href="#The-Perl-Profiler">#</a><a id="The1"></a>The Perl Profiler</h2>

<p>If you wish to supply an alternative debugger for Perl to run, just invoke your script with a colon and a package argument given to the <b>-d</b> flag. One of the most popular alternative debuggers for Perl is <b>DProf</b>, the Perl profiler. As of this writing, <b>DProf</b> is not included with the standard Perl distribution, but it is expected to be included soon, for certain values of &quot;soon&quot;.</p>

<p>Meanwhile, you can fetch the Devel::Dprof module from CPAN. Assuming it&#39;s properly installed on your system, to profile your Perl program in the file <i>mycode.pl</i>, just type:</p>

<pre><code class="plaintext">perl -d:DProf mycode.pl</code></pre>

<p>When the script terminates the profiler will dump the profile information to a file called <i>tmon.out</i>. A tool like <b>dprofpp</b> (also supplied with the Devel::DProf package) can be used to interpret the information which is in that profile.</p>

<h2 id="Debugger-support-in-perl"><a class="permalink" href="#Debugger-support-in-perl">#</a><a id="Debugger3"></a>Debugger support in perl</h2>

<p>When you call the <b>caller</b> function (see <a href="perlfunc.html#caller">&quot;caller&quot; in perlfunc</a>) from the package DB, Perl sets the array @DB::args to contain the arguments the corresponding stack frame was called with.</p>

<p>If perl is run with <b>-d</b> option, the following additional features are enabled (cf. <a href="perlvar.html#%24%5EP">&quot;$^P&quot; in perlvar</a>):</p>

<ul>

<li><p>Perl inserts the contents of <code>$ENV{PERL5DB}</code> (or <code>BEGIN {require &#39;perl5db.pl&#39;}</code> if not present) before the first line of the application.</p>

</li>
<li><p>The array <code>@{&quot;_&lt;$filename&quot;}</code> is the line-by-line contents of $filename for all the compiled files. Same for <code>eval</code>ed strings which contain subroutines, or which are currently executed. The <code>$filename</code> for <code>eval</code>ed strings looks like <code>(eval 34)</code>.</p>

</li>
<li><p>The hash <code>%{&quot;_&lt;$filename&quot;}</code> contains breakpoints and action (it is keyed by line number), and individual entries are settable (as opposed to the whole hash). Only true/false is important to Perl, though the values used by <i>perl5db.pl</i> have the form <code>&quot;$break_condition\0$action&quot;</code>. Values are magical in numeric context: they are zeros if the line is not breakable.</p>

<p>Same for evaluated strings which contain subroutines, or which are currently executed. The $filename for <code>eval</code>ed strings looks like <code>(eval 34)</code>.</p>

</li>
<li><p>The scalar <code>${&quot;_&lt;$filename&quot;}</code> contains <code>&quot;_&lt;$filename&quot;</code>. Same for evaluated strings which contain subroutines, or which are currently executed. The $filename for <code>eval</code>ed strings looks like <code>(eval 34)</code>.</p>

</li>
<li><p>After each <code>require</code>d file is compiled, but before it is executed, <code>DB::postponed(*{&quot;_&lt;$filename&quot;})</code> is called (if subroutine <code>DB::postponed</code> exists). Here the $filename is the expanded name of the <code>require</code>d file (as found in values of %INC).</p>

</li>
<li><p>After each subroutine <code>subname</code> is compiled existence of <code>$DB::postponed{subname}</code> is checked. If this key exists, <code>DB::postponed(subname)</code> is called (if subroutine <code>DB::postponed</code> exists).</p>

</li>
<li><p>A hash <code>%DB::sub</code> is maintained, with keys being subroutine names, values having the form <code>filename:startline-endline</code>. <code>filename</code> has the form <code>(eval 31)</code> for subroutines defined inside <code>eval</code>s.</p>

</li>
<li><p>When execution of the application reaches a place that can have a breakpoint, a call to <code>DB::DB()</code> is performed if any one of variables $DB::trace, $DB::single, or $DB::signal is true. (Note that these variables are not <code>local</code>izable.) This feature is disabled when the control is inside <code>DB::DB()</code> or functions called from it (unless <code>$^D &amp; (1&lt;&lt;30)</code>).</p>

</li>
<li><p>When execution of the application reaches a subroutine call, a call to <code>&amp;DB::sub</code>(<i>args</i>) is performed instead, with <code>$DB::sub</code> being the name of the called subroutine. (Unless the subroutine is compiled in the package <code>DB</code>.)</p>

</li>
</ul>

<p>Note that if <code>&amp;DB::sub</code> needs some external data to be setup for it to work, no subroutine call is possible until this is done. For the standard debugger <code>$DB::deep</code> (how many levels of recursion deep into the debugger you can go before a mandatory break) gives an example of such a dependency.</p>

<p>The minimal working debugger consists of one line</p>

<pre><code class="plaintext">sub DB::DB {}</code></pre>

<p>which is quite handy as contents of <code>PERL5DB</code> environment variable:</p>

<pre><code class="plaintext">env &quot;PERL5DB=sub DB::DB {}&quot; perl -d your-script</code></pre>

<p>Another (a little bit more useful) minimal debugger can be created with the only line being</p>

<pre><code>sub DB::DB {print ++$i; scalar &lt;STDIN&gt;}</code></pre>

<p>This debugger would print the sequential number of encountered statement, and would wait for your <code>CR</code> to continue.</p>

<p>The following debugger is quite functional:</p>

<pre><code>{
  package DB;
  sub DB  {}
  sub sub {print ++$i, &quot; $sub\n&quot;; &amp;$sub}
}</code></pre>

<p>It prints the sequential number of subroutine call and the name of the called subroutine. Note that <code>&amp;DB::sub</code> should be compiled into the package <code>DB</code>.</p>

<h2 id="Debugger-Internals"><a class="permalink" href="#Debugger-Internals">#</a><a id="Debugger4"></a>Debugger Internals</h2>

<p>At the start, the debugger reads your rc file (<i>./.perldb</i> or <i>~/.perldb</i> under Unix), which can set important options. This file may define a subroutine <code>&amp;afterinit</code> to be executed after the debugger is initialized.</p>

<p>After the rc file is read, the debugger reads environment variable PERLDB_OPTS and parses it as a rest of <code>O ...</code> line in debugger prompt.</p>

<p>It also maintains magical internal variables, such as <code>@DB::dbline</code>, <code>%DB::dbline</code>, which are aliases for <code>@{&quot;::_&lt;current_file&quot;}</code> <code>%{&quot;::_&lt;current_file&quot;}</code>. Here <code>current_file</code> is the currently selected (with the debugger&#39;s <code>f</code> command, or by flow of execution) file.</p>

<p>Some functions are provided to simplify customization. See <a href="#Debugger-Customization">&quot;Debugger Customization&quot;</a> for description of <code>DB::parse_options(string)</code>. The function <code>DB::dump_trace(skip[, count])</code> skips the specified number of frames, and returns a list containing info about the caller frames (all if <code>count</code> is missing). Each entry is a hash with keys <code>context</code> (<code>$</code> or <code>@</code>), <code>sub</code> (subroutine name, or info about eval), <code>args</code> (<code>undef</code> or a reference to an array), <code>file</code>, and <code>line</code>.</p>

<p>The function <code>DB::print_trace(FH, skip[, count[, short]])</code> prints formatted info about caller frames. The last two functions may be convenient as arguments to <code>&lt;</code>, <code>&lt;&lt;</code> commands.</p>

<h2 id="Other-resources"><a class="permalink" href="#Other-resources">#</a><a id="Other"></a>Other resources</h2>

<p>You did try the <b>-w</b> switch, didn&#39;t you?</p>

<h2 id="BUGS"><a class="permalink" href="#BUGS">#</a>BUGS</h2>

<p>You cannot get the stack frame information or otherwise debug functions that were not compiled by Perl, such as C or C++ extensions.</p>

<p>If you alter your @_ arguments in a subroutine (such as with <b>shift</b> or <b>pop</b>, the stack backtrace will not show the original values.</p>

<h1 id="Debugging-Perl-memory-usage"><a class="permalink" href="#Debugging-Perl-memory-usage">#</a><a id="Debugging1"></a>Debugging Perl memory usage</h1>

<p>Perl is <i>very</i> frivolous with memory. There is a saying that to estimate memory usage of Perl, assume a reasonable algorithm of allocation, and multiply your estimages by 10. This is not absolutely true, but may give you a good grasp of what happens.</p>

<p>Say, an integer cannot take less than 20 bytes of memory, a float cannot take less than 24 bytes, a string cannot take less than 32 bytes (all these examples assume 32-bit architectures, the result are much worse on 64-bit architectures). If a variable is accessed in two of three different ways (which require an integer, a float, or a string), the memory footprint may increase by another 20 bytes. A sloppy malloc() implementation will make these numbers yet more.</p>

<p>On the opposite end of the scale, a declaration like</p>

<pre><code>sub foo;</code></pre>

<p>may take (on some versions of perl) up to 500 bytes of memory.</p>

<p>Off-the-cuff anecdotal estimates of a code bloat give a factor around 8. This means that the compiled form of reasonable (commented indented etc.) code will take approximately 8 times more than the disk space the code takes.</p>

<p>There are two Perl-specific ways to analyze the memory usage: $ENV{PERL_DEBUG_MSTATS} and <b>-DL</b> switch. First one is available only if perl is compiled with Perl&#39;s malloc(), the second one only if Perl compiled with <code>-DDEBUGGING</code> (as with giving <code>-D optimise=-g</code> option to <i>Configure</i>).</p>

<h2 id="Using-$ENV{PERL_DEBUG_MSTATS}"><a class="permalink" href="#Using-$ENV%7BPERL_DEBUG_MSTATS%7D">#</a><a id="Using"></a><a id="Using-ENV-PERL_DEBUG_MSTATS"></a>Using <code>$ENV{PERL_DEBUG_MSTATS}</code></h2>

<p>If your perl is using Perl&#39;s malloc(), and compiled with correct switches (this is the default), then it will print memory usage statistics after compiling your code (if <code>$ENV{PERL_DEBUG_MSTATS}</code> &gt; 1), and before termination of the script (if <code>$ENV{PERL_DEBUG_MSTATS}</code> &gt;= 1). The report format is similar to one in the following example:</p>

<pre><code class="plaintext">  env PERL_DEBUG_MSTATS=2 perl -e &quot;require Carp&quot;
  Memory allocation statistics after compilation: (buckets 4(4)..8188(8192)
     14216 free:   130   117    28     7     9   0   2     2   1 0 0
		437    61    36     0     5
     60924 used:   125   137   161    55     7   8   6    16   2 0 1
		 74   109   304    84    20
  Total sbrk(): 77824/21:119. Odd ends: pad+heads+chain+tail: 0+636+0+2048.
  Memory allocation statistics after execution:   (buckets 4(4)..8188(8192)
     30888 free:   245    78    85    13     6   2   1     3   2 0 1
		315   162    39    42    11
    175816 used:   265   176  1112   111    26  22  11    27   2 1 1
		196   178  1066   798    39
  Total sbrk(): 215040/47:145. Odd ends: pad+heads+chain+tail: 0+2192+0+6144.</code></pre>

<p>It is possible to ask for such a statistic at arbitrary moment by usind Devel::Peek::mstats() (module Devel::Peek is available on CPAN).</p>

<p>Here is the explanation of different parts of the format:</p>

<dl>

<dt id="buckets-SMALLEST(APPROX)..GREATEST(APPROX)"><a class="permalink" href="#buckets-SMALLEST(APPROX)..GREATEST(APPROX)">#</a><a id="buckets"></a><a id="buckets-SMALLEST-APPROX-..GREATEST-APPROX"></a><code>buckets SMALLEST(APPROX)..GREATEST(APPROX)</code></dt>
<dd>

<p>Perl&#39;s malloc() uses bucketed allocations. Every request is rounded up to the closest bucket size available, and a bucket of these size is taken from the pool of the buckets of this size.</p>

<p>The above line describes limits of buckets currently in use. Each bucket has two sizes: memory footprint, and the maximal size of user data which may be put into this bucket. Say, in the above example the smallest bucket is both sizes 4. The biggest bucket has usable size 8188, and the memory footprint 8192.</p>

<p>With debugging Perl some buckets may have negative usable size. This means that these buckets cannot (and will not) be used. For greater buckets the memory footprint may be one page greater than a power of 2. In such a case the corresponding power of two is printed instead in the <code>APPROX</code> field above.</p>

</dd>
<dt id="Free/Used"><a class="permalink" href="#Free/Used">#</a><a id="Free"></a><a id="Free-Used"></a>Free/Used</dt>
<dd>

<p>The following 1 or 2 rows of numbers correspond to the number of buckets of each size between <code>SMALLEST</code> and <code>GREATEST</code>. In the first row the sizes (memory footprints) of buckets are powers of two (or possibly one page greater). In the second row (if present) the memory footprints of the buckets are between memory footprints of two buckets &quot;above&quot;.</p>

<p>Say, with the above example the memory footprints are (with current algorith)</p>

<pre><code class="plaintext">     free:    8     16    32    64    128  256 512 1024 2048 4096 8192
	   4     12    24    48    80</code></pre>

<p>With non-<code>DEBUGGING</code> perl the buckets starting from <code>128</code>-long ones have 4-byte overhead, thus 8192-long bucket may take up to 8188-byte-long allocations.</p>

</dd>
<dt id="Total-sbrk():-SBRKed/SBRKs:CONTINUOUS"><a class="permalink" href="#Total-sbrk():-SBRKed/SBRKs:CONTINUOUS">#</a><a id="Total"></a><a id="Total-sbrk-:-SBRKed-SBRKs:CONTINUOUS"></a><code>Total sbrk(): SBRKed/SBRKs:CONTINUOUS</code></dt>
<dd>

<p>The first two fields give the total amount of memory perl sbrk()ed, and number of sbrk()s used. The third number is what perl thinks about continuity of returned chunks. As far as this number is positive, malloc() will assume that it is probable that sbrk() will provide continuous memory.</p>

<p>The amounts sbrk()ed by external libraries is not counted.</p>

</dd>
<dt id="pad:-0"><a class="permalink" href="#pad:-0">#</a><a id="pad"></a><code>pad: 0</code></dt>
<dd>

<p>The amount of sbrk()ed memory needed to keep buckets aligned.</p>

</dd>
<dt id="heads:-2192"><a class="permalink" href="#heads:-2192">#</a><a id="heads"></a><code>heads: 2192</code></dt>
<dd>

<p>While memory overhead of bigger buckets is kept inside the bucket, for smaller buckets it is kept in separate areas. This field gives the total size of these areas.</p>

</dd>
<dt id="chain:-0"><a class="permalink" href="#chain:-0">#</a><a id="chain"></a><code>chain: 0</code></dt>
<dd>

<p>malloc() may want to subdivide a bigger bucket into smaller buckets. If only a part of the deceased-bucket is left non-subdivided, the rest is kept as an element of a linked list. This field gives the total size of these chunks.</p>

</dd>
<dt id="tail:-6144"><a class="permalink" href="#tail:-6144">#</a><a id="tail"></a><code>tail: 6144</code></dt>
<dd>

<p>To minimize amount of sbrk()s malloc() asks for more memory. This field gives the size of the yet-unused part, which is sbrk()ed, but never touched.</p>

</dd>
</dl>

<h2 id="Example-of-using-DL-switch"><a class="permalink" href="#Example-of-using-DL-switch">#</a><a id="Example"></a><a id="Example-of-using--DL-switch"></a>Example of using <b>-DL</b> switch</h2>

<p>Below we show how to analyse memory usage by</p>

<pre><code>do &#39;lib/auto/POSIX/autosplit.ix&#39;;</code></pre>

<p>The file in question contains a header and 146 lines similar to</p>

<pre><code>sub getcwd ;</code></pre>

<p><b>Note:</b> <i>the discussion below supposes 32-bit architecture. In the newer versions of perl the memory usage of the constructs discussed here is much improved, but the story discussed below is a real-life story. This story is very terse, and assumes more than cursory knowledge of Perl internals.</i></p>

<p>Here is the itemized list of Perl allocations performed during parsing of this file:</p>

<pre><code class="plaintext">!!! &quot;after&quot; at test.pl line 3.
   Id  subtot   4   8  12  16  20  24  28  32  36  40  48  56  64  72  80 80+
 0 02   13752   .   .   .   . 294   .   .   .   .   .   .   .   .   .   .   4
 0 54    5545   .   .   8 124  16   .   .   .   1   1   .   .   .   .   .   3
 5 05      32   .   .   .   .   .   .   .   1   .   .   .   .   .   .   .   .
 6 02    7152   .   .   .   .   .   .   .   .   .   . 149   .   .   .   .   .
 7 02    3600   .   .   .   .   . 150   .   .   .   .   .   .   .   .   .   .
 7 03      64   .  -1   .   1   .   .   2   .   .   .   .   .   .   .   .   .
 7 04    7056   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   7
 7 17   38404   .   .   .   .   .   .   .   1   .   . 442 149   .   . 147   .
 9 03    2078  17 249  32   .   .   .   .   2   .   .   .   .   .   .   .   .</code></pre>

<p>To see this list insert two <code>warn(&#39;!...&#39;)</code> statements around the call:</p>

<pre><code>warn(&#39;!&#39;);
do &#39;lib/auto/POSIX/autosplit.ix&#39;;
warn(&#39;!!! &quot;after&quot;&#39;);</code></pre>

<p>and run it with <b>-DL</b> option. The first warn() will print memory allocation info before the parsing of the file, and will memorize the statistics at this point (we ignore what it prints). The second warn() will print increments w.r.t. this memorized statistics. This is the above printout.</p>

<p>Different <i>Id</i>s on the left correspond to different subsystems of perl interpreter, they are just first argument given to perl memory allocation API New(). To find what <code>9 03</code> means <code>grep</code> the perl source for <code>903</code>. You will see that it is <i>util.c</i>, function savepvn(). This function is used to store a copy of existing chunk of memory. Using C debugger, one can see that it is called either directly from gv_init(), or via sv_magic(), and gv_init() is called from gv_fetchpv() - which is called from newSUB().</p>

<p><b>Note:</b> to reach this place in debugger and skip all the calls to savepvn during the compilation of the main script, set a C breakpoint in Perl_warn(), <code>continue</code> this point is reached, <i>then</i> set breakpoint in Perl_savepvn(). Note that you may need to skip a handful of Perl_savepvn() which do not correspond to mass production of CVs (there are more <code>903</code> allocations than 146 similar lines of <i>lib/auto/POSIX/autosplit.ix</i>). Note also that <code>Perl_</code> prefixes are added by macroization code in perl header files to avoid conflicts with external libraries.</p>

<p>Anyway, we see that <code>903</code> ids correspond to creation of globs, twice per glob - for glob name, and glob stringification magic.</p>

<p>Here are explanations for other <i>Id</i>s above:</p>

<dl>

<dt id="717"><a class="permalink" href="#717">#</a><a id="pod717"></a><code>717</code></dt>
<dd>

<p>is for creation of bigger <code>XPV*</code> structures. In the above case it creates 3 <code>AV</code> per subroutine, one for a list of lexical variable names, one for a scratchpad (which contains lexical variables and <code>targets</code>), and one for the array of scratchpads needed for recursion.</p>

<p>It also creates a <code>GV</code> and a <code>CV</code> per subroutine (all called from start_subparse()).</p>

</dd>
<dt id="002"><a class="permalink" href="#002">#</a><a id="pod002"></a><code>002</code></dt>
<dd>

<p>Creates C array corresponding to the <code>AV</code> of scratchpads, and the scratchpad itself (the first fake entry of this scratchpad is created though the subroutine itself is not defined yet).</p>

<p>It also creates C arrays to keep data for the stash (this is one HV, but it grows, thus there are 4 big allocations: the big chunks are not freeed, but are kept as additional arenas for <code>SV</code> allocations).</p>

</dd>
<dt id="054"><a class="permalink" href="#054">#</a><a id="pod054"></a><code>054</code></dt>
<dd>

<p>creates a <code>HEK</code> for the name of the glob for the subroutine (this name is a key in a <i>stash</i>).</p>

<p>Big allocations with this <i>Id</i> correspond to allocations of new arenas to keep <code>HE</code>.</p>

</dd>
<dt id="602"><a class="permalink" href="#602">#</a><a id="pod602"></a><code>602</code></dt>
<dd>

<p>creates a <code>GP</code> for the glob for the subroutine.</p>

</dd>
<dt id="702"><a class="permalink" href="#702">#</a><a id="pod702"></a><code>702</code></dt>
<dd>

<p>creates the <code>MAGIC</code> for the glob for the subroutine.</p>

</dd>
<dt id="704"><a class="permalink" href="#704">#</a><a id="pod704"></a><code>704</code></dt>
<dd>

<p>creates <i>arenas</i> which keep SVs.</p>

</dd>
</dl>

<h2 id="-DL-details"><a class="permalink" href="#-DL-details">#</a><a id="DL-details"></a><b>-DL</b> details</h2>

<p>If Perl is run with <b>-DL</b> option, then warn()s which start with `!&#39; behave specially. They print a list of <i>categories</i> of memory allocations, and statistics of allocations of different sizes for these categories.</p>

<p>If warn() string starts with</p>

<dl>

<dt id="!!!"><a class="permalink" href="#!!!">#</a><a id="pod2"></a><code>!!!</code></dt>
<dd>

<p>print changed categories only, print the differences in counts of allocations;</p>

</dd>
<dt id="!!"><a class="permalink" href="#!!">#</a><a id="pod3"></a><code>!!</code></dt>
<dd>

<p>print grown categories only; print the absolute values of counts, and totals;</p>

</dd>
<dt id="!"><a class="permalink" href="#!">#</a><a id="pod4"></a><code>!</code></dt>
<dd>

<p>print nonempty categories, print the absolute values of counts and totals.</p>

</dd>
</dl>

<h2 id="Limitations-of-DL-statistic"><a class="permalink" href="#Limitations-of-DL-statistic">#</a><a id="Limitations"></a><a id="Limitations-of--DL-statistic"></a>Limitations of <b>-DL</b> statistic</h2>

<p>If an extension or an external library does not use Perl API to allocate memory, these allocations are not counted.</p>

<h1 id="Debugging-regular-expressions"><a class="permalink" href="#Debugging-regular-expressions">#</a><a id="Debugging2"></a>Debugging regular expressions</h1>

<p>There are two ways to enable debugging output for regular expressions.</p>

<p>If your perl is compiled with <code>-DDEBUGGING</code>, you may use the <b>-Dr</b> flag on the command line.</p>

<p>Otherwise, one can <code>use re &#39;debug&#39;</code>, which has effects both at compile time, and at run time (and is <i>not</i> lexically scoped).</p>

<h2 id="Compile-time-output"><a class="permalink" href="#Compile-time-output">#</a><a id="Compile"></a>Compile-time output</h2>

<p>The debugging output for the compile time looks like this:</p>

<pre><code class="plaintext">  compiling RE `[bc]d(ef*g)+h[ij]k$&#39;
  size 43 first at 1
     1: ANYOF(11)
    11: EXACT &lt;d&gt;(13)
    13: CURLYX {1,32767}(27)
    15:   OPEN1(17)
    17:     EXACT &lt;e&gt;(19)
    19:     STAR(22)
    20:       EXACT &lt;f&gt;(0)
    22:     EXACT &lt;g&gt;(24)
    24:   CLOSE1(26)
    26:   WHILEM(0)
    27: NOTHING(28)
    28: EXACT &lt;h&gt;(30)
    30: ANYOF(40)
    40: EXACT &lt;k&gt;(42)
    42: EOL(43)
    43: END(0)
  anchored `de&#39; at 1 floating `gh&#39; at 3..2147483647 (checking floating)
				    stclass `ANYOF&#39; minlen 7</code></pre>

<p>The first line shows the pre-compiled form of the regexp, and the second shows the size of the compiled form (in arbitrary units, usually 4-byte words) and the label <i>id</i> of the first node which does a match.</p>

<p>The last line (split into two lines in the above) contains the optimizer info. In the example shown, the optimizer found that the match should contain a substring <code>de</code> at the offset 1, and substring <code>gh</code> at some offset between 3 and infinity. Moreover, when checking for these substrings (to abandon impossible matches quickly) it will check for the substring <code>gh</code> before checking for the substring <code>de</code>. The optimizer may also use the knowledge that the match starts (at the <code>first</code> <i>id</i>) with a character class, and the match cannot be shorter than 7 chars.</p>

<p>The fields of interest which may appear in the last line are</p>

<dl>

<dt id="anchored-STRING-at-POS"><a class="permalink" href="#anchored-STRING-at-POS">#</a><a id="anchored"></a><code>anchored</code> <i>STRING</i> <code>at</code> <i>POS</i></dt>
<dd>

</dd>
<dt id="floating-STRING-at-POS1..POS2"><a class="permalink" href="#floating-STRING-at-POS1..POS2">#</a><a id="floating"></a><code>floating</code> <i>STRING</i> <code>at</code> <i>POS1..POS2</i></dt>
<dd>

<p>see above;</p>

</dd>
<dt id="matching-floating/anchored"><a class="permalink" href="#matching-floating/anchored">#</a><a id="matching"></a><a id="matching-floating-anchored"></a><code>matching floating/anchored</code></dt>
<dd>

<p>which substring to check first;</p>

</dd>
<dt id="minlen"><a class="permalink" href="#minlen">#</a><code>minlen</code></dt>
<dd>

<p>the minimal length of the match;</p>

</dd>
<dt id="stclass-TYPE"><a class="permalink" href="#stclass-TYPE">#</a><a id="stclass"></a><code>stclass</code> <i>TYPE</i></dt>
<dd>

<p>The type of the first matching node.</p>

</dd>
<dt id="noscan"><a class="permalink" href="#noscan">#</a><code>noscan</code></dt>
<dd>

<p>which advises to not scan for the found substrings;</p>

</dd>
<dt id="isall"><a class="permalink" href="#isall">#</a><code>isall</code></dt>
<dd>

<p>which says that the optimizer info is in fact all that the regular expression contains (thus one does not need to enter the RE engine at all);</p>

</dd>
<dt id="GPOS"><a class="permalink" href="#GPOS">#</a><code>GPOS</code></dt>
<dd>

<p>if the pattern contains <code>\G</code>;</p>

</dd>
<dt id="plus"><a class="permalink" href="#plus">#</a><code>plus</code></dt>
<dd>

<p>if the pattern starts with a repeated char (as in <code>x+y</code>);</p>

</dd>
<dt id="implicit"><a class="permalink" href="#implicit">#</a><code>implicit</code></dt>
<dd>

<p>if the pattern starts with <code>.*</code>;</p>

</dd>
<dt id="with-eval"><a class="permalink" href="#with-eval">#</a><a id="with"></a><code>with eval</code></dt>
<dd>

<p>if the pattern contain eval-groups (see <a href="perlre.html#(%3F%7B-code-%7D)">&quot;(?{ code })&quot; in perlre</a>);</p>

</dd>
<dt id="anchored(TYPE)"><a class="permalink" href="#anchored(TYPE)">#</a><a id="anchored1"></a><a id="anchored-TYPE"></a><code>anchored(TYPE)</code></dt>
<dd>

<p>if the pattern may match only at a handful of places (with <code>TYPE</code> being <code>BOL</code>, <code>MBOL</code>, or <code>GPOS</code>, see the table below).</p>

</dd>
</dl>

<p>If a substring is known to match at end-of-line only, it may be followed by <code>$</code>, as in <code>floating `k&#39;$</code>.</p>

<p>The optimizer-specific info is used to avoid entering (a slow) RE engine on strings which will definitely not match. If <code>isall</code> flag is set, a call to the RE engine may be avoided even when optimizer found an appropriate place for the match.</p>

<p>The rest of the output contains the list of <i>nodes</i> of the compiled form of the RE. Each line has format</p>

<p><code> </code><i>id</i>: <i>TYPE</i> <i>OPTIONAL-INFO</i> (<i>next-id</i>)</p>

<h2 id="Types-of-nodes"><a class="permalink" href="#Types-of-nodes">#</a><a id="Types"></a>Types of nodes</h2>

<p>Here is the list of possible types with short descriptions:</p>

<pre><code class="plaintext"># TYPE arg-description [num-args] [longjump-len] DESCRIPTION

# Exit points
END		no	End of program.
SUCCEED	no	Return from a subroutine, basically.

# Anchors:
BOL		no	Match &quot;&quot; at beginning of line.
MBOL	no	Same, assuming multiline.
SBOL	no	Same, assuming singleline.
EOS		no	Match &quot;&quot; at end of string.
EOL		no	Match &quot;&quot; at end of line.
MEOL	no	Same, assuming multiline.
SEOL	no	Same, assuming singleline.
BOUND	no	Match &quot;&quot; at any word boundary
BOUNDL	no	Match &quot;&quot; at any word boundary
NBOUND	no	Match &quot;&quot; at any word non-boundary
NBOUNDL	no	Match &quot;&quot; at any word non-boundary
GPOS	no	Matches where last m//g left off.

# [Special] alternatives
ANY		no	Match any one character (except newline).
SANY	no	Match any one character.
ANYOF	sv	Match character in (or not in) this class.
ALNUM	no	Match any alphanumeric character
ALNUML	no	Match any alphanumeric char in locale
NALNUM	no	Match any non-alphanumeric character
NALNUML	no	Match any non-alphanumeric char in locale
SPACE	no	Match any whitespace character
SPACEL	no	Match any whitespace char in locale
NSPACE	no	Match any non-whitespace character
NSPACEL	no	Match any non-whitespace char in locale
DIGIT	no	Match any numeric character
NDIGIT	no	Match any non-numeric character

# BRANCH	The set of branches constituting a single choice are hooked
#		together with their &quot;next&quot; pointers, since precedence prevents
#		anything being concatenated to any individual branch.  The
#		&quot;next&quot; pointer of the last BRANCH in a choice points to the
#		thing following the whole choice.  This is also where the
#		final &quot;next&quot; pointer of each individual branch points; each
#		branch starts with the operand node of a BRANCH node.
#
BRANCH	node	Match this alternative, or the next...

# BACK	Normal &quot;next&quot; pointers all implicitly point forward; BACK
#		exists to make loop structures possible.
# not used
BACK	no	Match &quot;&quot;, &quot;next&quot; ptr points backward.

# Literals
EXACT	sv	Match this string (preceded by length).
EXACTF	sv	Match this string, folded (prec. by length).
EXACTFL	sv	Match this string, folded in locale (w/len).

# Do nothing
NOTHING	no	Match empty string.
# A variant of above which delimits a group, thus stops optimizations
TAIL	no	Match empty string. Can jump here from outside.

# STAR,PLUS	&#39;?&#39;, and complex &#39;*&#39; and &#39;+&#39;, are implemented as circular
#		BRANCH structures using BACK.  Simple cases (one character
#		per match) are implemented with STAR and PLUS for speed
#		and to minimize recursive plunges.
#
STAR	node	Match this (simple) thing 0 or more times.
PLUS	node	Match this (simple) thing 1 or more times.

CURLY	sv 2	Match this simple thing {n,m} times.
CURLYN	no 2	Match next-after-this simple thing 
#			{n,m} times, set parenths.
CURLYM	no 2	Match this medium-complex thing {n,m} times.
CURLYX	sv 2	Match this complex thing {n,m} times.

# This terminator creates a loop structure for CURLYX
WHILEM	no	Do curly processing and see if rest matches.

# OPEN,CLOSE,GROUPP	...are numbered at compile time.
OPEN	num 1	Mark this point in input as start of #n.
CLOSE	num 1	Analogous to OPEN.

REF		num 1	Match some already matched string
REFF	num 1	Match already matched string, folded
REFFL	num 1	Match already matched string, folded in loc.

# grouping assertions
IFMATCH	off 1 2	Succeeds if the following matches.
UNLESSM	off 1 2	Fails if the following matches.
SUSPEND	off 1 1	&quot;Independent&quot; sub-RE.
IFTHEN	off 1 1	Switch, should be preceeded by switcher .
GROUPP	num 1	Whether the group matched.

# Support for long RE
LONGJMP	off 1 1	Jump far away.
BRANCHJ	off 1 1	BRANCH with long offset.

# The heavy worker
EVAL	evl 1	Execute some Perl code.

# Modifiers
MINMOD	no	Next operator is not greedy.
LOGICAL	no	Next opcode should set the flag only.

# This is not used yet
RENUM	off 1 1	Group with independently numbered parens.

# This is not really a node, but an optimized away piece of a &quot;long&quot; node.
# To simplify debugging output, we mark it as if it were a node
OPTIMIZED	off	Placeholder for dump.</code></pre>

<h2 id="Run-time-output"><a class="permalink" href="#Run-time-output">#</a><a id="Run"></a>Run-time output</h2>

<p>First of all, when doing a match, one may get no run-time output even if debugging is enabled. this means that the RE engine was never entered, all of the job was done by the optimizer.</p>

<p>If RE engine was entered, the output may look like this:</p>

<pre><code class="plaintext">  Matching `[bc]d(ef*g)+h[ij]k$&#39; against `abcdefg__gh__&#39;
    Setting an EVAL scope, savestack=3
     2 &lt;ab&gt; &lt;cdefg__gh_&gt;    |  1: ANYOF
     3 &lt;abc&gt; &lt;defg__gh_&gt;    | 11: EXACT &lt;d&gt;
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 13: CURLYX {1,32767}
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 26:   WHILEM
				0 out of 1..32767  cc=effff31c
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 15:     OPEN1
     4 &lt;abcd&gt; &lt;efg__gh_&gt;    | 17:     EXACT &lt;e&gt;
     5 &lt;abcde&gt; &lt;fg__gh_&gt;    | 19:     STAR
			     EXACT &lt;f&gt; can match 1 times out of 32767...
    Setting an EVAL scope, savestack=3
     6 &lt;bcdef&gt; &lt;g__gh__&gt;    | 22:       EXACT &lt;g&gt;
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 24:       CLOSE1
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 26:       WHILEM
				    1 out of 1..32767  cc=effff31c
    Setting an EVAL scope, savestack=12
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 15:         OPEN1
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 17:         EXACT &lt;e&gt;
       restoring \1 to 4(4)..7
				    failed, try continuation...
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 27:         NOTHING
     7 &lt;bcdefg&gt; &lt;__gh__&gt;    | 28:         EXACT &lt;h&gt;
				    failed...
				failed...</code></pre>

<p>The most significant information in the output is about the particular <i>node</i> of the compiled RE which is currently being tested against the target string. The format of these lines is</p>

<p><code> </code><i>STRING-OFFSET</i> &lt;<i>PRE-STRING</i>&gt; &lt;<i>POST-STRING</i>&gt; |<i>ID</i>: <i>TYPE</i></p>

<p>The <i>TYPE</i> info is indented with respect to the backtracking level. Other incidental information appears interspersed within.</p>

<div class="pod-errors"><p>4 POD Errors</p><div class="pod-errors-detail"><p>The following errors were encountered while parsing the POD:</p><dl><dt><a class="permalink" href="#">#</a>Around line 744:</dt><dd><p>You have &#39;=item 4&#39; instead of the expected &#39;=item 3&#39;</p></dd><dt><a class="permalink" href="#">#</a>Around line 762:</dt><dd><p>You have &#39;=item 6&#39; instead of the expected &#39;=item 4&#39;</p></dd><dt><a class="permalink" href="#">#</a>Around line 786:</dt><dd><p>You have &#39;=item 14&#39; instead of the expected &#39;=item 5&#39;</p></dd><dt><a class="permalink" href="#">#</a>Around line 807:</dt><dd><p>You have &#39;=item 30&#39; instead of the expected &#39;=item 6&#39;</p></dd></dl></div></div>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/5.005_01/perldebug by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:48 GMT -->
</html>
