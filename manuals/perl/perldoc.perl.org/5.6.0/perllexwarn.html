<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/5.6.0/perllexwarn by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perllexwarn - Perl Lexical Warnings - Perldoc Browser</title>
    <link rel="search" href="../opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="../perllexwarn.html">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="../css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html"><img src="../images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.6.0</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="../perllexwarn.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0/perllexwarn">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/perllexwarn">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/perllexwarn">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/perllexwarn">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/perllexwarn">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/perllexwarn">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/perllexwarn">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/perllexwarn">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/perllexwarn">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/perllexwarn">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/perllexwarn">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/perllexwarn">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/perllexwarn">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/perllexwarn">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/perllexwarn">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/perllexwarn">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/perllexwarn">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/perllexwarn">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/perllexwarn">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/perllexwarn">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/perllexwarn">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/perllexwarn">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/perllexwarn">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/perllexwarn">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/perllexwarn">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/perllexwarn">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/perllexwarn">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/perllexwarn">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/perllexwarn">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/perllexwarn">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/perllexwarn">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/perllexwarn">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/perllexwarn">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/perllexwarn">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/perllexwarn">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/perllexwarn">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/perllexwarn">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/perllexwarn">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/perllexwarn">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/perllexwarn">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/perllexwarn">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/perllexwarn">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/perllexwarn">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/perllexwarn">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/perllexwarn">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/perllexwarn">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/perllexwarn">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/perllexwarn">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/perllexwarn">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/perllexwarn">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/perllexwarn">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/perllexwarn">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/perllexwarn">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/perllexwarn">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/perllexwarn">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/perllexwarn">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/perllexwarn">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/perllexwarn">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/perllexwarn">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/perllexwarn">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/perllexwarn">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/perllexwarn">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/perllexwarn">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/perllexwarn">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/perllexwarn">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/perllexwarn">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/perllexwarn">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/perllexwarn">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/perllexwarn">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/perllexwarn">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/perllexwarn">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/perllexwarn">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/perllexwarn">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/perllexwarn">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/perllexwarn">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/perllexwarn">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/perllexwarn">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/perllexwarn">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/perllexwarn">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.6.2/perllexwarn.html">5.6.2</a>
          <a class="dropdown-item" href="../5.6.1/perllexwarn.html">5.6.1</a>
          <a class="dropdown-item active" href="perllexwarn.html">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_04/perllexwarn">5.005_04</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_03/perllexwarn">5.005_03</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_02/perllexwarn">5.005_02</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005_01/perllexwarn">5.005_01</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.005/perllexwarn">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/perllexwarn">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/perllexwarn">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/perllexwarn">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/perllexwarn">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/perllexwarn">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/perllexwarn">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/perllexwarn">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/perllexwarn">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/perllexwarn">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/perllexwarn">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/perllexwarn">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/perllexwarn">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/perllexwarn">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/perllexwarn">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/perllexwarn">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/perllexwarn">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/perllexwarn">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/perllexwarn">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/perllexwarn">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/perllexwarn">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="../js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/5.6.0/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="../js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perllexwarn.html">perllexwarn</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/5.6.0/perllexwarn.txt">source</a>,
            <a href="https://metacpan.org/pod/perllexwarn">CPAN</a>)
          </div>
        </div>
        <div class="leading-notice">
          You are viewing the version of this documentation from Perl 5.6.0.
            <a href="../perllexwarn.html">View the latest version</a>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Default-Warnings-and-Optional-Warnings">Default Warnings and Optional Warnings</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#What&#39;s-wrong-with-w-and-$%5EW">What&#39;s wrong with -w and $^W</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Controlling-Warnings-from-the-Command-Line">Controlling Warnings from the Command Line</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Backward-Compatibility">Backward Compatibility</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Category-Hierarchy">Category Hierarchy</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Fatal-Warnings">Fatal Warnings</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#Reporting-Warnings-from-a-Module">Reporting Warnings from a Module</a>
              </li>
          </ul>

              </li>
              <li>
                <a class="text-decoration-none" href="#TODO">TODO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#AUTHOR">AUTHOR</a>
              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perllexwarn - Perl Lexical Warnings</p>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>The <code>use warnings</code> pragma is a replacement for both the command line flag <b>-w</b> and the equivalent Perl variable, <code>$^W</code>.</p>

<p>The pragma works just like the existing &quot;strict&quot; pragma. This means that the scope of the warning pragma is limited to the enclosing block. It also means that that the pragma setting will not leak across files (via <code>use</code>, <code>require</code> or <code>do</code>). This allows authors to independently define the degree of warning checks that will be applied to their module.</p>

<p>By default, optional warnings are disabled, so any legacy code that doesn&#39;t attempt to control the warnings will work unchanged.</p>

<p>All warnings are enabled in a block by either of these:</p>

<pre><code>use warnings ;
use warnings &#39;all&#39; ;</code></pre>

<p>Similarly all warnings are disabled in a block by either of these:</p>

<pre><code>no warnings ;
no warnings &#39;all&#39; ;</code></pre>

<p>For example, consider the code below:</p>

<pre><code>    use warnings ;
    my $a ;
    my $b ;
    {
        no warnings ;
	$b = 2 if $a EQ 3 ;
    }
    $b = 1 if $a NE 3 ;</code></pre>

<p>The code in the enclosing block has warnings enabled, but the inner block has them disabled. In this case that means that the use of the <code>EQ</code> operator won&#39;t trip a <code>&quot;Use of EQ is deprecated&quot;</code> warning, but the use of <code>NE</code> will produce a <code>&quot;Use of NE is deprecated&quot;</code> warning.</p>

<h2 id="Default-Warnings-and-Optional-Warnings"><a class="permalink" href="#Default-Warnings-and-Optional-Warnings">#</a><a id="Default"></a>Default Warnings and Optional Warnings</h2>

<p>Before the introduction of lexical warnings, Perl had two classes of warnings: mandatory and optional.</p>

<p>As its name suggests, if your code tripped a mandatory warning, you would get a warning whether you wanted it or not. For example, the code below would always produce an <code>&quot;isn&#39;t numeric&quot;</code> warning about the &quot;2:&quot;.</p>

<pre><code>my $a = &quot;2:&quot; + 3;</code></pre>

<p>With the introduction of lexical warnings, mandatory warnings now become <i>default</i> warnings. The difference is that although the previously mandatory warnings are still enabled by default, they can then be subsequently enabled or disabled with the lexical warning pragma. For example, in the code below, an <code>&quot;isn&#39;t numeric&quot;</code> warning will only be reported for the <code>$a</code> variable.</p>

<pre><code>my $a = &quot;2:&quot; + 3;
no warnings ;
my $b = &quot;2:&quot; + 3;</code></pre>

<p>Note that neither the <b>-w</b> flag or the <code>$^W</code> can be used to disable/enable default warnings. They are still mandatory in this case.</p>

<h2 id="What&#39;s-wrong-with-w-and-$^W"><a class="permalink" href="#What&#39;s-wrong-with-w-and-$%5EW">#</a><a id="What"></a><a id="Whats-wrong-with--w-and-W"></a>What&#39;s wrong with <b>-w</b> and <code>$^W</code></h2>

<p>Although very useful, the big problem with using <b>-w</b> on the command line to enable warnings is that it is all or nothing. Take the typical scenario when you are writing a Perl program. Parts of the code you will write yourself, but it&#39;s very likely that you will make use of pre-written Perl modules. If you use the <b>-w</b> flag in this case, you end up enabling warnings in pieces of code that you haven&#39;t written.</p>

<p>Similarly, using <code>$^W</code> to either disable or enable blocks of code is fundamentally flawed. For a start, say you want to disable warnings in a block of code. You might expect this to be enough to do the trick:</p>

<pre><code>     {
         local ($^W) = 0 ;
	 my $a =+ 2 ;
	 my $b ; chop $b ;
     }</code></pre>

<p>When this code is run with the <b>-w</b> flag, a warning will be produced for the <code>$a</code> line -- <code>&quot;Reversed += operator&quot;</code>.</p>

<p>The problem is that Perl has both compile-time and run-time warnings. To disable compile-time warnings you need to rewrite the code like this:</p>

<pre><code>     {
         BEGIN { $^W = 0 }
	 my $a =+ 2 ;
	 my $b ; chop $b ;
     }</code></pre>

<p>The other big problem with <code>$^W</code> is that way you can inadvertently change the warning setting in unexpected places in your code. For example, when the code below is run (without the <b>-w</b> flag), the second call to <code>doit</code> will trip a <code>&quot;Use of uninitialized value&quot;</code> warning, whereas the first will not.</p>

<pre><code>sub doit
{
    my $b ; chop $b ;
}

doit() ;

{
    local ($^W) = 1 ;
    doit()
}</code></pre>

<p>This is a side-effect of <code>$^W</code> being dynamically scoped.</p>

<p>Lexical warnings get around these limitations by allowing finer control over where warnings can or can&#39;t be tripped.</p>

<h2 id="Controlling-Warnings-from-the-Command-Line"><a class="permalink" href="#Controlling-Warnings-from-the-Command-Line">#</a><a id="Controlling"></a>Controlling Warnings from the Command Line</h2>

<p>There are three Command Line flags that can be used to control when warnings are (or aren&#39;t) produced:</p>

<dl>

<dt id="-w"><a class="permalink" href="#-w">#</a><a id="w"></a><b>-w</b></dt>
<dd>

<p>This is the existing flag. If the lexical warnings pragma is <b>not</b> used in any of you code, or any of the modules that you use, this flag will enable warnings everywhere. See <a href="#Backward-Compatibility">&quot;Backward Compatibility&quot;</a> for details of how this flag interacts with lexical warnings.</p>

</dd>
<dt id="-W"><a class="permalink" href="#-W">#</a><a id="W"></a><b>-W</b></dt>
<dd>

<p>If the <b>-W</b> flag is used on the command line, it will enable all warnings throughout the program regardless of whether warnings were disabled locally using <code>no warnings</code> or <code>$^W =0</code>. This includes all files that get included via <code>use</code>, <code>require</code> or <code>do</code>. Think of it as the Perl equivalent of the &quot;lint&quot; command.</p>

</dd>
<dt id="-X"><a class="permalink" href="#-X">#</a><a id="X"></a><b>-X</b></dt>
<dd>

<p>Does the exact opposite to the <b>-W</b> flag, i.e. it disables all warnings.</p>

</dd>
</dl>

<h2 id="Backward-Compatibility"><a class="permalink" href="#Backward-Compatibility">#</a><a id="Backward"></a>Backward Compatibility</h2>

<p>If you are used with working with a version of Perl prior to the introduction of lexically scoped warnings, or have code that uses both lexical warnings and <code>$^W</code>, this section will describe how they interact.</p>

<p>How Lexical Warnings interact with <b>-w</b>/<code>$^W</code>:</p>

<ol>

<li><p>If none of the three command line flags (<b>-w</b>, <b>-W</b> or <b>-X</b>) that control warnings is used and neither <code>$^W</code> or the <code>warnings</code> pragma are used, then default warnings will be enabled and optional warnings disabled. This means that legacy code that doesn&#39;t attempt to control the warnings will work unchanged.</p>

</li>
<li><p>The <b>-w</b> flag just sets the global <code>$^W</code> variable as in 5.005 -- this means that any legacy code that currently relies on manipulating <code>$^W</code> to control warning behavior will still work as is.</p>

</li>
<li><p>Apart from now being a boolean, the <code>$^W</code> variable operates in exactly the same horrible uncontrolled global way, except that it cannot disable/enable default warnings.</p>

</li>
<li><p>If a piece of code is under the control of the <code>warnings</code> pragma, both the <code>$^W</code> variable and the <b>-w</b> flag will be ignored for the scope of the lexical warning.</p>

</li>
<li><p>The only way to override a lexical warnings setting is with the <b>-W</b> or <b>-X</b> command line flags.</p>

</li>
</ol>

<p>The combined effect of 3 &amp; 4 is that it will will allow code which uses the <code>warnings</code> pragma to control the warning behavior of $^W-type code (using a <code>local $^W=0</code>) if it really wants to, but not vice-versa.</p>

<h2 id="Category-Hierarchy"><a class="permalink" href="#Category-Hierarchy">#</a><a id="Category"></a>Category Hierarchy</h2>

<p>A hierarchy of &quot;categories&quot; have been defined to allow groups of warnings to be enabled/disabled in isolation.</p>

<p>The current hierarchy is:</p>

<pre><code class="plaintext">all -+
     |
     +- chmod
     |
     +- closure
     |
     +- exiting
     |
     +- glob
     |
     +- io -----------+
     |                |
     |                +- closed
     |                |
     |                +- exec
     |                |
     |                +- newline
     |                |
     |                +- pipe
     |                |
     |                +- unopened
     |
     +- misc
     |
     +- numeric
     |
     +- once
     |
     +- overflow
     |
     +- pack
     |
     +- portable
     |
     +- recursion
     |
     +- redefine
     |
     +- regexp
     |
     +- severe -------+
     |                |
     |                +- debugging
     |                |
     |                +- inplace
     |                |
     |                +- internal
     |                |
     |                +- malloc
     |
     +- signal
     |
     +- substr
     |
     +- syntax -------+
     |                |
     |                +- ambiguous
     |                |
     |                +- bareword
     |                |
     |                +- deprecated
     |                |
     |                +- digit
     |                |
     |                +- parenthesis
     |                |
     |                +- precedence
     |                |
     |                +- printf
     |                |
     |                +- prototype
     |                |
     |                +- qw
     |                |
     |                +- reserved
     |                |
     |                +- semicolon
     |
     +- taint
     |
     +- umask
     |
     +- uninitialized
     |
     +- unpack
     |
     +- untie
     |
     +- utf8
     |
     +- void
     |
     +- y2k</code></pre>

<p>Just like the &quot;strict&quot; pragma any of these categories can be combined</p>

<pre><code>use warnings qw(void redefine) ;
no warnings qw(io syntax untie) ;</code></pre>

<p>Also like the &quot;strict&quot; pragma, if there is more than one instance of the <code>warnings</code> pragma in a given scope the cumulative effect is additive.</p>

<pre><code>use warnings qw(void) ; # only &quot;void&quot; warnings enabled
...
use warnings qw(io) ;   # only &quot;void&quot; &amp; &quot;io&quot; warnings enabled
...
no warnings qw(void) ;  # only &quot;io&quot; warnings enabled</code></pre>

<p>To determine which category a specific warning has been assigned to see <a href="perldiag.html">perldiag</a>.</p>

<h2 id="Fatal-Warnings"><a class="permalink" href="#Fatal-Warnings">#</a><a id="Fatal"></a>Fatal Warnings</h2>

<p>The presence of the word &quot;FATAL&quot; in the category list will escalate any warnings detected from the categories specified in the lexical scope into fatal errors. In the code below, there are 3 places where a deprecated warning will be detected, the middle one will produce a fatal error.</p>

<pre><code>use warnings ;

$a = 1 if $a EQ $b ;

{
    use warnings FATAL =&gt; qw(deprecated) ;
    $a = 1 if $a EQ $b ;
}

$a = 1 if $a EQ $b ;</code></pre>

<h2 id="Reporting-Warnings-from-a-Module"><a class="permalink" href="#Reporting-Warnings-from-a-Module">#</a><a id="Reporting"></a>Reporting Warnings from a Module</h2>

<p>The <code>warnings</code> pragma provides a number of functions that are useful for module authors. These are used when you want to report a module-specific warning when the calling module has enabled warnings via the <code>warnings</code> pragma.</p>

<p>Consider the module <code>MyMod::Abc</code> below.</p>

<pre><code>package MyMod::Abc;

use warnings::register;

sub open {
    my $path = shift ;
    if (warnings::enabled() &amp;&amp; $path !~ m#^/#) {
        warnings::warn(&quot;changing relative path to /tmp/&quot;);
        $path = &quot;/tmp/$path&quot; ; 
    }
}

1 ;</code></pre>

<p>The call to <code>warnings::register</code> will create a new warnings category called &quot;MyMod::abc&quot;, i.e. the new category name matches the module name. The <code>open</code> function in the module will display a warning message if it gets given a relative path as a parameter. This warnings will only be displayed if the code that uses <code>MyMod::Abc</code> has actually enabled them with the <code>warnings</code> pragma like below.</p>

<pre><code>use MyMod::Abc;
use warnings &#39;MyMod::Abc&#39;;
...
abc::open(&quot;../fred.txt&quot;);</code></pre>

<p>It is also possible to test whether the pre-defined warnings categories are set in the calling module with the <code>warnings::enabled</code> function. Consider this snippet of code:</p>

<pre><code>package MyMod::Abc;

sub open {
    if (warnings::enabled(&quot;deprecated&quot;)) {
        warnings::warn(&quot;deprecated&quot;, 
                       &quot;open is deprecated, use new instead&quot;) ;
    }
    new(@_) ;
}

sub new
...
1 ;</code></pre>

<p>The function <code>open</code> has been deprecated, so code has been included to display a warning message whenever the calling module has (at least) the &quot;deprecated&quot; warnings category enabled. Something like this, say.</p>

<pre><code>use warnings &#39;deprecated&#39;;
use MyMod::Abc;
...
MyMod::Abc::open($filename) ;</code></pre>

<p>The <code>warnings::warn</code> function should be used to actually display the warnings message. This is because they can make use of the feature that allows warnings to be escalated into fatal errors. So in this case</p>

<pre><code>use MyMod::Abc;
use warnings FATAL =&gt; &#39;MyMod::Abc&#39;;
...
MyMod::Abc::open(&#39;../fred.txt&#39;);</code></pre>

<p>the <code>warnings::warn</code> function will detect this and die after displaying the warning message.</p>

<h1 id="TODO"><a class="permalink" href="#TODO">#</a>TODO</h1>

<pre><code class="plaintext">perl5db.pl
  The debugger saves and restores C&lt;$^W&gt; at runtime. I haven&#39;t checked
  whether the debugger will still work with the lexical warnings
  patch applied.

diagnostics.pm
  I *think* I&#39;ve got diagnostics to work with the lexical warnings
  patch, but there were design decisions made in diagnostics to work
  around the limitations of C&lt;$^W&gt;. Now that those limitations are gone,
  the module should be revisited.</code></pre>

<h1 id="SEE-ALSO"><a class="permalink" href="#SEE-ALSO">#</a><a id="SEE"></a>SEE ALSO</h1>

<p><a href="https://perldoc.perl.org/5.6.0/warnings">warnings</a>, <a href="perldiag.html">perldiag</a>.</p>

<h1 id="AUTHOR"><a class="permalink" href="#AUTHOR">#</a>AUTHOR</h1>

<p>Paul Marquess</p>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/5.6.0/perllexwarn by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:46 GMT -->
</html>
