<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from perldoc.perl.org/5.005/perlapio by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>perlapio - perl&#39;s IO abstraction interface. - Perldoc Browser</title>
    <link rel="search" href="../opensearch.xml" type="application/opensearchdescription+xml" title="Perldoc Browser">
    <link rel="canonical" href="../perlapio.html">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/stackoverflow-light.min.css" rel="stylesheet">
    <link href="../css/perldoc.css" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KVNWBNT5FB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KVNWBNT5FB');
      gtag('config', 'UA-50555-3');
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md bg-dark" data-bs-theme="dark"><div class="container-fluid">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html"><img src="../images/perl_camel_30.png" width="30" height="30" class="d-inline-block align-text-top" alt="Perl Camel Logo"> Perldoc Browser</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav me-auto">
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-stable" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">5.005</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-stable">
          <a class="dropdown-item" href="../perlapio.html">Latest</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0/perlapio">5.42.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3/perlapio">5.40.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.2/perlapio">5.40.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.1/perlapio">5.40.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.0/perlapio">5.40.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5/perlapio">5.38.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.4/perlapio">5.38.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.3/perlapio">5.38.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.2/perlapio">5.38.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.1/perlapio">5.38.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.0/perlapio">5.38.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.3/perlapio">5.36.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.2/perlapio">5.36.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.1/perlapio">5.36.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.36.0/perlapio">5.36.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.3/perlapio">5.34.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.2/perlapio">5.34.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.1/perlapio">5.34.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.34.0/perlapio">5.34.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.1/perlapio">5.32.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.32.0/perlapio">5.32.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.3/perlapio">5.30.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.2/perlapio">5.30.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.1/perlapio">5.30.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.30.0/perlapio">5.30.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.3/perlapio">5.28.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.2/perlapio">5.28.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.1/perlapio">5.28.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.28.0/perlapio">5.28.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.3/perlapio">5.26.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.2/perlapio">5.26.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.1/perlapio">5.26.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.26.0/perlapio">5.26.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.4/perlapio">5.24.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.3/perlapio">5.24.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.2/perlapio">5.24.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.1/perlapio">5.24.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.24.0/perlapio">5.24.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.4/perlapio">5.22.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.3/perlapio">5.22.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.2/perlapio">5.22.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.1/perlapio">5.22.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.22.0/perlapio">5.22.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.3/perlapio">5.20.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.2/perlapio">5.20.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.1/perlapio">5.20.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.20.0/perlapio">5.20.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.4/perlapio">5.18.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.3/perlapio">5.18.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.2/perlapio">5.18.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.1/perlapio">5.18.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.18.0/perlapio">5.18.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.3/perlapio">5.16.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.2/perlapio">5.16.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.1/perlapio">5.16.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.16.0/perlapio">5.16.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.4/perlapio">5.14.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.3/perlapio">5.14.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.2/perlapio">5.14.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.1/perlapio">5.14.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.14.0/perlapio">5.14.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.5/perlapio">5.12.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.4/perlapio">5.12.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.3/perlapio">5.12.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.2/perlapio">5.12.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.1/perlapio">5.12.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.12.0/perlapio">5.12.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.1/perlapio">5.10.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.10.0/perlapio">5.10.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.9/perlapio">5.8.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.8/perlapio">5.8.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.7/perlapio">5.8.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.6/perlapio">5.8.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.5/perlapio">5.8.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.4/perlapio">5.8.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.3/perlapio">5.8.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.2/perlapio">5.8.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.1/perlapio">5.8.1</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.8.0/perlapio">5.8.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.6.2/perlapio.html">5.6.2</a>
          <a class="dropdown-item" href="../5.6.1/perlapio.html">5.6.1</a>
          <a class="dropdown-item" href="../5.6.0/perlapio.html">5.6.0</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="../5.005_04/perlapio.html">5.005_04</a>
          <a class="dropdown-item" href="../5.005_03/perlapio.html">5.005_03</a>
          <a class="dropdown-item" href="../5.005_02/perlapio.html">5.005_02</a>
          <a class="dropdown-item" href="../5.005_01/perlapio.html">5.005_01</a>
          <a class="dropdown-item active" href="perlapio.html">5.005</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-dev" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dev</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-dev">
          <a class="dropdown-item" href="https://perldoc.perl.org/blead/perlapio">blead</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.43.1/perlapio">5.43.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC3/perlapio">5.42.0-RC3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC2/perlapio">5.42.0-RC2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.42.0-RC1/perlapio">5.42.0-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.13/perlapio">5.41.13</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.12/perlapio">5.41.12</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.11/perlapio">5.41.11</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.10/perlapio">5.41.10</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.9/perlapio">5.41.9</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.8/perlapio">5.41.8</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.7/perlapio">5.41.7</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.6/perlapio">5.41.6</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.5/perlapio">5.41.5</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.4/perlapio">5.41.4</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.3/perlapio">5.41.3</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.2/perlapio">5.41.2</a>
          <a class="dropdown-item" href="https://perldoc.perl.org/5.41.1/perlapio">5.41.1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.40.3-RC1/perlapio">5.40.3-RC1</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="https://perldoc.perl.org/5.38.5-RC1/perlapio">5.38.5-RC1</a>
        </div>
      </li>
      <li class="nav-item dropdown text-nowrap">
        <a class="nav-link dropdown-toggle" href="#" id="dropdownlink-nav" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu" aria-labelledby="dropdownlink-nav">
          <a class="dropdown-item" href="perl.html">Perl</a>
          <a class="dropdown-item" href="perlintro.html">Intro</a>
          <a class="dropdown-item" href="perl.html#Tutorials">Tutorials</a>
          <a class="dropdown-item" href="perlfaq.html">FAQs</a>
          <a class="dropdown-item" href="perl.html#Reference-Manual">Reference</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perlop.html">Operators</a>
          <a class="dropdown-item" href="functions.html">Functions</a>
          <a class="dropdown-item" href="variables.html">Variables</a>
          <a class="dropdown-item" href="modules.html">Modules</a>
          <a class="dropdown-item" href="perlutil.html">Utilities</a>
          <hr class="dropdown-divider">
          <a class="dropdown-item" href="perldelta.html">Release Notes</a>
          <a class="dropdown-item" href="perlcommunity.html">Community</a>
          <a class="dropdown-item" href="perlhist.html">History</a>
        </div>
      </li>
    </ul>
    <ul class="navbar-nav">
      <button id="content-expand-button" type="button" class="btn btn-dark d-none d-lg-inline-block me-4">Expand</button>
      <script src="../js/perldoc-expand-page.js"></script>
    </ul>
    <form class="form-inline" method="get" action="https://perldoc.perl.org/5.005/search">
      <input id="search-input" class="form-control me-3" type="search" name="q" placeholder="[S]earch" aria-label="Search" value="">
    </form>
    <script src="../js/perldoc-focus-search.js"></script>
  </div>
</div></nav>

    <div id="wrapperlicious" class="container-fluid">
      <div id="perldocdiv">
        <div id="links">
          <a href="perlapio.html">perlapio</a>
          <div id="more">
            (<a href="https://perldoc.perl.org/5.005/perlapio.txt">source</a>,
            <a href="https://metacpan.org/pod/perlapio">CPAN</a>)
          </div>
        </div>
        <div class="leading-notice">
          You are viewing the version of this documentation from Perl 5.005.
            <a href="../perlapio.html">View the latest version</a>
        </div>
        <h1><a id="toc">CONTENTS</a></h1>
                  <ul>
              <li>
                <a class="text-decoration-none" href="#NAME">NAME</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a>
                            <ul>
              <li>
                <a class="text-decoration-none" href="#Co-existence-with-stdio">Co-existence with stdio</a>
              </li>
          </ul>

              </li>
          </ul>

      <h1 id="NAME"><a class="permalink" href="#NAME">#</a>NAME</h1>

<p>perlapio - perl&#39;s IO abstraction interface.</p>

<h1 id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">#</a>SYNOPSIS</h1>

<pre><code>PerlIO *PerlIO_stdin(void);
PerlIO *PerlIO_stdout(void);
PerlIO *PerlIO_stderr(void);

PerlIO *PerlIO_open(const char *,const char *);
int     PerlIO_close(PerlIO *);

int     PerlIO_stdoutf(const char *,...)
int     PerlIO_puts(PerlIO *,const char *);
int     PerlIO_putc(PerlIO *,int);
int     PerlIO_write(PerlIO *,const void *,size_t);
int     PerlIO_printf(PerlIO *, const char *,...);
int     PerlIO_vprintf(PerlIO *, const char *, va_list);
int     PerlIO_flush(PerlIO *);

int     PerlIO_eof(PerlIO *);
int     PerlIO_error(PerlIO *);
void    PerlIO_clearerr(PerlIO *);

int     PerlIO_getc(PerlIO *);
int     PerlIO_ungetc(PerlIO *,int);
int     PerlIO_read(PerlIO *,void *,size_t);

int     PerlIO_fileno(PerlIO *);
PerlIO *PerlIO_fdopen(int, const char *);
PerlIO *PerlIO_importFILE(FILE *, int flags);
FILE   *PerlIO_exportFILE(PerlIO *, int flags);
FILE   *PerlIO_findFILE(PerlIO *);
void    PerlIO_releaseFILE(PerlIO *,FILE *);

void    PerlIO_setlinebuf(PerlIO *);

long    PerlIO_tell(PerlIO *);
int     PerlIO_seek(PerlIO *,off_t,int);
int     PerlIO_getpos(PerlIO *,Fpos_t *)
int     PerlIO_setpos(PerlIO *,Fpos_t *)
void    PerlIO_rewind(PerlIO *);

int     PerlIO_has_base(PerlIO *);
int     PerlIO_has_cntptr(PerlIO *);
int     PerlIO_fast_gets(PerlIO *);
int     PerlIO_canset_cnt(PerlIO *);

char   *PerlIO_get_ptr(PerlIO *);
int     PerlIO_get_cnt(PerlIO *);
void    PerlIO_set_cnt(PerlIO *,int);
void    PerlIO_set_ptrcnt(PerlIO *,char *,int);
char   *PerlIO_get_base(PerlIO *);
int     PerlIO_get_bufsiz(PerlIO *);</code></pre>

<h1 id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">#</a>DESCRIPTION</h1>

<p>Perl&#39;s source code should use the above functions instead of those defined in ANSI C&#39;s <i>stdio.h</i>. The perl headers will <code>#define</code> them to the I/O mechanism selected at Configure time.</p>

<p>The functions are modeled on those in <i>stdio.h</i>, but parameter order has been &quot;tidied up a little&quot;.</p>

<dl>

<dt id="PerlIO-*"><a class="permalink" href="#PerlIO-*">#</a><a id="PerlIO"></a><b>PerlIO *</b></dt>
<dd>

<p>This takes the place of FILE *. Like FILE * it should be treated as opaque (it is probably safe to assume it is a pointer to something).</p>

</dd>
<dt id="PerlIO_stdin(),-PerlIO_stdout(),-PerlIO_stderr()"><a class="permalink" href="#PerlIO_stdin(),-PerlIO_stdout(),-PerlIO_stderr()">#</a><a id="PerlIO_stdin"></a><a id="PerlIO_stdin-PerlIO_stdout-PerlIO_stderr"></a><b>PerlIO_stdin()</b>, <b>PerlIO_stdout()</b>, <b>PerlIO_stderr()</b></dt>
<dd>

<p>Use these rather than <code>stdin</code>, <code>stdout</code>, <code>stderr</code>. They are written to look like &quot;function calls&quot; rather than variables because this makes it easier to <i>make them</i> function calls if platform cannot export data to loaded modules, or if (say) different &quot;threads&quot; might have different values.</p>

</dd>
<dt id="PerlIO_open(path,-mode),-PerlIO_fdopen(fd,mode)"><a class="permalink" href="#PerlIO_open(path,-mode),-PerlIO_fdopen(fd,mode)">#</a><a id="PerlIO_open"></a><a id="PerlIO_open-path-mode-PerlIO_fdopen-fd-mode"></a><b>PerlIO_open(path, mode)</b>, <b>PerlIO_fdopen(fd,mode)</b></dt>
<dd>

<p>These correspond to fopen()/fdopen() arguments are the same.</p>

</dd>
<dt id="PerlIO_printf(f,fmt,...),-PerlIO_vprintf(f,fmt,a)"><a class="permalink" href="#PerlIO_printf(f,fmt,...),-PerlIO_vprintf(f,fmt,a)">#</a><a id="PerlIO_printf"></a><a id="PerlIO_printf-f-fmt-...-PerlIO_vprintf-f-fmt-a"></a><b>PerlIO_printf(f,fmt,...)</b>, <b>PerlIO_vprintf(f,fmt,a)</b></dt>
<dd>

<p>These are fprintf()/vfprintf() equivalents.</p>

</dd>
<dt id="PerlIO_stdoutf(fmt,...)"><a class="permalink" href="#PerlIO_stdoutf(fmt,...)">#</a><a id="PerlIO_stdoutf"></a><a id="PerlIO_stdoutf-fmt"></a><b>PerlIO_stdoutf(fmt,...)</b></dt>
<dd>

<p>This is printf() equivalent. printf is #defined to this function, so it is (currently) legal to use <code>printf(fmt,...)</code> in perl sources.</p>

</dd>
<dt id="PerlIO_read(f,buf,count),-PerlIO_write(f,buf,count)"><a class="permalink" href="#PerlIO_read(f,buf,count),-PerlIO_write(f,buf,count)">#</a><a id="PerlIO_read"></a><a id="PerlIO_read-f-buf-count-PerlIO_write-f-buf-count"></a><b>PerlIO_read(f,buf,count)</b>, <b>PerlIO_write(f,buf,count)</b></dt>
<dd>

<p>These correspond to fread() and fwrite(). Note that arguments are different, there is only one &quot;count&quot; and order has &quot;file&quot; first.</p>

</dd>
<dt id="PerlIO_close(f)"><a class="permalink" href="#PerlIO_close(f)">#</a><a id="PerlIO_close"></a><a id="PerlIO_close-f"></a><b>PerlIO_close(f)</b></dt>
<dd>

</dd>
<dt id="PerlIO_puts(f,s),-PerlIO_putc(f,c)"><a class="permalink" href="#PerlIO_puts(f,s),-PerlIO_putc(f,c)">#</a><a id="PerlIO_puts"></a><a id="PerlIO_puts-f-s-PerlIO_putc-f-c"></a><b>PerlIO_puts(f,s)</b>, <b>PerlIO_putc(f,c)</b></dt>
<dd>

<p>These correspond to fputs() and fputc(). Note that arguments have been revised to have &quot;file&quot; first.</p>

</dd>
<dt id="PerlIO_ungetc(f,c)"><a class="permalink" href="#PerlIO_ungetc(f,c)">#</a><a id="PerlIO_ungetc"></a><a id="PerlIO_ungetc-f-c"></a><b>PerlIO_ungetc(f,c)</b></dt>
<dd>

<p>This corresponds to ungetc(). Note that arguments have been revised to have &quot;file&quot; first.</p>

</dd>
<dt id="PerlIO_getc(f)"><a class="permalink" href="#PerlIO_getc(f)">#</a><a id="PerlIO_getc"></a><a id="PerlIO_getc-f"></a><b>PerlIO_getc(f)</b></dt>
<dd>

<p>This corresponds to getc().</p>

</dd>
<dt id="PerlIO_eof(f)"><a class="permalink" href="#PerlIO_eof(f)">#</a><a id="PerlIO_eof"></a><a id="PerlIO_eof-f"></a><b>PerlIO_eof(f)</b></dt>
<dd>

<p>This corresponds to feof().</p>

</dd>
<dt id="PerlIO_error(f)"><a class="permalink" href="#PerlIO_error(f)">#</a><a id="PerlIO_error"></a><a id="PerlIO_error-f"></a><b>PerlIO_error(f)</b></dt>
<dd>

<p>This corresponds to ferror().</p>

</dd>
<dt id="PerlIO_fileno(f)"><a class="permalink" href="#PerlIO_fileno(f)">#</a><a id="PerlIO_fileno"></a><a id="PerlIO_fileno-f"></a><b>PerlIO_fileno(f)</b></dt>
<dd>

<p>This corresponds to fileno(), note that on some platforms, the meaning of &quot;fileno&quot; may not match Unix.</p>

</dd>
<dt id="PerlIO_clearerr(f)"><a class="permalink" href="#PerlIO_clearerr(f)">#</a><a id="PerlIO_clearerr"></a><a id="PerlIO_clearerr-f"></a><b>PerlIO_clearerr(f)</b></dt>
<dd>

<p>This corresponds to clearerr(), i.e., clears &#39;eof&#39; and &#39;error&#39; flags for the &quot;stream&quot;.</p>

</dd>
<dt id="PerlIO_flush(f)"><a class="permalink" href="#PerlIO_flush(f)">#</a><a id="PerlIO_flush"></a><a id="PerlIO_flush-f"></a><b>PerlIO_flush(f)</b></dt>
<dd>

<p>This corresponds to fflush().</p>

</dd>
<dt id="PerlIO_tell(f)"><a class="permalink" href="#PerlIO_tell(f)">#</a><a id="PerlIO_tell"></a><a id="PerlIO_tell-f"></a><b>PerlIO_tell(f)</b></dt>
<dd>

<p>This corresponds to ftell().</p>

</dd>
<dt id="PerlIO_seek(f,o,w)"><a class="permalink" href="#PerlIO_seek(f,o,w)">#</a><a id="PerlIO_seek"></a><a id="PerlIO_seek-f-o-w"></a><b>PerlIO_seek(f,o,w)</b></dt>
<dd>

<p>This corresponds to fseek().</p>

</dd>
<dt id="PerlIO_getpos(f,p),-PerlIO_setpos(f,p)"><a class="permalink" href="#PerlIO_getpos(f,p),-PerlIO_setpos(f,p)">#</a><a id="PerlIO_getpos"></a><a id="PerlIO_getpos-f-p-PerlIO_setpos-f-p"></a><b>PerlIO_getpos(f,p)</b>, <b>PerlIO_setpos(f,p)</b></dt>
<dd>

<p>These correspond to fgetpos() and fsetpos(). If platform does not have the stdio calls then they are implemented in terms of PerlIO_tell() and PerlIO_seek().</p>

</dd>
<dt id="PerlIO_rewind(f)"><a class="permalink" href="#PerlIO_rewind(f)">#</a><a id="PerlIO_rewind"></a><a id="PerlIO_rewind-f"></a><b>PerlIO_rewind(f)</b></dt>
<dd>

<p>This corresponds to rewind(). Note may be redefined in terms of PerlIO_seek() at some point.</p>

</dd>
<dt id="PerlIO_tmpfile()"><a class="permalink" href="#PerlIO_tmpfile()">#</a><a id="PerlIO_tmpfile"></a><b>PerlIO_tmpfile()</b></dt>
<dd>

<p>This corresponds to tmpfile(), i.e., returns an anonymous PerlIO which will automatically be deleted when closed.</p>

</dd>
</dl>

<h2 id="Co-existence-with-stdio"><a class="permalink" href="#Co-existence-with-stdio">#</a><a id="Co"></a>Co-existence with stdio</h2>

<p>There is outline support for co-existence of PerlIO with stdio. Obviously if PerlIO is implemented in terms of stdio there is no problem. However if perlio is implemented on top of (say) sfio then mechanisms must exist to create a FILE * which can be passed to library code which is going to use stdio calls.</p>

<dl>

<dt id="PerlIO_importFILE(f,flags)"><a class="permalink" href="#PerlIO_importFILE(f,flags)">#</a><a id="PerlIO_importFILE"></a><a id="PerlIO_importFILE-f-flags"></a><b>PerlIO_importFILE(f,flags)</b></dt>
<dd>

<p>Used to get a PerlIO * from a FILE *. May need additional arguments, interface under review.</p>

</dd>
<dt id="PerlIO_exportFILE(f,flags)"><a class="permalink" href="#PerlIO_exportFILE(f,flags)">#</a><a id="PerlIO_exportFILE"></a><a id="PerlIO_exportFILE-f-flags"></a><b>PerlIO_exportFILE(f,flags)</b></dt>
<dd>

<p>Given an PerlIO * return a &#39;native&#39; FILE * suitable for passing to code expecting to be compiled and linked with ANSI C <i>stdio.h</i>.</p>

<p>The fact that such a FILE * has been &#39;exported&#39; is recorded, and may affect future PerlIO operations on the original PerlIO *.</p>

</dd>
<dt id="PerlIO_findFILE(f)"><a class="permalink" href="#PerlIO_findFILE(f)">#</a><a id="PerlIO_findFILE"></a><a id="PerlIO_findFILE-f"></a><b>PerlIO_findFILE(f)</b></dt>
<dd>

<p>Returns previously &#39;exported&#39; FILE * (if any). Place holder until interface is fully defined.</p>

</dd>
<dt id="PerlIO_releaseFILE(p,f)"><a class="permalink" href="#PerlIO_releaseFILE(p,f)">#</a><a id="PerlIO_releaseFILE"></a><a id="PerlIO_releaseFILE-p-f"></a><b>PerlIO_releaseFILE(p,f)</b></dt>
<dd>

<p>Calling PerlIO_releaseFILE informs PerlIO that all use of FILE * is complete. It is removed from list of &#39;exported&#39; FILE *s, and associated PerlIO * should revert to original behaviour.</p>

</dd>
<dt id="PerlIO_setlinebuf(f)"><a class="permalink" href="#PerlIO_setlinebuf(f)">#</a><a id="PerlIO_setlinebuf"></a><a id="PerlIO_setlinebuf-f"></a><b>PerlIO_setlinebuf(f)</b></dt>
<dd>

<p>This corresponds to setlinebuf(). Use is deprecated pending further discussion. (Perl core uses it <i>only</i> when &quot;dumping&quot;; it has nothing to do with $| auto-flush.)</p>

</dd>
</dl>

<p>In addition to user API above there is an &quot;implementation&quot; interface which allows perl to get at internals of PerlIO. The following calls correspond to the various FILE_xxx macros determined by Configure. This section is really of interest to only those concerned with detailed perl-core behaviour or implementing a PerlIO mapping.</p>

<dl>

<dt id="PerlIO_has_cntptr(f)"><a class="permalink" href="#PerlIO_has_cntptr(f)">#</a><a id="PerlIO_has_cntptr"></a><a id="PerlIO_has_cntptr-f"></a><b>PerlIO_has_cntptr(f)</b></dt>
<dd>

<p>Implementation can return pointer to current position in the &quot;buffer&quot; and a count of bytes available in the buffer.</p>

</dd>
<dt id="PerlIO_get_ptr(f)"><a class="permalink" href="#PerlIO_get_ptr(f)">#</a><a id="PerlIO_get_ptr"></a><a id="PerlIO_get_ptr-f"></a><b>PerlIO_get_ptr(f)</b></dt>
<dd>

<p>Return pointer to next readable byte in buffer.</p>

</dd>
<dt id="PerlIO_get_cnt(f)"><a class="permalink" href="#PerlIO_get_cnt(f)">#</a><a id="PerlIO_get_cnt"></a><a id="PerlIO_get_cnt-f"></a><b>PerlIO_get_cnt(f)</b></dt>
<dd>

<p>Return count of readable bytes in the buffer.</p>

</dd>
<dt id="PerlIO_canset_cnt(f)"><a class="permalink" href="#PerlIO_canset_cnt(f)">#</a><a id="PerlIO_canset_cnt"></a><a id="PerlIO_canset_cnt-f"></a><b>PerlIO_canset_cnt(f)</b></dt>
<dd>

<p>Implementation can adjust its idea of number of bytes in the buffer.</p>

</dd>
<dt id="PerlIO_fast_gets(f)"><a class="permalink" href="#PerlIO_fast_gets(f)">#</a><a id="PerlIO_fast_gets"></a><a id="PerlIO_fast_gets-f"></a><b>PerlIO_fast_gets(f)</b></dt>
<dd>

<p>Implementation has all the interfaces required to allow perl&#39;s fast code to handle &lt;FILE&gt; mechanism.</p>

<pre><code class="plaintext">PerlIO_fast_gets(f) = PerlIO_has_cntptr(f) &amp;&amp; \
                      PerlIO_canset_cnt(f) &amp;&amp; \
                      `Can set pointer into buffer&#39;</code></pre>

</dd>
<dt id="PerlIO_set_ptrcnt(f,p,c)"><a class="permalink" href="#PerlIO_set_ptrcnt(f,p,c)">#</a><a id="PerlIO_set_ptrcnt"></a><a id="PerlIO_set_ptrcnt-f-p-c"></a><b>PerlIO_set_ptrcnt(f,p,c)</b></dt>
<dd>

<p>Set pointer into buffer, and a count of bytes still in the buffer. Should be used only to set pointer to within range implied by previous calls to <code>PerlIO_get_ptr</code> and <code>PerlIO_get_cnt</code>.</p>

</dd>
<dt id="PerlIO_set_cnt(f,c)"><a class="permalink" href="#PerlIO_set_cnt(f,c)">#</a><a id="PerlIO_set_cnt"></a><a id="PerlIO_set_cnt-f-c"></a><b>PerlIO_set_cnt(f,c)</b></dt>
<dd>

<p>Obscure - set count of bytes in the buffer. Deprecated. Currently used in only doio.c to force count &lt; -1 to -1. Perhaps should be PerlIO_set_empty or similar. This call may actually do nothing if &quot;count&quot; is deduced from pointer and a &quot;limit&quot;.</p>

</dd>
<dt id="PerlIO_has_base(f)"><a class="permalink" href="#PerlIO_has_base(f)">#</a><a id="PerlIO_has_base"></a><a id="PerlIO_has_base-f"></a><b>PerlIO_has_base(f)</b></dt>
<dd>

<p>Implementation has a buffer, and can return pointer to whole buffer and its size. Used by perl for <b>-T</b> / <b>-B</b> tests. Other uses would be very obscure...</p>

</dd>
<dt id="PerlIO_get_base(f)"><a class="permalink" href="#PerlIO_get_base(f)">#</a><a id="PerlIO_get_base"></a><a id="PerlIO_get_base-f"></a><b>PerlIO_get_base(f)</b></dt>
<dd>

<p>Return <i>start</i> of buffer.</p>

</dd>
<dt id="PerlIO_get_bufsiz(f)"><a class="permalink" href="#PerlIO_get_bufsiz(f)">#</a><a id="PerlIO_get_bufsiz"></a><a id="PerlIO_get_bufsiz-f"></a><b>PerlIO_get_bufsiz(f)</b></dt>
<dd>

<p>Return <i>total size</i> of buffer.</p>

</dd>
</dl>


      </div>
      <div id="footer">
        <p>Perldoc Browser is maintained by Dan Book (<a href="https://metacpan.org/author/DBOOK">DBOOK</a>). Please contact him via the <a href="https://github.com/Grinnz/perldoc-browser/issues">GitHub issue tracker</a> or <a href="mailto:dbook@cpan.org">email</a> regarding any issues with the site itself, search, or rendering of documentation.</p>

<p>The Perl documentation is maintained by the Perl 5 Porters in the development of Perl. Please contact them via the <a href="https://github.com/Perl/perl5/issues">Perl issue tracker</a>, the <a href="https://lists.perl.org/list/perl5-porters.html">mailing list</a>, or <a href="https://kiwiirc.com/client/irc.perl.org/p5p">IRC</a> to report any issues with the contents or format of the documentation.</p>


      </div>
    </div>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.highlightAll();</script>
  </body>

<!-- Mirrored from perldoc.perl.org/5.005/perlapio by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 16:20:48 GMT -->
</html>
